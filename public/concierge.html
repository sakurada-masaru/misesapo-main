<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <title>コンシェルジュ | ミセサポ</title>
    <link rel="icon" type="image/png" href="/images/logo_144x144.png" />
<link rel="shortcut icon" href="/images/logo_144x144.png" />
<link rel="apple-touch-icon" href="/images/logo_144x144.png" />
<link rel="stylesheet" href="/styles.css" />
<link rel="stylesheet" href="/css/header.css" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<!-- 
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet" />
-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
  body { font-family: 'Noto Sans JP', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif; }
  /* Brand theme variables (default + variants) */
  body { --primary: #FF679C; --primary-600: #E35687; }
  body.theme-pink { --primary: #FF679C; --primary-600: #E35687; }
  body.theme-blue { --primary: #2563eb; --primary-600: #1d4ed8; }
  body.theme-emerald { --primary: #10b981; --primary-600: #059669; }
  /* Note: :root also defines the same brand color; inline vars ensure early paint */
  </style>

  </head>
  <body class="theme-pink page-concierge">
    <div id="default-header-wrapper">
    <a class="skip-link" href="#main">メインコンテンツへスキップ</a>
<header id="header-guest" class="site-header" data-role="guest">
  <div class="inner wide">
    <div class="nav-left">
      <a class="brand brand-logo" href="/index.html" aria-label="ミセサポ ホーム">
        <img src="/images/logo_144x144.png" alt="ミセサポ" />
      </a>
      <nav id="nav-guest" class="nav-left hide-sm" aria-label="Primary">
        <!-- ナビゲーション項目はJavaScriptで動的に生成されます -->
      </nav>
    </div>
    <div class="spacer"></div>
    <nav class="nav-right hide-sm" aria-label="User">
      <span class="role-badge" style="padding: 4px 12px; background: #e5e7eb; color: #6b7280; border-radius: 4px; font-size: 0.875rem; font-weight: 500;">ゲスト</span>
      <a class="nav-link" href="/signin.html">ログイン</a>
      <a class="nav-link primary" href="/signup.html">新規登録</a>
      <button class="icon-btn" aria-label="通知">
        <i class="fas fa-bell"></i>
      </button>
      <button class="icon-btn" aria-label="ログアウト" onclick="window.Auth && window.Auth.logout()" style="display: none;">
        <i class="fas fa-sign-out-alt"></i>
      </button>
    </nav>
    <button class="hamburger-btn show-sm" aria-label="メニュー" aria-expanded="false" id="hamburger-btn">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
  <!-- スマホ版ナビゲーションメニュー -->
  <nav class="mobile-nav show-sm" id="mobile-nav" aria-label="モバイルナビゲーション">
    <div class="mobile-nav-content">
      <nav class="mobile-nav-primary" id="mobile-nav-primary" aria-label="Primary">
        <!-- ナビゲーション項目はJavaScriptで動的に生成されます -->
      </nav>
      <nav class="mobile-nav-user" aria-label="User">
        <span class="role-badge" style="padding: 4px 12px; background: #e5e7eb; color: #6b7280; border-radius: 4px; font-size: 0.875rem; font-weight: 500;">ゲスト</span>
        <a class="mobile-nav-link" href="/signin.html">ログイン</a>
        <a class="mobile-nav-link primary" href="/signup.html">新規登録</a>
      </nav>
    </div>
  </nav>
</header>

    </div>
    <!-- 通常ヘッダー（ログイン画面用） -->
    <div id="normal-header-wrapper" style="display: none;">
    <!-- 通常ヘッダー -->
<header class="normal-header">
    <div class="normal-header-inner">
        <div class="normal-header-logo">
            <a href="/">
                <img id="normal-header-logo-img" src="/images-material/logo_144x144.png" alt="ロゴ" onerror="this.style.display='none'">
            </a>
                </div>
        <nav class="normal-header-nav">
            <a href="/">TOP</a>
            <a href="/service.html">対応可能サービス</a>
            <a href="/lp.html#voice">お客様の声</a>
            <a href="/customers-support-desk.html">カスタマーズサポート</a>
            <a href="/announcements.html">お知らせ</a>
            <a href="/privacy-policy.html">規約＆ポリシー</a>
        </nav>
        <div class="normal-header-actions">
            <a href="/signin.html" class="normal-header-login">ログイン</a>
        </div>
            </div>
</header>


    </div>
    <!-- リリース前チェックボックス（清掃員関連ページでは非表示） -->
    <div id="release-check-section" class="release-check-section" data-hide-for-staff>
      <div class="release-check-container">
        <div class="release-check-label">リリース前チェック</div>
        <div class="release-check-boxes">
          <label class="release-check-item">
            <input type="checkbox" id="check-admin" class="release-checkbox" data-check-type="admin" />
            <span>管理者</span>
          </label>
          <label class="release-check-item">
            <input type="checkbox" id="check-developer" class="release-checkbox" data-check-type="developer" />
            <span>開発者</span>
          </label>
          <label class="release-check-item">
            <input type="checkbox" id="check-other" class="release-checkbox" data-check-type="other" />
            <span>その他</span>
          </label>
        </div>
      </div>
    </div>
    <main id="main">
      








<main id="main" class="concierge-page">
  <!-- 横スライドコンテナ -->
  <div class="concierge-slider-container">
    <div class="concierge-slider" id="concierge-slider">
      
      <!-- 画面1: アクティビティ画面（デフォルト） -->
      <div class="concierge-screen active" data-screen="activity">
        <div class="screen-header">
          <a href="/sales/dashboard.html" class="dashboard-link">
            <i class="fas fa-tachometer-alt"></i>
            <span>ダッシュボード</span>
    </a>
          <h1 class="screen-title">アクティビティ</h1>
  </div>

        <!-- 緊急対応が必要な顧客 -->
        <section class="activity-section urgent-section">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-exclamation-triangle"></i>
        緊急対応が必要な顧客
      </h2>
      <span class="urgent-badge" id="urgent-count">0</span>
    </div>
    <div class="urgent-list" id="urgent-list">
      <!-- Urgent items will be rendered by JavaScript -->
    </div>
  </section>

        <!-- 本日のスケジュール -->
        <section class="activity-section">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-calendar-day"></i>
        本日のスケジュール
      </h2>
    </div>
    <div class="schedule-list" id="schedule-list">
      <!-- Schedules will be rendered by JavaScript -->
    </div>
  </section>

        <!-- 新規問い合わせ -->
        <section class="activity-section">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-bell"></i>
        新規問い合わせ
        <span class="notification-badge" id="inquiry-count">0</span>
      </h2>
    </div>
    <div class="inquiry-list" id="inquiry-list">
      <!-- Inquiries will be rendered by JavaScript -->
    </div>
  </section>
      </div>

      <!-- 画面2: スケジュール画面 -->
      <div class="concierge-screen" data-screen="schedule">
        <div class="screen-header">
          <h1 class="screen-title">スケジュール</h1>
    </div>
        <div class="schedule-container" id="schedule-container">
          <!-- Schedule will be rendered by JavaScript -->
        </div>
        </div>

      <!-- 画面3: 顧客情報画面 -->
      <div class="concierge-screen" data-screen="client">
        <div class="screen-header">
          <h1 class="screen-title">顧客情報</h1>
      </div>
        <div class="client-info-container" id="client-info-container">
          <!-- Client info will be rendered by JavaScript -->
        </div>
        </div>

      <!-- 画面4: サービス・価格画面 -->
      <div class="concierge-screen" data-screen="services">
        <div class="screen-header">
          <h1 class="screen-title">サービス・価格</h1>
      </div>
        <div class="services-container" id="services-container">
          <!-- Services will be rendered by JavaScript -->
        </div>
        </div>

      <!-- 画面5: 仮見積もり作成画面 -->
      <div class="concierge-screen" data-screen="estimate">
        <div class="screen-header">
      </div>
        <div class="estimate-form-container" id="estimate-form-container">
          <!-- 合計見積もりを最上部に配置 -->
          <div class="estimate-total">
            <span class="total-label">合計見積もり</span>
            <span class="total-value" id="estimate-total">¥0</span>
        </div>
          <!-- 追加されたサービス一覧 -->
          <div class="selected-services" id="selected-services">
            <div class="empty-state">
              <i class="fas fa-shopping-cart"></i>
              <p>サービスを選択してください</p>
        </div>
      </div>
          <div class="estimate-photos" id="estimate-photos">
            <div class="photos-header">
              <h3>写真</h3>
              <button class="btn-photo-add" id="btn-photo-add">
                <i class="fas fa-camera"></i> 追加
              </button>
    </div>
            <div class="photos-grid" id="photos-grid">
              <!-- Photos will be added here -->
    </div>
      </div>
          <div class="estimate-notes">
            <label for="estimate-notes-input">メモ</label>
            <textarea id="estimate-notes-input" class="notes-input" placeholder="メモを入力してください"></textarea>
    </div>
          <div class="estimate-actions">
            <button class="btn-send" id="btn-send-estimate">
              <i class="fas fa-paper-plane"></i> 送信
            </button>
          </div>
        </div>
      </div>

      <!-- 画面6: TODOリスト画面 -->
      <div class="concierge-screen" data-screen="todo">
        <div class="screen-header">
          <h1 class="screen-title">TODOリスト</h1>
    </div>
        <div class="todo-container" id="todo-container">
          <div class="todo-input-section">
            <input type="text" id="todo-input" class="todo-input" placeholder="新しいTODOを追加..." />
            <button class="btn-todo-add" id="btn-todo-add">
              <i class="fas fa-plus"></i>
            </button>
          </div>
          <div class="todo-list" id="todo-list">
            <!-- TODO items will be rendered by JavaScript -->
          </div>
        </div>
      </div>

      <!-- 画面7: メモ帳画面 -->
      <div class="concierge-screen" data-screen="notes">
        <div class="screen-header">
          <h1 class="screen-title">メモ帳</h1>
        </div>
        <div class="notes-container" id="notes-container">
          <div class="notes-input-section">
            <textarea id="notes-input" class="notes-textarea" placeholder="メモを入力してください..."></textarea>
            <button class="btn-notes-save" id="btn-notes-save">
              <i class="fas fa-save"></i> 保存
            </button>
          </div>
          <div class="notes-list" id="notes-list">
            <!-- Notes will be rendered by JavaScript -->
          </div>
        </div>
      </div>

      <!-- 画面8: カメラ画面 -->
      <div class="concierge-screen" data-screen="camera">
        <div class="screen-header">
          <h1 class="screen-title">カメラ</h1>
        </div>
        <div class="camera-container" id="camera-container">
          <div class="camera-preview" id="camera-preview">
            <video id="camera-video" autoplay playsinline style="display: none;"></video>
            <canvas id="camera-canvas" style="display: none;"></canvas>
            <div class="camera-placeholder">
              <i class="fas fa-camera"></i>
              <p>カメラを起動してください</p>
            </div>
          </div>
          <div class="camera-controls">
            <button class="btn-camera-capture" id="btn-camera-capture">
              <i class="fas fa-circle"></i>
            </button>
            <button class="btn-camera-switch" id="btn-camera-switch">
              <i class="fas fa-sync-alt"></i>
            </button>
          </div>
          <div class="camera-gallery" id="camera-gallery">
            <!-- Captured photos will be displayed here -->
          </div>
        </div>
      </div>

      <!-- 画面9: 地図画面 -->
      <div class="concierge-screen" data-screen="map">
        <div class="screen-header">
          <h1 class="screen-title">地図</h1>
    </div>
        <div class="map-container" id="map-container">
          <div class="map-placeholder" id="map-placeholder">
            <i class="fas fa-map-marked-alt"></i>
            <p>地図を開く</p>
          </div>
          <div class="map-schedule-list" id="map-schedule-list">
            <!-- Map schedule will be rendered by JavaScript -->
          </div>
        </div>
      </div>

      <!-- 画面10: 仮見積もり概算画面 -->
      <div class="concierge-screen" data-screen="estimate-preview">
        <div class="screen-header">
          <h1 class="screen-title">仮見積もり（概算）</h1>
        </div>
        <div class="estimate-preview-container" id="estimate-preview-container">
          <div class="estimate-preview-content" id="estimate-preview-content">
            <!-- 概算内容はJavaScriptで動的に生成されます -->
          </div>
          <div class="estimate-preview-actions">
            <button class="btn-send" id="btn-send-preview">
              <i class="fas fa-paper-plane"></i> 送信
            </button>
          </div>
        </div>
      </div>

      <!-- 画面11: ログアウト画面 -->
      <div class="concierge-screen" data-screen="logout">
        <div class="screen-header">
          <h1 class="screen-title">ログアウト</h1>
        </div>
        <div class="logout-container" id="logout-container">
          <div class="logout-content">
            <i class="fas fa-sign-out-alt"></i>
            <h2>ログアウトしますか？</h2>
            <p>ログアウトすると、このアプリケーションから退出します。</p>
            <div class="logout-actions">
              <button class="btn-logout-cancel" id="btn-logout-cancel">
                キャンセル
              </button>
              <button class="btn-logout-confirm" id="btn-logout-confirm">
                <i class="fas fa-sign-out-alt"></i> ログアウト
              </button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- 画面下部固定クイックメニュー（一段目） -->
  <div class="concierge-quick-menu">
    <button class="quick-menu-btn" data-screen="activity" title="アクティビティ">
      <i class="fas fa-bolt"></i>
      <span>アクティビティ</span>
    </button>
    <button class="quick-menu-btn" data-screen="schedule" title="スケジュール">
        <i class="fas fa-calendar"></i>
      <span>スケジュール</span>
    </button>
    <button class="quick-menu-btn" data-screen="client" title="顧客情報">
      <i class="fas fa-user"></i>
      <span>顧客</span>
    </button>
    <button class="quick-menu-btn" data-screen="services" title="サービス一覧">
      <i class="fas fa-list"></i>
      <span>サービス</span>
    </button>
    <button class="quick-menu-btn" data-screen="estimate" title="仮見積もり">
      <i class="fas fa-file-invoice"></i>
      <span>見積</span>
    </button>
    </div>
  
  <!-- 二段目のメニュー -->
  <div class="concierge-quick-menu-second" id="quick-menu-second">
    <button class="quick-menu-btn-second" data-screen="todo" title="TODOリスト">
      <i class="fas fa-tasks"></i>
      <span>TODO</span>
    </button>
    <button class="quick-menu-btn-second" data-screen="notes" title="メモ帳">
      <i class="fas fa-sticky-note"></i>
      <span>メモ帳</span>
    </button>
    <button class="quick-menu-btn-second" data-screen="camera" title="カメラ">
      <i class="fas fa-camera"></i>
      <span>カメラ</span>
    </button>
    <button class="quick-menu-btn-second" data-screen="map" title="地図">
      <i class="fas fa-map-marked-alt"></i>
      <span>地図</span>
    </button>
    <button class="quick-menu-btn-second" data-screen="logout" title="ログアウト">
      <i class="fas fa-sign-out-alt"></i>
      <span>ログアウト</span>
    </button>
  </div>


  <!-- Data Scripts -->
  <script type="application/json" id="clients-data">
    {"clients": [{"company_name": "株式会社 Dart Ace", "company_name_kana": "", "brand_name": "A’s ダーツバー(Darts Bar A's )", "store_name": "日本橋茅場町店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "2025年3月19日 13:00", "url": "https://x.gd/AkFdE", "cleaning_frequency": "毎月清掃", "id": "2167ccb6"}, {"company_name": "株式会社 Dart Ace", "company_name_kana": "", "brand_name": "A’s ダーツバー(Darts Bar A's )", "store_name": "大塚店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "2025年3月20日 13:00", "url": "https://x.gd/AkFdE", "cleaning_frequency": "毎月清掃", "id": "bf9f6bcc"}, {"company_name": "株式会社 Dart Ace", "company_name_kana": "", "brand_name": "A’s ダーツバー(Darts Bar A's", "store_name": "高円寺店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "2025年3月21日 13:00", "url": "https://x.gd/AkFdE", "cleaning_frequency": "毎月清掃", "id": "703bafc0"}, {"company_name": "株式会社 Dart Ace", "company_name_kana": "", "brand_name": "A’s ダーツバー(Darts Bar A's", "store_name": "水道橋店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "2025年3月11日 7:00", "url": "https://x.gd/AkFdE", "cleaning_frequency": "毎月清掃", "id": "d5da5132"}, {"company_name": "株式会社 Dart Ace", "company_name_kana": "", "brand_name": "A’s ダーツバー(Darts Bar A's", "store_name": "神楽坂店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "2025年3月11日 13:00", "url": "https://x.gd/AkFdE", "cleaning_frequency": "毎月清掃", "id": "86cce202"}, {"company_name": "株式会社 GRAST", "company_name_kana": "", "brand_name": "手作りの味噌らーめん", "store_name": "味噌樽", "contact_person": "和田 賢次@渡邉社長紹介", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "アプローチ前", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "b94abbdc"}, {"company_name": "株式会社 GRAST", "company_name_kana": "", "brand_name": "北海道らーめん みそ熊", "store_name": "北千住店", "contact_person": "和田 賢次@渡邉社長紹介", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "アプローチ前", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "afeceb88"}, {"company_name": "株式会社 GRAST", "company_name_kana": "", "brand_name": "北海道らーめん みそ熊", "store_name": "王子店", "contact_person": "和田 賢次@渡邉社長紹介", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "アプローチ前", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "a0d05c48"}, {"company_name": "株式会社 SSG", "company_name_kana": "", "brand_name": "上海料理佳樹園", "store_name": "", "contact_person": "砂子田社長", "email": "", "sales_rep": "正田和輝", "store_count": "1店舗", "status": "稼働中", "notes": "4月から月2　グリストラップ清掃＋α", "next_date": "", "url": "", "cleaning_frequency": "２週間に１回", "id": "83816a1c"}, {"company_name": "株式会社 ゴーゴーカレーグループ", "company_name_kana": "", "brand_name": "ゴーゴーカレー", "store_name": "新宿東口駅前スタジアム", "contact_person": "松永", "email": "ksms.matsunaga@gmail.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "33d1da77"}, {"company_name": "株式会社2M8", "company_name_kana": "", "brand_name": "MASSIMOTTVIO", "store_name": "", "contact_person": "角谷店長", "email": "saigonkitchien@dedesuke.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "スポット清掃", "id": "65f8ddef"}, {"company_name": "株式会社Bright", "company_name_kana": "", "brand_name": "貸切居酒屋ラフェス", "store_name": "神田小川町店", "contact_person": "大江　ひとみ", "email": "", "sales_rep": "佐藤大志", "store_count": "", "status": "稼働中", "notes": "3月11日水道蛇口交換工事の依頼。外注合わせて60,000円のニーズがありました。その他に害虫害虫が気になるとのことで今後依頼する可能性あり。売り上げ的には至っていないが、今イベント活動しているため、今後フリーストラップ、床清掃などの提案し依頼される可能性あり", "next_date": "", "url": "", "cleaning_frequency": "", "id": "b5c24939"}, {"company_name": "株式会社CatchBall", "company_name_kana": "", "brand_name": "ラム肉専門店-隣のロッヂ", "store_name": "", "contact_person": "松倉", "email": "t.matsukura@hitsujinolodge.com", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "7/7 　清掃", "next_date": "", "url": "", "cleaning_frequency": "", "id": "1d895c6c"}, {"company_name": "株式会社CatchBall", "company_name_kana": "", "brand_name": "ようさい", "store_name": "", "contact_person": "松倉", "email": "t.matsukura@hitsujinolodge.com", "sales_rep": "", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "1d895c6c"}, {"company_name": "株式会社FELICE", "company_name_kana": "", "brand_name": "宮崎辛麺　辛麺屋一輪", "store_name": "", "contact_person": "幸谷 仁志", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "スポット依頼", "next_date": "", "url": "", "cleaning_frequency": "", "id": "a91ee1dc"}, {"company_name": "株式会社GOSSO", "company_name_kana": "", "brand_name": "0秒レモンサワー 仙台ホルモン焼肉酒場 ときわ亭", "store_name": "渋谷店", "contact_person": "國吉さん", "email": "kuniyoshi@gosso.co.jp", "sales_rep": "正田和輝", "store_count": "60店舗", "status": "稼働中", "notes": "定期清掃　月75,000円", "next_date": "", "url": "", "cleaning_frequency": "毎月清掃", "id": "1336062b"}, {"company_name": "株式会社GOSSO", "company_name_kana": "", "brand_name": "CRAFTCHEESEMARKET", "store_name": "渋谷店", "contact_person": "高橋", "email": "takahashi_t@gosso.co.jp", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "38a66680"}, {"company_name": "株式会社GRAST", "company_name_kana": "", "brand_name": "北海道らーめん みそ熊", "store_name": "王子店", "contact_person": "桑原政之", "email": "masayuki_kuwabara@mulbelea.co.jp", "sales_rep": "", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "f006e997"}, {"company_name": "株式会社HIRA", "company_name_kana": "", "brand_name": "SUNRIZE", "store_name": "大崎店", "contact_person": "ラミチャネ スリヤ", "email": "suryalami123 @gmail.com", "sales_rep": "正田和輝", "store_count": "", "status": "商談済", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "f61011d7"}, {"company_name": "株式会社INGS", "company_name_kana": "", "brand_name": "CONA 千葉駅前店", "store_name": "", "contact_person": "FC菅又さん", "email": "", "sales_rep": "佐藤大志", "store_count": "", "status": "契約作業中", "notes": "ビーエヌアイ村友さんからのご紹介。千葉の駅前にあるイタリアンのお店クリス。トラップ、ダクト清掃など含めて複数依頼あり。店舗差はこれから実施する。", "next_date": "", "url": "", "cleaning_frequency": "", "id": "059c922e"}, {"company_name": "株式会社Next Culture", "company_name_kana": "", "brand_name": "BAR　FD", "store_name": "", "contact_person": "かおん", "email": "", "sales_rep": "林大貴（浅倉麗央）", "store_count": "", "status": "稼働中", "notes": "ゴミ回収", "next_date": "", "url": "", "cleaning_frequency": "", "id": "9a8c9062"}, {"company_name": "株式会社PET’S MOST", "company_name_kana": "", "brand_name": "inu to hito", "store_name": "", "contact_person": "遠藤", "email": "inutohito0712@gmail.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "d196d7bc"}, {"company_name": "株式会社Plan・Do・See", "company_name_kana": "", "brand_name": "THE MARK GRAND HOTEL", "store_name": "", "contact_person": "関根", "email": "eriko.sekine@themarkgrand.com", "sales_rep": "", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "8481c94b"}, {"company_name": "株式会社wege", "company_name_kana": "", "brand_name": "KUSABIオフィス", "store_name": "", "contact_person": "りょう（永井研行）", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "検討中", "notes": "1年契約が終了するタイミング。", "next_date": "", "url": "", "cleaning_frequency": "", "id": "1df0457b"}, {"company_name": "株式会社ZANGIRI", "company_name_kana": "", "brand_name": "ZANGIRI Next", "store_name": "", "contact_person": "大平社長", "email": "", "sales_rep": "正田和輝", "store_count": "2店舗", "status": "稼働中", "notes": "4月エアコン分解清掃", "next_date": "", "url": "", "cleaning_frequency": "年１清掃", "id": "55d57c2d"}, {"company_name": "株式会社アシュリップ", "company_name_kana": "", "brand_name": "カイロライン", "store_name": "国分寺整体院", "contact_person": "木村さん", "email": "t.kimura@aburagaku.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "f9a6fd67"}, {"company_name": "株式会社いのこ", "company_name_kana": "", "brand_name": "麺処いのこ", "store_name": "赤塚店", "contact_person": "阿部店長", "email": "ossan.t2@ezweb.ne.jp", "sales_rep": "", "store_count": "", "status": "", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "8e67aaa6"}, {"company_name": "株式会社いのこ", "company_name_kana": "", "brand_name": "麺処いのこ", "store_name": "平和台店", "contact_person": "見留太基店長", "email": "gullwing8864@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "75fedfcd"}, {"company_name": "株式会社エゴイプセ", "company_name_kana": "", "brand_name": "大勝軒", "store_name": "大勝軒まるいち 新宿東南口店", "contact_person": "松永誠一", "email": "ksms.matsunaga@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "31aaa93e"}, {"company_name": "株式会社エデュケーション", "company_name_kana": "", "brand_name": "モンキーツリー", "store_name": "", "contact_person": "鈴木社長", "email": "rsa44186@gmail.com", "sales_rep": "正田和輝", "store_count": "1店舗", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "毎月清掃", "id": "dc0c7082"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "魚焼男", "store_name": "弐", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "3ec1b358"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "魚豪商", "store_name": "コダマ新橋店", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "54b66e34"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "魚焼男", "store_name": "新橋本店", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "1e832dc3"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "焼肉男", "store_name": "マンモス", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "ccaeb2ed"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "魚無双", "store_name": "トオダ", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "b1701651"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "魚豪商コダマ", "store_name": "錦糸町店", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "77cd1d5a"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "魚豪商コダマ", "store_name": "大井町店", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "0f8748eb"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "燻男（いぶしお）", "store_name": "", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "78c7baf0"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "ホルモンのマンモス", "store_name": "", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "78c7baf0"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "新魚焼男", "store_name": "ニューサカナヤキオ", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "アプローチ前", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "d3b726d3"}, {"company_name": "株式会社オン・ザ・プラネット", "company_name_kana": "", "brand_name": "新燻男", "store_name": "ニューイブシオ", "contact_person": "玉置竜也", "email": "tamanegi.t@gmail.com  hanakuro13570@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "アプローチ前", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "543c4515"}, {"company_name": "株式会社がっと", "company_name_kana": "", "brand_name": "ワイン食堂がっと", "store_name": "渋谷円山町店", "contact_person": "佐藤 大介", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "2月レンジフードダクト清掃（3万）、5月エアコン分解洗浄、室外機もやりたい", "next_date": "2025年3月19日 7:00", "url": "https://x.gd/IKIiK", "cleaning_frequency": "年１清掃", "id": "0f4557a9"}, {"company_name": "株式会社カワイハイ", "company_name_kana": "", "brand_name": "ニクアザブ", "store_name": "西麻布店", "contact_person": "夕島店長", "email": "", "sales_rep": "正田和輝", "store_count": "7店舗", "status": "稼働中", "notes": "防火扉がしまっていて、左側のキーボックス 0877", "next_date": "", "url": "", "cleaning_frequency": "", "id": "98a40e3b"}, {"company_name": "株式会社ギガデイン", "company_name_kana": "", "brand_name": "武蔵野油学会", "store_name": "早稲田総本店", "contact_person": "木村さん", "email": "t.kimura@aburagaku.com", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "a298df02"}, {"company_name": "株式会社ギガデイン", "company_name_kana": "", "brand_name": "武蔵野油学会", "store_name": "早稲田別館", "contact_person": "木村さん", "email": "t.kimura@aburagaku.com", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "eb276c6d"}, {"company_name": "株式会社ギガデイン", "company_name_kana": "", "brand_name": "武蔵野油学会", "store_name": "明大前", "contact_person": "木村さん", "email": "t.kimura@aburagaku.com", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "60c1653e"}, {"company_name": "株式会社ギガデイン", "company_name_kana": "", "brand_name": "武蔵野油学会", "store_name": "代々木店", "contact_person": "木村さん", "email": "t.kimura@aburagaku.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "81641448"}, {"company_name": "株式会社ギガデイン", "company_name_kana": "", "brand_name": "武蔵野油学会", "store_name": "吉祥寺店", "contact_person": "木村さん", "email": "t.kimura@aburagaku.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "6737de36"}, {"company_name": "株式会社ギガデイン", "company_name_kana": "", "brand_name": "武蔵野油学会", "store_name": "神田店", "contact_person": "木村さん", "email": "t.kimura@aburagaku.com", "sales_rep": "正田和輝", "store_count": "", "status": "検討中", "notes": "フランチャイズでグリストラップとエアコン洗浄を依頼したい", "next_date": "", "url": "", "cleaning_frequency": "", "id": "9f84ba3a"}, {"company_name": "株式会社クラフトマスタージャパン", "company_name_kana": "", "brand_name": "鮨 輝らく", "store_name": "", "contact_person": "堀題地", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "見積書送付", "next_date": "", "url": "", "cleaning_frequency": "", "id": "9c10049e"}, {"company_name": "株式会社しゃぶ庵", "company_name_kana": "", "brand_name": "一見さんお断り 完全会員制 お座敷遊び 料亭 「独楽」", "store_name": "", "contact_person": "福田誠治", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "西麻布のBAR、金龍、独楽をやっている。", "next_date": "", "url": "https://x.gd/zwmhm", "cleaning_frequency": "", "id": "c25dbcb3"}, {"company_name": "株式会社ストラク", "company_name_kana": "", "brand_name": "焼肉商店 浦島屋 津田沼店", "store_name": "", "contact_person": "FC菅又さん", "email": "m-sugamata@springs-web.com", "sales_rep": "佐藤大志", "store_count": "", "status": "契約作業中", "notes": "ビーエヌI村友さんからのご紹介。津田沼駅にある焼肉店のご依頼ホール内に複数の天井から通されている。ダクトあり。その他油まみれな部分があるため清掃依頼あり", "next_date": "", "url": "", "cleaning_frequency": "", "id": "7831fc54"}, {"company_name": "株式会社スモールズ", "company_name_kana": "", "brand_name": "オイスター&珍味 bar 不夜城", "store_name": "", "contact_person": "長田　光司", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "bc5c5b70"}, {"company_name": "株式会社スモールズ", "company_name_kana": "", "brand_name": "ディストピアBar KARMA　カルマ", "store_name": "", "contact_person": "長田　光司", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "bc5c5b70"}, {"company_name": "株式会社スモールズ", "company_name_kana": "", "brand_name": "Japanese Bar　猪鹿蝶", "store_name": "", "contact_person": "長田　光司", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "bc5c5b70"}, {"company_name": "株式会社スモールズ", "company_name_kana": "", "brand_name": "Bar ANIME HOLIC アニメホリック goldengai", "store_name": "", "contact_person": "長田　光司", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "bc5c5b70"}, {"company_name": "株式会社スモールズ", "company_name_kana": "", "brand_name": "Bar 灯鏡 tokyo 歌舞伎町レッドのれん街", "store_name": "", "contact_person": "長田　光司", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "bc5c5b70"}, {"company_name": "株式会社ダイニングエッジ", "company_name_kana": "", "brand_name": "楽が気", "store_name": "新橋本店", "contact_person": "黒沢 幸樹", "email": "koki-kurosawa@diningedge.co.jp", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "26bf2a5d"}, {"company_name": "株式会社ダイニング富士屋本店", "company_name_kana": "", "brand_name": "富士屋本店", "store_name": "日本橋浜町", "contact_person": "加藤雄三", "email": "", "sales_rep": "", "store_count": "", "status": "", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "94f76013"}, {"company_name": "株式会社ダイニング富士屋本店", "company_name_kana": "", "brand_name": "立呑 富士屋本店", "store_name": "立呑 富士屋本店", "contact_person": "酒主", "email": "", "sales_rep": "", "store_count": "", "status": "", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "c7fe22ba"}, {"company_name": "株式会社ダイニング富士屋本店", "company_name_kana": "", "brand_name": "富士屋本店", "store_name": "日本橋浜町", "contact_person": "", "email": "", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "24305c2b"}, {"company_name": "株式会社テイクユー", "company_name_kana": "", "brand_name": "貝出汁 中華そば 竹祥", "store_name": "", "contact_person": "中村", "email": "yuichi@muse-sava.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "707918f1"}, {"company_name": "株式会社デイジイ", "company_name_kana": "", "brand_name": "株式会社デイジイ", "store_name": "西新宿店", "contact_person": "倉田尚子常務取締役", "email": "", "sales_rep": "", "store_count": "", "status": "", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "266fe182"}, {"company_name": "株式会社デイジイ", "company_name_kana": "", "brand_name": "株式会社デイジイ", "store_name": "麹町店", "contact_person": "倉田尚子常務取締役", "email": "", "sales_rep": "", "store_count": "", "status": "", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "50509a58"}, {"company_name": "株式会社でですけ", "company_name_kana": "", "brand_name": "でですけサイゴンキッチン", "store_name": "", "contact_person": "小原店長", "email": "", "sales_rep": "正田和輝", "store_count": "8店舗", "status": "稼働中", "notes": "エアコン清掃依頼　遠藤さんが獲得、営業案件", "next_date": "", "url": "", "cleaning_frequency": "スポット清掃", "id": "cc9d3593"}, {"company_name": "株式会社ニュートン", "company_name_kana": "", "brand_name": "カラオケパセラ", "store_name": "上野駅前店", "contact_person": "根本 諭", "email": "hiraoka@newton-co.jp", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "6ff89ce9"}, {"company_name": "株式会社ニュートン", "company_name_kana": "", "brand_name": "カラオケパセラ", "store_name": "上野御徒町店", "contact_person": "根本 諭", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "アプローチ前", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "5029e8c1"}, {"company_name": "株式会社パズルフードサービス", "company_name_kana": "", "brand_name": "東京餃子楼", "store_name": "三軒茶屋本店", "contact_person": "齋藤部長　奥村啓社長", "email": "food@puzzle-ring.co.jp", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "スポット清掃", "id": "7d9b5321"}, {"company_name": "株式会社パズルフードサービス", "company_name_kana": "", "brand_name": "東京餃子楼", "store_name": "工場", "contact_person": "齋藤部長　奥村啓社長", "email": "food@puzzle-ring.co.jp", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "隔月清掃", "id": "4ed53c81"}, {"company_name": "株式会社ビック・バン", "company_name_kana": "", "brand_name": "ホルモン屋 だん", "store_name": "新橋総本店", "contact_person": "三浦さん（渡辺社長）", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "ネズミ駆除の定期清掃", "next_date": "", "url": "", "cleaning_frequency": "", "id": "b88fd428"}, {"company_name": "株式会社ビック・バン", "company_name_kana": "", "brand_name": "ホルモン屋 だん", "store_name": "新橋2号店", "contact_person": "渡辺社長", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "ネズミ駆除の定期清掃", "next_date": "", "url": "", "cleaning_frequency": "", "id": "2e3fe061"}, {"company_name": "株式会社ビック・バン", "company_name_kana": "", "brand_name": "ホルモン屋 だん", "store_name": "はなれ新橋3号店", "contact_person": "渡辺社長", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "ネズミ駆除の定期清掃", "next_date": "", "url": "", "cleaning_frequency": "", "id": "33e6a3c3"}, {"company_name": "株式会社ビック・バン", "company_name_kana": "", "brand_name": "生ラムかんな", "store_name": "新橋店", "contact_person": "渡辺社長", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "ネズミ駆除の定期清掃", "next_date": "", "url": "", "cleaning_frequency": "", "id": "325a8b56"}, {"company_name": "株式会社ビック・バン", "company_name_kana": "", "brand_name": "ラムと泡", "store_name": "本店", "contact_person": "渡辺社長", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "ネズミ駆除の定期清掃", "next_date": "", "url": "", "cleaning_frequency": "", "id": "15bc6988"}, {"company_name": "株式会社ビック・バン", "company_name_kana": "", "brand_name": "肉汁屋", "store_name": "新橋店", "contact_person": "渡辺社長", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "ネズミ駆除の定期清掃", "next_date": "", "url": "", "cleaning_frequency": "", "id": "325a8b56"}, {"company_name": "株式会社フードアンドパートナーズ", "company_name_kana": "", "brand_name": "発酵デリカテッセンカフェテリアKouji&ko", "store_name": "", "contact_person": "高野伴美（高橋真樹）", "email": "takahashi-maki@foodandpartners.co.jp", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "渋谷と新宿のテナントに入居中", "next_date": "", "url": "https://x.gd/c4Ern", "cleaning_frequency": "3ヶ月に1回清掃", "id": "0ad5d6bf"}, {"company_name": "株式会社フードアンドパートナーズ", "company_name_kana": "", "brand_name": "発酵デリカテッセン カフェテリアKouji&ko", "store_name": "", "contact_person": "高橋部長", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "３ヶ月に1回清掃", "next_date": "", "url": "", "cleaning_frequency": "", "id": "78449035"}, {"company_name": "株式会社マッスルボディメイク", "company_name_kana": "", "brand_name": "マッスルボディメイク", "store_name": "", "contact_person": "吉成題寿", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "パーソナルジム", "next_date": "", "url": "https://x.gd/4O2gk", "cleaning_frequency": "スポット清掃", "id": "ddbce584"}, {"company_name": "株式会社まんてん", "company_name_kana": "", "brand_name": "炉端居酒屋", "store_name": "中野製作所 まんてん別館", "contact_person": "真船店長（阿部社長）", "email": "", "sales_rep": "正田和輝", "store_count": "7店舗", "status": "稼働中", "notes": "ゴキブリ駆除依頼", "next_date": "2025年3月21日 13:00", "url": "", "cleaning_frequency": "スポット清掃", "id": "4328c02c"}, {"company_name": "株式会社まんてん", "company_name_kana": "", "brand_name": "炭火焼きホルモンまんてん", "store_name": "中野店", "contact_person": "村上店長（阿部社長）", "email": "", "sales_rep": "正田和輝", "store_count": "7店舗", "status": "稼働中", "notes": "・ゴキブリ", "next_date": "", "url": "", "cleaning_frequency": "", "id": "9afccec8"}, {"company_name": "株式会社まんてん", "company_name_kana": "", "brand_name": "炭火焼きホルモンまんてん", "store_name": "中目黒本店", "contact_person": "はづき", "email": "", "sales_rep": "正田和輝", "store_count": "7店舗", "status": "稼働中", "notes": "古い店なのでそこそこ汚れはあるんですが、子バエがいるのが気になりますね", "next_date": "2025年3月28日 10:30", "url": "", "cleaning_frequency": "毎月清掃", "id": "254bf36f"}, {"company_name": "株式会社まんてん", "company_name_kana": "", "brand_name": "炭火焼きホルモンまんてん", "store_name": "代々木店", "contact_person": "神棒智", "email": "", "sales_rep": "正田和輝", "store_count": "7店舗", "status": "稼働中", "notes": "ダクト清掃", "next_date": "2025年3月28日 10:30", "url": "", "cleaning_frequency": "毎月清掃", "id": "27cff7c3"}, {"company_name": "株式会社ラムラ", "company_name_kana": "", "brand_name": "すし土風炉", "store_name": "登戸店", "contact_person": "", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "0a3b06ee"}, {"company_name": "株式会社価値作り研究所", "company_name_kana": "", "brand_name": "ステーキロッジ", "store_name": "道元坂店", "contact_person": "福田幸洋", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "https://x.gd/Ntu4u", "cleaning_frequency": "", "id": "703690b5"}, {"company_name": "株式会社価値作り研究所", "company_name_kana": "", "brand_name": "ステーキロッヂ ヨドバシ", "store_name": "Akiba店", "contact_person": "福田幸洋", "email": "", "sales_rep": "正田和輝", "store_count": "数店舗", "status": "契約作業中", "notes": "", "next_date": "", "url": "https://x.gd/7g4sW", "cleaning_frequency": "", "id": "c22b7491"}, {"company_name": "株式会社元気Dining", "company_name_kana": "", "brand_name": "大衆寿司酒場こがね", "store_name": "", "contact_person": "永井部長", "email": "", "sales_rep": "", "store_count": "", "status": "", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "f540557f"}, {"company_name": "株式会社元気Dining", "company_name_kana": "", "brand_name": "大衆焼肉酒場こがね", "store_name": "", "contact_person": "永井部長", "email": "nagai.r.genki@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "f540557f"}, {"company_name": "株式会社小肥羊ジャパン", "company_name_kana": "", "brand_name": "火鍋 小肥羊", "store_name": "銀座店", "contact_person": "梶原部長", "email": "", "sales_rep": "正田和輝", "store_count": "20店舗", "status": "稼働中", "notes": "ネズミ駆除、6月〜7月、撲滅してから考える。", "next_date": "", "url": "", "cleaning_frequency": "毎月清掃", "id": "868b43b1"}, {"company_name": "株式会社千寿菊", "company_name_kana": "", "brand_name": "新橋バーラウンジ御殿", "store_name": "", "contact_person": "鈴木真理子", "email": "", "sales_rep": "林大貴（浅倉麗央）", "store_count": "", "status": "稼働中", "notes": "グリストラップ エアコンフィルター 厨房フィルター 害虫駆除 厨房機器掻き出し シンクの臭い除去 シンク清掃 初回50,000円", "next_date": "", "url": "", "cleaning_frequency": "", "id": "d5d6c028"}, {"company_name": "株式会社馬力　神田店", "company_name_kana": "", "brand_name": "馬力", "store_name": "馬力 神田南口店", "contact_person": "渡邉", "email": "bariki.group@ezweb.ne.jp", "sales_rep": "沖 智弘", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "4a310e3d"}, {"company_name": "株式会社名店館", "company_name_kana": "", "brand_name": "ビストロ エヴォルテ", "store_name": "", "contact_person": "木ノ内 謙", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "https://x.gd/nUWrX", "cleaning_frequency": "3ヶ月に1回清掃", "id": "7f2539db"}, {"company_name": "株式会社友電設", "company_name_kana": "", "brand_name": "Mahaloh Import Shop", "store_name": "", "contact_person": "ウィリアン", "email": "Willianmahalohjp@hotmail.com", "sales_rep": "梅岡Alexandra", "store_count": "1", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "373e4c83"}, {"company_name": "株式会社雷神", "company_name_kana": "", "brand_name": "油そば 雷神", "store_name": "市川店", "contact_person": "加藤陸王　（加藤 裕之）", "email": "goku.kato@raijin-gyouza.jp", "sales_rep": "正田和輝", "store_count": "1店舗", "status": "契約作業中", "notes": "柏　6月1日から開始", "next_date": "", "url": "", "cleaning_frequency": "", "id": "1afaa333"}, {"company_name": "居酒屋ビッグ 新河岸駅前店", "company_name_kana": "", "brand_name": "居酒屋ビッグ", "store_name": "新河岸駅前店", "contact_person": "神宮　将", "email": "js.bar.54fg@gmail.com", "sales_rep": "", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "668ca5b2"}, {"company_name": "御座敷天婦羅　神楽坂 天孝", "company_name_kana": "", "brand_name": "御座敷天婦羅　神楽坂 天孝", "store_name": "", "contact_person": "新井　均", "email": "h.arai@kagurasaka-tenko.jp", "sales_rep": "遠藤虹輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "スポット清掃", "id": "afb44227"}, {"company_name": "合同会社FOOD GROOVE JAPAN", "company_name_kana": "", "brand_name": "米と魚　さかなさま", "store_name": "", "contact_person": "酒井（鈴木基次）", "email": "info.foodgroovejapan@gmail.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "末日ゴミ回収＋見積もりの内容", "next_date": "2025年3月28日 0:00", "url": "https://x.gd/UneyL", "cleaning_frequency": "", "id": "ff399963"}, {"company_name": "合同会社FOOD GROOVE JAPAN", "company_name_kana": "", "brand_name": "麺と肴　担々麺 ペン坊", "store_name": "", "contact_person": "青柳昇店長(さかなさまスタッフ)", "email": "noboru.ao@gmail.com", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "レンジフードのグリスフィルターがない。", "next_date": "", "url": "", "cleaning_frequency": "", "id": "d4cf599b"}, {"company_name": "合同会社SKTC", "company_name_kana": "", "brand_name": "Aphrodite　アフロディーテ（ニューハーフバー）", "store_name": "", "contact_person": "岩下 弥樹", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "3月清掃", "next_date": "", "url": "https://x.gd/LdNvl", "cleaning_frequency": "スポット清掃", "id": "e2508de7"}, {"company_name": "合同会社TRANSAM", "company_name_kana": "", "brand_name": "dining Bar TRANSAM赤坂", "store_name": "", "contact_person": "宮西宏嘉", "email": "", "sales_rep": "佐藤大志", "store_count": "1", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "930ccaef"}, {"company_name": "合同会社港エージェンシー", "company_name_kana": "", "brand_name": "西麻布ZERO", "store_name": "", "contact_person": "福田誠治", "email": "", "sales_rep": "正田和輝", "store_count": "2,3,4階", "status": "契約作業中", "notes": "定期清掃 10万（床/ソファ/カーペット/エアコンフィルター）", "next_date": "", "url": "", "cleaning_frequency": "", "id": "82e64aee"}, {"company_name": "合同会社港エージェンシー", "company_name_kana": "", "brand_name": "西麻布カラオケCLT", "store_name": "", "contact_person": "福田誠治", "email": "", "sales_rep": "正田和輝", "store_count": "6階１店舗", "status": "契約作業中", "notes": "6階 5万", "next_date": "", "url": "", "cleaning_frequency": "", "id": "82e64aee"}, {"company_name": "焼肉 松の屋", "company_name_kana": "", "brand_name": "焼肉 松の屋", "store_name": "焼肉 松の屋", "contact_person": "岩渕", "email": "t.iwabuchi-74@sp-nur.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "7fdb0819"}, {"company_name": "板前寿司ジャパン", "company_name_kana": "", "brand_name": "板前寿司", "store_name": "赤坂店", "contact_person": "月木専務", "email": "tsukigi@itamae.co.jp", "sales_rep": "正田和輝", "store_count": "8店舗", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "f26f4f31"}, {"company_name": "板前寿司ジャパン", "company_name_kana": "", "brand_name": "板前寿司", "store_name": "愛宕店", "contact_person": "月木専務", "email": "tsukigi@itamae.co.jp", "sales_rep": "正田和輝", "store_count": "8店舗", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "4868fa83"}, {"company_name": "有限会社タカネット", "company_name_kana": "", "brand_name": "ロケ弁エージェント", "store_name": "", "contact_person": "高杉光徳", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "ロケ弁の店舗三ノ輪で４店舗ある。", "next_date": "", "url": "", "cleaning_frequency": "", "id": "990a563e"}, {"company_name": "", "company_name_kana": "", "brand_name": "たまき新宿2代目店", "store_name": "たまき新宿2代目店", "contact_person": "グルン", "email": "gbu4991@gmail.com", "sales_rep": "沖 智弘", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "ada1ef3f"}, {"company_name": "", "company_name_kana": "", "brand_name": "韓国料理COCOYA", "store_name": "池袋2号店", "contact_person": "", "email": "", "sales_rep": "", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "58ca79e3"}, {"company_name": "", "company_name_kana": "", "brand_name": "創作イタリアン肉バル スオーノ", "store_name": "", "contact_person": "能勢 純司", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "グリースサットルで床も荒れ放題", "next_date": "", "url": "", "cleaning_frequency": "", "id": "bc2ac60e"}, {"company_name": "", "company_name_kana": "", "brand_name": "リストランティアーノ　　ルベロ", "store_name": "", "contact_person": "長澤流（竹中社長）", "email": "", "sales_rep": "正田和輝", "store_count": "1", "status": "契約作業中", "notes": "", "next_date": "", "url": "https://x.gd/nCFom", "cleaning_frequency": "", "id": "6c3b4e4b"}, {"company_name": "", "company_name_kana": "", "brand_name": "CRAFT CHEESE MARKET", "store_name": "渋谷駅前店", "contact_person": "", "email": "", "sales_rep": "", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "3314df61"}, {"company_name": "", "company_name_kana": "", "brand_name": "デニーロ", "store_name": "デニーロ神田店", "contact_person": "今村店長", "email": "shinpei9600@gmail.com", "sales_rep": "正田和輝", "store_count": "2店舗", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "毎月清掃", "id": "a71e8c2c"}, {"company_name": "", "company_name_kana": "", "brand_name": "FAST OYSTERS", "store_name": "神楽坂店", "contact_person": "渡邉社長", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "950883e3"}, {"company_name": "", "company_name_kana": "", "brand_name": "WAGYU SUKIYAKI 極〜GOKU〜", "store_name": "東銀座築地", "contact_person": "浦 昴大", "email": "", "sales_rep": "正田和輝", "store_count": "", "status": "契約作業中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "b5c0e18c"}, {"company_name": "", "company_name_kana": "", "brand_name": "家庭料理居酒屋　焼肉Yakitaro", "store_name": "水道橋店", "contact_person": "秋元賢", "email": "yakitaro5215@ezweb.ne.jp", "sales_rep": "正田和輝", "store_count": "", "status": "稼働中", "notes": "", "next_date": "", "url": "", "cleaning_frequency": "", "id": "36010174"}], "total": 114}
  </script>
  <script type="application/json" id="schedule-data">
    {"schedules": [{"id": "schedule-001", "date": "2025-03-28", "time": "10:00", "client_id": "2167ccb6", "client_name": "株式会社 Dart Ace", "store_name": "日本橋茅場町店", "purpose": "見積もり提出", "address": "東京都中央区日本橋茅場町1-10-8", "phone": "03-1234-5678", "email": "info@dart-ace.com", "status": "upcoming", "notes": "レンジフード洗浄の見積もりを提出"}, {"id": "schedule-002", "date": "2025-03-28", "time": "14:00", "client_id": "bf9f6bcc", "client_name": "株式会社 Dart Ace", "store_name": "大塚店", "purpose": "定期訪問", "address": "東京都豊島区大塚1-1-1", "phone": "03-1234-5678", "email": "info@dart-ace.com", "status": "upcoming", "notes": "清掃状況の確認"}, {"id": "schedule-003", "date": "2025-03-29", "time": "11:00", "client_id": "703bafc0", "client_name": "株式会社 Dart Ace", "store_name": "高円寺店", "purpose": "商談", "address": "東京都杉並区高円寺南2-1-1", "phone": "03-1234-5678", "email": "info@dart-ace.com", "status": "upcoming", "notes": "新規サービス提案"}]}
  </script>
  <script type="application/json" id="inquiries-data">
    {"inquiries": [{"id": "inquiry-001", "date": "2025年3月28日", "time": "09:30", "company_name": "株式会社 ABC", "contact_person": "田中太郎", "phone": "03-1111-2222", "email": "tanaka@abc.co.jp", "message": "レンジフード洗浄についてお問い合わせです。", "status": "pending", "priority": "high"}, {"id": "inquiry-002", "date": "2025年3月27日", "time": "15:20", "company_name": "XYZ 合同会社", "contact_person": "佐藤花子", "phone": "03-3333-4444", "email": "sato@xyz-llc.co.jp", "message": "グリストラップ清掃の見積もりをお願いします。", "status": "pending", "priority": "medium"}, {"id": "inquiry-003", "date": "2025年3月26日", "time": "10:15", "company_name": "株式会社 SSG", "contact_person": "山田次郎", "phone": "03-5555-6666", "email": "yamada@ssg.co.jp", "message": "定期清掃サービスについて相談したいです。", "status": "pending", "priority": "medium"}]}
  </script>
  <script type="application/json" id="estimates-data">
    {"estimates": [{"id": "EST-2025-001", "client_id": "2167ccb6", "client_name": "株式会社 Dart Ace", "store_name": "日本橋茅場町店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "status": "sent", "status_label": "送付済み", "created_date": "2025年3月20日", "sent_date": "2025年3月21日", "expiry_date": "2025年4月20日", "subtotal": "¥50,000", "tax": "¥5,000", "total": "¥55,000", "services": [{"name": "レンジフード洗浄", "description": "レンジフードの油汚れを完全に除去", "price": 30000, "quantity": 1, "subtotal": 30000}, {"name": "グリストラップ清掃", "description": "グリストラップの完全清掃", "price": 25000, "quantity": 1, "subtotal": 25000}], "notes": ""}, {"id": "EST-2025-002", "client_id": "bf9f6bcc", "client_name": "株式会社 Dart Ace", "store_name": "大塚店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "status": "draft", "status_label": "下書き", "created_date": "2025年3月25日", "sent_date": "", "expiry_date": "2025年4月25日", "subtotal": "¥100,000", "tax": "¥10,000", "total": "¥110,000", "services": [{"name": "エアコン分解洗浄", "description": "エアコンの完全分解洗浄", "price": 40000, "quantity": 2, "subtotal": 80000}, {"name": "床清掃", "description": "床の徹底清掃", "price": 20000, "quantity": 1, "subtotal": 20000}], "notes": "作業時間は営業時間外でお願いします。"}, {"id": "EST-2025-003", "client_id": "703bafc0", "client_name": "株式会社 Dart Ace", "store_name": "高円寺店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "status": "approved", "status_label": "承認済み", "created_date": "2025年3月15日", "sent_date": "2025年3月16日", "expiry_date": "2025年4月15日", "approved_date": "2025年3月18日", "subtotal": "¥65,000", "tax": "¥6,500", "total": "¥71,500", "services": [{"name": "グリストラップ清掃", "description": "グリストラップの完全清掃", "price": 25000, "quantity": 1, "subtotal": 25000}, {"name": "換気扇洗浄", "description": "換気扇の内部洗浄", "price": 40000, "quantity": 1, "subtotal": 40000}], "notes": ""}, {"id": "EST-2025-004", "client_id": "2167ccb6", "client_name": "株式会社 Dart Ace", "store_name": "日本橋茅場町店", "contact_person": "永井研行", "email": "info@dart-ace.com", "sales_rep": "正田和輝", "status": "rejected", "status_label": "却下・失効", "created_date": "2025年2月10日", "sent_date": "2025年2月11日", "expiry_date": "2025年3月10日", "rejected_date": "2025年3月15日", "subtotal": "¥45,000", "tax": "¥4,500", "total": "¥49,500", "services": [{"name": "レンジフード洗浄", "description": "レンジフードの油汚れを完全に除去", "price": 30000, "quantity": 1, "subtotal": 30000}, {"name": "床清掃", "description": "床の徹底清掃", "price": 20000, "quantity": 1, "subtotal": 20000}], "notes": "有効期限切れのため失効"}]}
  </script>
  <script type="application/json" id="service-items-data">
    [{"id": 1, "title": "グリストラップ", "category": "厨房設備", "price": "¥ 21,000〜", "image": "images/gurisuto.png", "detail-image": "images/gurisuto.png", "description": "グリストラップ（油脂分離槽）は、厨房の排水に含まれる油分を分離・回収する設備です。日々の使用で油分や食材カスが蓄積しやすく、定期的なメンテナンスを怠ると様々なトラブルを引き起こします。", "problems": ["強い悪臭の発生", "排水詰まりによる逆流や床の冠水", "ゴキブリ・チョウバエなど害虫の発生源", "油脂の蓄積による火災リスク"], "solution": "専門清掃では、グリストラップを分解・高圧洗浄・除菌仕上げで徹底的にクリーニングいたします。", "forms": [], "details": []}, {"id": 2, "title": "U字溝・グレーチング清掃", "category": "厨房設備", "price": "¥ 7,000〜", "image": "images/gure-chingu.png", "description": "U字溝（排水溝）は、油分や食材カスで汚れやすく、放置すると様々なトラブルを引き起こします。厨房やホールの床に設置されたグレーチング（排水溝の金属カバー）も、油汚れや食材カスが溜まりやすく、放置すると問題を引き起こします。", "problems": ["強い悪臭の発生", "排水詰まりによる逆流や床の冠水", "ゴキブリ・チョウバエなど害虫の発生源", "排水溝の詰まり → 水が逆流して床が水浸しに"], "solution": "定期的な専門清掃による分解・高圧洗浄が効果的です。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "毎週清掃している", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/gure-chingu_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/gure-chingu_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/gure-chingu_100.png"}]}], "details": [{"section-title": "種類", "section-type": "grid-items", "section-items": [{"text": "U字溝", "img-url": "images/ujikou.png", "countable": true, "unit": "m", "count": 0}, {"text": "グレーチング", "img-url": "images/gure-chingu_s.png", "countable": true, "unit": "本", "count": 0}]}, {"section-title": "※グレーチング1本の長さはおよそ1mです"}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/グレーチング洗浄.png"}, {"id": 3, "title": "配管高圧洗浄", "category": "厨房設備", "price": "¥ 35,500〜", "image": "images/haikan.png", "description": "日々の油脂・食材カス・洗剤などが蓄積しやすく、定期的なメンテナンスを怠ると以下のようなトラブルにつながります。", "problems": ["排水の流れが悪くなる", "悪臭の発生", "ゴキブリやチョウバエなど害虫の温床化", "深刻な詰まりによる営業停止リスク"], "solution": "高圧洗浄による定期的なクリーニングが効果的です。", "forms": [{"section-title": "現在の状況を教えてください", "section-type": "radio-text", "required": true, "section-items": ["問題なく流れている", "少し流れが悪い", "完全に詰まっている"], "section-image": "images/TOP2.png"}, {"section-title": "グリストラップの清掃頻度を教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "週に1回程度", "月に1回程度", "半年〜1年に1回", "一度もしていない"]}, {"section-title": "配管が詰まったり、流れが悪くなるのはどのくらいの頻度ですか？", "section-type": "radio-text", "required": true, "section-items": ["ほとんどない", "年に1回程度", "半年に1回程度", "もっと頻繁にある"]}], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "配管", "img-url": "images/haikan.png", "countable": true, "unit": "/10m", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}]}, {"id": 4, "title": "レンジフード洗浄", "category": "厨房設備", "price": "¥ 17,500〜", "image": "images/renjifu-do.png", "description": "レンジフード（換気フード）は、油煙やホコリが短期間で蓄積しやすく、そのままにするとトラブルを招きます。", "problems": ["店内に煙や油臭が充満、火災の原因に", "油汚れの固着による強烈な悪臭", "ゴキブリなど害虫の発生源に"], "solution": "専門清掃では、フード内部・フィルター・シロッコファンを分解洗浄・高圧洗浄・除菌仕上げで徹底的にクリーニングいたします。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "毎週清掃している", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/renjifu-do_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/renjifu-do_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/renjifu-do_100.png"}]}], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "シロッコファン", "img-url": "images/renjifu-do_sirokkofan .png", "countable": true, "unit": "個", "count": 0}, {"text": "排気シャッター", "img-url": "images/renjifu-do_haikishatta.png", "countable": true, "unit": "個", "count": 0}, {"text": "フィルターケース", "img-url": "images/renjifu-do_firutake-su.png", "countable": true, "unit": "個", "count": 0}, {"text": "グリスフィルター", "img-url": "images/renjifu-do_gurisufiruta.png", "countable": true, "unit": "個", "count": 0}, {"text": "プロペラファン", "img-url": "images/renjifu-do_puroperafan.png", "countable": true, "unit": "個", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/レンジフード.png"}, {"id": 5, "title": "ダクト洗浄", "category": "厨房設備", "price": "¥ 17,500〜", "image": "images/dakuto.png", "description": "ダクト管内は、油脂やホコリが内壁に付着しやすく、放置すると次のようなリスクにつながります。", "problems": ["換気効率が低下、火災の原因に", "油汚れが酸化して強烈な悪臭の原因に", "ゴキブリ・ネズミなど害虫・害獣の温床に"], "solution": "専門清掃では、ダクト管を専用機材で内部洗浄・高圧洗浄・除菌仕上げを行い、見えない部分まで徹底的にクリーニングいたします。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "週に1回程度", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/dakuto_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/dakuto_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/dakuto_100.png"}]}], "details": [{"section-title": "種類", "section-type": "grid-items", "section-items": [{"text": "ダクト", "img-url": "images/dakuto.png", "countable": true, "unit": "m", "count": 0}]}, {"section-title": "種類", "section-type": "radio-text", "required": true, "section-items": ["火災保険を見直す"]}, {"section-title": "日頃のダクト火災は厨房火災の大きな原因です。清掃で予防し、保険で備えることが安心経営につながります。"}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/ダクト内清掃.png"}, {"id": 6, "title": "防火シャッター清掃", "category": "厨房設備", "price": "¥ 17,500〜", "image": "images/boukashatta.png", "description": "万一の火災時に店内を守る防火シャッター。油汚れやホコリ、ゴミが蓄積し、以下のようなリスクが生じます。", "problems": ["レール詰まりでシャッターが正常に作動しない", "緊急時に作動せず防火機能が損なわれる", "見た目の劣化による店舗イメージの低下"], "solution": "専門清掃では、レール・可動部・シャッター本体を分解洗浄・サビ取り・潤滑調整。防火性能を維持し、非常時にも確実に作動する状態に保ちます。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "週に1回程度", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/boukashatta_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/boukashatta_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/boukashatta_100.png"}]}], "details": [{"section-title": "種類", "section-type": "grid-items", "section-items": [{"text": "防火シャッター", "img-url": "images/boukashatta_boukashatta.png", "countable": true, "unit": "箇所", "count": 0}]}, {"section-type": "radio-text", "required": true, "section-title": "フィルターケースやグリスフィルターを外す必要がありますか？", "section-items": ["はい", "いいえ"]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/防火シャッター清掃.png"}, {"id": 7, "title": "換気扇洗浄", "category": "厨房設備", "price": "¥ 7,000〜", "image": "images/kankisen.png", "description": "厨房やホールの換気扇は、油煙やホコリが羽根やモーター部分に溜まりやすく、放置すると問題を引き起こします。", "problems": ["換気能力の低下で煙や臭いがこもる、火災の原因", "モーターに負担がかかり故障・異音の原因に", "ゴキブリ・チョウバエなどの害虫温床に"], "solution": "専門清掃では、羽根やカバーを分解・高圧洗浄・除菌仕上げで徹底クリーニングいたします。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "週に1回程度", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/kankisen_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/kankisen_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/kankisen_100.png"}]}], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "プロペラ", "img-url": "images/kankisen_puroperafan.png", "countable": true, "unit": "個", "count": 0}, {"text": "天井", "img-url": "images/kankisen_tenjyou.png", "countable": true, "unit": "個", "count": 0}, {"text": "シロッコファン", "img-url": "images/kankisen_sirokkofan.png", "countable": true, "unit": "個", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/換気扇洗浄.png"}, {"id": 8, "title": "排気ファン清掃", "category": "厨房設備", "price": "¥ 35,00〜", "image": "images/haikifan.png", "description": "排気ファンは、油煙・ホコリ・水蒸気を直接吸い込むため、汚れが蓄積しやすい設備です。放置すると問題を引き起こします。", "problems": ["油汚れで羽根が重くなり回転効率が低下、火災のリスク", "モーターに負担がかかり故障・異音の原因に", "強い悪臭や害虫の発生源に"], "solution": "排気ファンを分解し、羽根・カバー・モーター部分を高圧洗浄・除菌仕上げいたします。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "週に1回程度", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/haikifan_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/haikifan_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/haikifan_100.png"}]}], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "排気ファン", "img-url": "images/chuuboukiki_haikifan.png", "countable": true, "unit": "式", "count": 0}]}, {"section-title": "現在の状況を教えてください", "section-type": "radio-text", "required": true, "section-items": ["問題なく吸えている", "少し弱い", "吸えていない"]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/換気ファン清掃.png"}, {"id": 9, "title": "排気ファンベルト交換調整", "category": "厨房設備", "price": "¥ 17,500〜", "image": "images/haikifanberuto.png", "description": "ファンベルトは、回転・摩擦のため、劣化や伸び、ゆるみが発生しやすい部品です。放置するとトラブルを引き起こします。", "problems": ["ベルトの摩耗・亀裂→突然の断裂", "換気効率の低下や異音発生", "排気不良による店内の煙・臭いこもり"], "solution": "定期点検・張り具合調整・交換作業を行うことで、設備を長持ちさせ、突発的なトラブルを未然に防ぎます。", "forms": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "排気ファン", "img-url": "images/haikifanberuto_haikifanberuto.png", "countable": true, "unit": "式", "count": 0}]}, {"section-title": "現在の状況を教えてください", "section-type": "radio-text", "required": true, "section-items": ["問題なく吸えている", "少し弱い", "吸えていない"]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/ファンベルト交換調整.png"}, {"id": 10, "title": "厨房機器洗浄", "category": "厨房設備", "price": "¥ 17,500〜", "image": "images/chuuboukiki.png", "description": "フライヤー・コンロ・オーブン・冷蔵庫などは、毎日の使用で油汚れ・焦げ付き・ホコリが蓄積しやすく、放置すると以下のリスクが生じます。", "problems": ["機器の性能低下・寿命の短縮", "油煙・焦げ付きによる火災リスク", "厨房全体の清潔感低下によるスタッフ・お客様への悪影響"], "solution": "プロの専用洗剤・工具による分解洗浄で、表面だけでなく内部の蓄積汚れまで徹底除去します。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "週に1回程度", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/chuuboukiki_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/chuuboukiki_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/chuuboukiki_100.png"}]}], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "冷蔵庫", "img-url": "images/chuuboukiki_reizouko.png", "countable": true, "unit": "基", "count": 0}, {"text": "冷凍庫", "img-url": "images/chuuboukiki_reizouko.png", "countable": true, "unit": "基", "count": 0}, {"text": "製氷機", "img-url": "images/chuuboukiki_shokusenki.png", "countable": true, "unit": "基", "count": 0}, {"text": "ワインセラー", "img-url": "images/chuuboukiki_wain.png", "countable": true, "unit": "基", "count": 0}, {"text": "食洗機", "img-url": "images/chuuboukiki_shokusenki.png", "countable": true, "unit": "基", "count": 0}, {"text": "ステンレス作業台", "img-url": "images/chuuboukiki_sutenresu.png", "countable": true, "unit": "基", "count": 0}, {"text": "作業用ラック", "img-url": "images/chuuboukiki_rakku.png", "countable": true, "unit": "基", "count": 0}, {"text": "壁", "img-url": "images/chuuboukiki_kabe.png", "countable": true, "unit": "基", "count": 0}, {"text": "スチームコンベクションオーブン", "img-url": "images/chuuboukiki_suchi-mu.png", "countable": true, "unit": "基", "count": 0}, {"text": "デッキオーブン", "img-url": "images/chuuboukiki_dekki.png", "countable": true, "unit": "基", "count": 0}, {"text": "ガスレンジ", "img-url": "images/chuuboukiki_gasurenji.png", "countable": true, "unit": "基", "count": 0}, {"text": "調理台", "img-url": "images/chuuboukiki_chouridai.png", "countable": true, "unit": "基", "count": 0}, {"text": "ウォーマー", "img-url": "images/chuuboukiki_wo-ma.png", "countable": true, "unit": "基", "count": 0}, {"text": "給湯器", "img-url": "images/chuuboukiki_kyuutouki.png", "countable": true, "unit": "基", "count": 0}, {"text": "コンロ", "img-url": "images/chuuboukiki_konro.png", "countable": true, "unit": "基", "count": 0}, {"text": "フライヤー", "img-url": "images/chuuboukiki_furaiya.png", "countable": true, "unit": "基", "count": 0}, {"text": "グリドル", "img-url": "images/chuuboukiki_guridoru.png", "countable": true, "unit": "基", "count": 0}, {"text": "その他", "img-url": "images/chuuboukiki_sonota.png", "countable": true, "unit": "基", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/厨房機器洗浄.png"}, {"id": 11, "title": "壁清掃", "category": "厨房設備", "price": "¥ 10,000", "image": "images/kabe.png", "description": "壁紙(クロス)は、油ハネやタバコのヤニ、傷や剥がれなどで劣化しやすく、放置すると店舗の印象を大きく損ねます。", "problems": ["シミ・汚れ・黄ばみによる不衛生な印象、カビや害虫が発生", "店舗の雰囲気が暗くなり集客力の低下", "劣化が進むと大規模な張り替えが必要になるリスク"], "solution": "専門修繕では、部分補修から全面張り替えまで対応可能。店舗の雰囲気やブランドイメージに合わせた仕上げで、清潔感と居心地の良さを回復させます。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "月に1回程度", "週に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/kabe_80.jpeg"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/kabe_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/kabe_100.png"}]}], "details": [{"section-title": "種類", "section-type": "grid-items", "section-items": [{"text": "壁", "img-url": "images/kabe_kabe.png", "countable": true, "unit": "㎡", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/壁紙修繕.png"}, {"id": 12, "title": "シンク洗浄", "category": "厨房設備", "price": "¥ 14,000〜", "image": "images/sinku.png", "description": "シンク（流し台）は、油汚れや食材カス、石けんカスなどが蓄積しやすく、放置すると以下のような問題を招きます。", "problems": ["排水口やパイプの悪臭", "水アカや油膜による見た目の不衛生感", "カビや雑菌の繁殖→ 食中毒リスクの増加"], "solution": "専門清掃では、シンク全体の分解・高圧洗浄・除菌仕上げを行い、清潔で衛生的な状態を維持します。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "月に1回程度", "週に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/sink_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/sink_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/sink_100.png"}]}], "details": [{"section-title": "種類", "section-type": "grid-items", "section-items": [{"text": "シンク", "img-url": "images/sinku_sinku.png", "countable": true, "unit": "槽", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/シンク洗浄.png"}, {"id": 13, "title": "エアコンフィルター洗浄", "category": "空調設備", "price": "¥ 5,250〜", "image": "images/eakonfiruta.png", "description": "エアコンのフィルターは、空気中のホコリや汚れを捕集する重要な役割を果たします。定期的な清掃を怠ると、エアコンの性能低下や空気の質の悪化につながります。", "problems": ["エアコンの冷房・暖房効率の低下", "空気の質の悪化による健康への影響", "フィルターの目詰まりによる電気代の増加", "カビや細菌の繁殖による悪臭の発生"], "solution": "専門清掃では、フィルターを専用洗剤で洗浄・除菌し、エアコンの性能と空気の質を回復させます。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "エアコン", "img-url": "images/eakon.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/eakonfiruta.png"}, {"id": 14, "title": "エアコン分解洗浄", "category": "空調設備", "price": "¥ 11,375〜", "image": "images/eakonbunkai.png", "description": "エアコン内部に油煙、ホコリ、カビが短期間で蓄積しやすく、放置すると問題が発生します。", "problems": ["冷暖房効率の低下、悪臭や店内空気の汚染、健康被害", "水漏れ・異音などの故障リスク増大", "カビや雑菌の繁殖による悪臭や店内空気の汚染"], "solution": "完全分解し、高圧洗浄・除菌仕上げを実施。省エネ効果と衛生環境の改善を実現します。", "forms": [], "details": [{"section-title": "ルームエアコン", "section-type": "grid-items", "section-items": [{"text": "家庭用", "img-url": "images/eakon_gyoumuyou.png", "countable": true, "unit": "台", "count": 0}, {"text": "業務用", "img-url": "images/eakon_gyoumuyou.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "床置き型", "section-type": "grid-items", "section-items": [{"text": "床置き型", "img-url": "images/eakon_yukaokigata.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "天カセ型", "section-type": "grid-items", "section-items": [{"text": "天カセ型", "img-url": "images/eakon_tenkasegata.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "吹き出し口の数を教えてください", "section-type": "radio-text", "required": true, "section-items": ["1方向", "2方向", "4方向"]}, {"section-title": "埋め込型", "section-type": "grid-items", "section-items": [{"text": "埋め込型", "img-url": "images/eakon_umekomi.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "設置場所を教えてください", "section-type": "radio-text", "required": true, "section-items": ["壁", "天井", "床置き"]}, {"section-title": "オプション", "section-type": "grid-items", "section-items": [{"text": "室外機", "img-url": "images/eakon_situgaiki.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "備考欄（必須）エアコンの年式をご記入ください", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/エアコン分解洗浄.png"}, {"id": 15, "title": "窓清掃", "category": "フロア", "price": "¥ 5,250〜", "image": "images/mado.png", "description": "窓やガラス面は油膜・指紋・ホコリ・雨ジミなどが付着しやすく、放置すると次のような問題が起こります。", "problems": ["曇りやシミで店内が暗く見え視認性が低下し 集客力ダウン", "油膜や汚れが固着して落ちにくくなる", "店舗イメージの低下"], "solution": "専用の洗剤・道具を使用し、油膜や水アカまで徹底除去。透明感のあるガラス面を取り戻し、店舗の印象アップと衛生感の向上を実現します。", "forms": [], "details": [{"section-title": "種類", "section-type": "grid-items", "section-items": [{"text": "幅 30〜60cm × 高さ 30〜60cm", "countable": true, "unit": "枚", "count": 0}, {"text": "幅 90〜200cm × 高さ 90〜120cm", "countable": true, "unit": "枚", "count": 0}, {"text": "幅 160〜240cm × 高さ 180〜200cm", "countable": true, "unit": "枚", "count": 0}, {"text": "幅 300〜600cm × 高さ 200〜300cm", "countable": true, "unit": "枚", "count": 0}]}, {"section-title": "高所での作業になりますか？", "section-type": "radio-group", "section-items": [{"text": "はい"}, {"text": "いいえ"}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/窓清掃.png"}, {"id": 16, "title": "シール剥がし", "category": "フロア", "price": "¥ 35,00〜", "image": "images/si-ruhagasi.png", "description": "ステッカーやテープ跡は、時間が経つと糊が固着して簡単には落とせなくなります。", "problems": ["ベタつきや黒ずみで不衛生な印象になり集客力ダウン", "糊残りにホコリが付着してさらに目立つ汚れに", "無理に剥がすと素材や表面を傷つけるリスク"], "solution": "専門清掃では、素材に合わせた専用溶剤・工具を使用し、糊残りまで丁寧に除去。表面を傷つけずに、清潔で美しい状態を取り戻します。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "シール", "img-url": "images/si-ruhagasi_si-ru.png", "countable": true, "unit": "箇所", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/シール剥がし.png"}, {"id": 17, "title": "テーブル拭き", "category": "フロア", "price": "¥ 8,750〜", "image": "images/te-burufuki.png", "description": "飲食店のテーブルは、お客様が直接触れる重要な接客スペースです。日々の使用で汚れや指紋が付着しやすく、清潔感を保つためには定期的な清掃が必要です。", "problems": ["汚れや指紋による清潔感の低下", "油汚れやシミによる見た目の悪化", "細菌の繁殖による衛生面のリスク", "お客様への印象悪化による集客力の低下"], "solution": "専門清掃では、専用洗剤と工具を使用して、テーブル表面の汚れやシミを徹底的に除去し、清潔感と美観を回復させます。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "テーブル", "img-url": "images/te-burufuki_te-buru.png", "countable": true, "unit": "基", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/te-burufuki.png"}, {"id": 18, "title": "トイレ洗浄", "category": "フロア", "price": "¥ 12,250〜", "image": "images/toire.png", "description": "お客様が必ず利用する場所であり、店舗の印象を大きく左右します。通常の清掃だけでは取りきれない汚れが蓄積すると…", "problems": ["尿石やカビで強烈な悪臭", "ウォシュレットや配管の詰まりによる水漏れ・故障", "清潔感の低下で店舗全体の評価が下がる"], "solution": "便器やタンク、ウォシュレット部分を分解・薬剤洗浄・高圧洗浄・除菌仕上げ。", "forms": [], "details": [{"section-title": "数量"}, {"section-title": "分解洗浄あり", "section-type": "grid-items", "section-items": [{"text": "洋式", "img-url": "images/toire_yousiki.png", "countable": true, "unit": "台", "count": 0}, {"text": "小便器", "img-url": "images/toire_shoubenki.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "分解洗浄なし", "section-type": "grid-items", "section-items": [{"text": "洋式", "img-url": "images/toire_yousiki.png", "countable": true, "unit": "台", "count": 0}, {"text": "洋式", "img-url": "images/toire_wasiki.png", "countable": true, "unit": "台", "count": 0}, {"text": "小便器", "img-url": "images/toire_shoubenki.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/トイレ.png"}, {"id": 19, "title": "床清掃", "category": "フロア", "price": "¥ 12,250", "image": "images/yuka.png", "description": "飲食店の床は、油、食材カス、飲み物の飛び散りなどで常に汚れやすい状況です。", "problems": ["ベタつきや滑り、黒ずみや油膜による不衛生な印象や転倒", "カビや雑菌の繁殖による悪臭や食中毒リスク", "汚れの蓄積による床材の劣化・寿命短縮"], "solution": "床材に応じて洗剤洗浄・高圧洗浄・ワックス仕上げを実施。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "毎週清掃している", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/yuka_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/yuka_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/yuka_100.png"}]}], "details": [{"section-title": "床ポリッシャー洗浄", "section-type": "grid-items", "section-items": [{"text": "キッチン", "img-url": "images/yuka_kicchin.png", "countable": true, "unit": "㎡", "count": 0}, {"text": "フローリング", "img-url": "images/yuka_furo-ring.png", "countable": true, "unit": "㎡", "count": 0}, {"text": "タイル", "img-url": "images/yuka_tairu.png", "countable": true, "unit": "㎡", "count": 0}, {"text": "木材", "img-url": "images/yuka_mokuzai.png", "countable": true, "unit": "㎡", "count": 0}, {"text": "石材", "img-url": "images/yuka_isizai.png", "countable": true, "unit": "㎡", "count": 0}]}, {"section-title": "床ワックス（フローリング）"}, {"section-title": "※過去にワックスを塗布されている場合は、事前に剥離作業を行ってから洗浄することで、より効果的な清掃が可能です。"}, {"section-type": "radio-group", "section-items": [{"text": "ワックス剥離"}, {"text": "ワックス塗布"}]}, {"section-title": "床スイーパー洗浄", "section-type": "grid-items", "section-items": [{"text": "カーペット", "img-url": "images/yuka_ka-petto.png", "countable": true, "unit": "㎡", "count": 0}]}, {"section-title": "その他", "section-type": "grid-items", "section-items": [{"text": "床掃除機", "img-url": "images/yuka_soujiki.png", "countable": true, "unit": "㎡", "count": 0}, {"text": "階段清掃", "img-url": "images/yuka_kaidanseisou.png", "countable": true, "unit": "階分", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/床洗浄.png"}, {"id": 20, "title": "床ワックス", "category": "フロア", "price": "¥ 8,750", "image": "images/yuka_yukawakkusu.png", "description": "床は、毎日の清掃だけでは落としきれない油汚れや黒ずみが蓄積し、ワックス本来の効果が失われていきます。", "problems": ["床のツヤがなくなり不衛生な印象を与える", "汚れが床材に染み込み劣化や剥がれの原因に", "定期メンテナンスを怠ると床の寿命が短くなる"], "solution": "古いワックスや汚れを剥離作業で完全除去し、その後に新しいワックスを均一に塗布し、床本来の美しさと保護効果を取り戻します。", "forms": [], "details": [{"section-type": "grid-items", "section-items": [{"text": "床ワックス", "img-url": "images/yuka_wakkusu.png", "countable": true, "unit": "㎡", "count": 0}]}, {"section-title": "※過去にワックスを塗布されている場合は、事前に剥離作業を行ってから洗浄することで、より効果的な清掃が可能です。", "section-type": "radio-group", "section-items": [{"text": "ワックス剥離"}, {"text": "ワックス塗布"}, {"text": "ポリッシャー洗浄"}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/ワックス.png"}, {"id": 21, "title": "ゴミ回収", "category": "その他", "price": "¥ 5,250〜", "image": "images/gomi_kaishu.png", "description": "日々の営業で大量のゴミ(可燃・不燃)が発生します。古くなった厨房機器・テーブル・椅子・什器類など、大型の粗大ゴミをそのまま放置すると…", "problems": ["ゴミの散乱や悪臭によるゴキブリ・害虫・害獣の発生源となる", "不適切な分別による行政指導や罰則のリスク", "店舗スタッフの負担が増加し、本業の時間が削られる", "店舗スペースを圧迫し作業効率が低下し衛生環境の悪化", "不法投棄や処理不備で行政指導や罰則リスク", "お客様から見える場所にあると店舗イメージの低下"], "solution": "定期回収・臨時回収の両方に対応。可燃・不燃ゴミをルールに従って分別し、効率的で衛生的なゴミ管理を実現します。厨房機器から什器まで大型ゴミを迅速に回収・処分。リサイクル・産廃ルールに基づき適切に処理するため、安心・安全・手間のない廃棄管理を実現します。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "家電", "img-url": "images/gomi_kaden.png", "countable": true, "unit": "基", "count": 0}, {"text": "ステンレス", "img-url": "images/gomi_sutenresu.png", "countable": true, "unit": "基", "count": 0}, {"text": "可燃", "img-url": "images/gomi_kanen.png", "countable": true, "unit": "個", "count": 0}, {"text": "不燃", "img-url": "images/gomi_funen.png", "countable": true, "unit": "個", "count": 0}, {"text": "ビン", "img-url": "images/gomi_bin.png", "countable": true, "unit": "個", "count": 0}, {"text": "カン", "img-url": "images/gomi_kan.png", "countable": true, "unit": "個", "count": 0}, {"text": "ペットボトル", "img-url": "images/gomi_pettobotoru.png", "countable": true, "unit": "個", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/可燃ゴミ.png"}, {"id": 22, "title": "整理整頓", "category": "フロア", "price": "¥ 8,750", "image": "images/seiriseiton.png", "description": "飲食店のバックヤード・厨房・倉庫は、食材や備品が多く、物が散乱しやすい環境です。整理整頓を怠ると…", "problems": ["必要な物がすぐに見つからず 業務効率が低下", "不要な在庫や備品が溜まりコストが増加", "雑然とした空間がスタッフのモチベーション低下に"], "solution": "現場の動線を考慮しながら備品や食材の配置最適化・ラベリング・棚卸しサポートを実施。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/seiriseiton_seiriseiton.png", "countable": true, "unit": "箇所", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/整理整頓.png"}, {"id": 23, "title": "配線整理", "category": "その他", "price": "¥ 3,500〜", "image": "images/haisenseiri.png", "description": "調理機器や冷蔵庫、POSレジなどで電源コードや配線が複雑に絡まりやすい環境です。放置すると…", "problems": ["ホコリや油汚れが付着し火災・ショートリスク", "機器の入れ替えや掃除のたびに作業効率が低下", "見た目が乱雑で不衛生・管理不足の印象"], "solution": "専門スタッフが、現場の動線や機器配置に合わせて配線の整理・結束・ラベリングを実施。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/haisenseiri_haisenseiri.png", "countable": true, "unit": "箇所", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/配線整理.png"}, {"id": 24, "title": "ソファークリーニング", "category": "フロア", "price": "¥ 35,500〜", "image": "images/sofa.png", "description": "飲食店のソファや椅子は、お客様が長時間座る接客スペースです。日々の使用で汚れや臭いが蓄積しやすく、清潔感を保つためには定期的な専門クリーニングが必要です。", "problems": ["汚れや臭いによる清潔感の低下", "シミやカビによる見た目の悪化", "細菌やダニの繁殖による衛生面のリスク", "お客様への印象悪化による集客力の低下"], "solution": "専門クリーニングでは、専用洗剤と工具を使用して、ソファや椅子の汚れや臭いを徹底的に除去し、清潔感と美観を回復させます。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/sofa_sofa.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/sofa.png"}, {"id": 25, "title": "スタッフルーム清掃", "category": "その他", "price": "¥ 7,000〜", "image": "images/staffroom.png", "description": "飲食店スタッフが利用する休憩室・更衣室（スタッフルーム）は、油汚れの付着や食べかす・ゴミが溜まりやすく、放置すると次のような問題が起こります。", "problems": ["ゴミや食べ残しが原因で害虫の発生源に", "散らかった休憩室でスタッフのモチベーション低下", "不衛生な環境が従業員定着率や店舗評価に悪影響"], "solution": "専門清掃では、床や壁の洗浄、ロッカーやテーブル周りの拭き上げ、ゴミの回収までを徹底対応。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "毎週清掃している", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/staffroom_80.jpeg"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/staffroom_90.jpeg"}, {"text": "徹底的にお願いしたい", "img-url": "images/staffroom_100.jpeg"}]}], "details": [{"section-title": "", "section-type": "grid-items", "section-items": [{"text": "スタッフルーム清掃", "img-url": "images/staffroom_staffroom.png"}]}, {"section-title": "辞めたスタッフのゴミも処分しますか？", "section-type": "radio-group", "section-items": [{"text": "はい", "value": "ok", "default": false}, {"text": "いいえ", "value": "no", "default": false}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/スタッフルーム.png"}, {"id": 26, "title": "床マット交換", "category": "その他", "price": "¥ 17,500〜", "image": "images/yukamatto_koukan.png", "description": "店舗の入口に設置される玄関マットは、泥・ホコリ・油分を吸着し、店内を清潔に保つ役割を果たします。", "problems": ["マットの黒ずみやシミで不衛生な第一印象", "吸水・防滑効果が落ちて転倒リスクが増加", "見た目の劣化で店舗全体のイメージダウン"], "solution": "定期的なマット交換・クリーニング済みマットの設置を行い、常に清潔で安全な入口環境を維持いたします。", "forms": [], "details": [{"section-title": "数量"}, {"section-title": "ブラック/ブラウン(材質：ナイロン・ニトリルゴム)", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/yukamatto_nairon.png"}]}, {"section-type": "grid-items", "section-items": [{"text": "(縦×横)36×60cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)45×75cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)60×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)75×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×120cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×150cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×180cm", "countable": true, "unit": "枚", "count": 0}]}, {"section-title": "ブルー/ブラック(材質：ナイロン・ニトリルゴム)", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/yukamatto_naironblue.png"}]}, {"section-type": "grid-items", "section-items": [{"text": "(縦×横)36×60cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)45×75cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)60×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)75×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×120cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×150cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×180cm", "countable": true, "unit": "枚", "count": 0}]}, {"section-title": "ブラック/スカーレット(材質：ナイロン・ニトリルゴム)", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/yukamatto_naironred.png"}]}, {"section-type": "grid-items", "section-items": [{"text": "(縦×横)36×60cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)45×75cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)60×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)75×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×120cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×150cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×180cm", "countable": true, "unit": "枚", "count": 0}]}, {"section-title": "ブラック/パール(材質：ナイロン・ニトリルゴム)", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/yukamatto_naironpearl.png"}]}, {"section-type": "grid-items", "section-items": [{"text": "(縦×横)36×60cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)45×75cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)60×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)75×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×120cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×150cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×180cm", "countable": true, "unit": "枚", "count": 0}]}, {"section-title": "グリーン/ブラック(材質：ナイロン・ニトリルゴム)", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/yukamatto_nairongreen.png"}]}, {"section-type": "grid-items", "section-items": [{"text": "(縦×横)45×75cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)60×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)75×90cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×120cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)90×150cm", "countable": true, "unit": "枚", "count": 0}]}, {"section-title": "グレー(材質：PVC)", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/yukamatto_naironpvcgray.png"}]}, {"section-type": "grid-items", "section-items": [{"text": "(縦×横)40×60cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)50×80cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)60×90cm", "countable": true, "unit": "枚", "count": 0}]}, {"section-title": "吸水・吸油ハイスペック玄関マットブラック(材質：ナイロン・特殊合成ゴム)", "section-type": "grid-items", "section-items": [{"text": "", "img-url": "images/yukamatto_naironhi.png"}]}, {"section-type": "grid-items", "section-items": [{"text": "(縦×横)40×60cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)50×75cm", "countable": true, "unit": "枚", "count": 0}, {"text": "(縦×横)75×90cm", "countable": true, "unit": "枚", "count": 0}]}, {"section-title": "交換頻度を教えてください", "section-type": "radio-group", "section-items": [{"text": "２週間に１回", "value": "ok", "default": false}, {"text": "１ヶ月に１回", "value": "no", "default": false}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/玄関マット交換.png"}, {"id": 27, "title": "エアコン法定点検", "category": "その他", "price": "¥ 8,750", "image": "images/eakonhouteitenken.png", "description": "定期点検を怠ると、次のようなリスクが発生します。", "problems": ["冷暖房効率の低下・電気代の増加・寿命が短くなる", "ドレンの詰まりや部品摩耗による水漏れ・異音・故障", "突発的なトラブルで営業に支障が出る可能性"], "solution": "年に1~2回の定期点検・簡易清掃・動作確認を行うことで、故障を未然に防ぎ、安心して長期間使用できます。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "室内機", "img-url": "images/eakontenken_situnaiki.png", "countable": true, "unit": "台", "count": 0}, {"text": "室外機", "img-url": "images/eakontenken_situgaiki.png", "countable": true, "unit": "台", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/エアコン定期点検.png"}, {"id": 28, "title": "店舗衛生管理", "category": "その他", "price": "¥ 50,000〜", "image": "images/eiseikanri.png", "description": "本部のブランドイメージや衛生基準を守るために、定期的な巡回・査察が欠かせません。放置すると以下の問題が発生します。", "problems": ["調理設備や什器の不具合が放置されて事故や故障に", "衛生管理不足による行政指導・営業停止リスク", "店舗オーナーやスタッフの意識低下・離反"], "solution": "本部基準に沿ったチェックリストを用い、店舗ごとの清掃・衛生状況・設備点検を定期的に実施。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "店舗数", "img-url": "images/eiseikanri_tenposuu.png", "countable": true, "unit": "店舗", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/FC店舗.png"}, {"id": 29, "title": "5Sコンサルティング", "category": "その他", "price": "¥ 10.500〜", "image": "images/5s.png", "description": "飲食店の現場では、モノが多く、清掃・整理が行き届かないことがよくありますが、そのまま放置すると…", "problems": ["倉庫や厨房が乱雑し作業効率が低下", "ゴミや汚れがたまり 害虫・悪臭の原因に", "雑然とした雰囲気が衛生管理不足の印象を与える"], "solution": "現場調査を行い、5Sの導入指導・改善提案・仕組みづくりを実施いたします。", "forms": [], "details": [{"section-title": "5Sとは「清掃、整理、整頓、清潔、躾」の頭文字を取った、職場の環境を整え効率と安全を高めるための改善活動です。"}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/5s.png"}, {"id": 30, "title": "高所/厨房機器内埃取り", "category": "その他", "price": "¥ 875", "image": "images/kousho.png", "description": "高所部分(天井・照明・ダクト周り) や厨房機器内部は、埃や油汚れが蓄積しやすい場所です。", "problems": ["埃が落下して料理や食材を汚染、悪臭や不衛生な印象に", "故障・火災リスクの増加", "店舗イメージを大きく損なう"], "solution": "専門清掃では、専用の器具・高所対応機材を用いて、普段届かない場所の埃や油汚れを徹底除去いたします。", "forms": [], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "清掃箇所の高さ", "img-url": "images/kousho_takasa.png", "countable": true, "unit": "m", "count": 0}]}, {"section-title": "備考欄（任意）埃を取りたい箇所をご記入ください。", "section-type": "textarea", "placeholder": "例：天井、エアコン上", "maxLength": 500, "key": "note"}], "detail-image": "images/kousho.png"}, {"id": 31, "title": "ネズミ駆除", "category": "その他", "price": "¥ 17,500〜", "image": "images/nezumi.png", "description": "ネズミが飲食店に侵入することによるリスクがあります。食材、配線、建材をかじるだけでなく、病原菌やウイルスを媒介する大きなリスクがあります。", "problems": ["食中毒リスク、糞尿や毛による悪臭・不衛生感", "配線をかじられて火災・設備故障の危険", "クレームや営業停止リスク"], "solution": "生息調査、侵入経路の封鎖、トラップ設置、薬剤処理を組み合わせて徹底的に対応。", "forms": [{"section-title": "ネズミの発生状況について、現在の緊急度を教えてください。", "section-type": "radio-text", "required": true, "section-items": ["すぐに駆除が必要", "早めに対応したい", "様子を見ながら検討"]}, {"section-title": "駆除のご希望レベルをお選びください", "section-type": "radio-text", "required": true, "section-items": ["ゼロにしたい", "減衰したい", "予防したい"]}], "details": [{"section-title": "種類を教えてください", "section-type": "radio-text", "required": true, "section-items": ["クマネズミ", "ドブネズミ", "ハツカズミ", "わからない"]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/ネズミ駆除.png"}, {"id": 32, "title": "ゴキブリ/チョウバエ駆除", "category": "その他", "price": "¥ 12,250", "image": "images/gokiburichoubae.png", "description": "食材や油汚れ・湿気などの環境から害虫が発生しやすい場所です。ゴキブリやチョウバエなどを放置すると…", "problems": ["食材や調理器具を汚染し食中毒リスク", "クレームや店舗イメージの悪化", "行政からの指導や営業停止リスク"], "solution": "状況に応じて薬剤散布・トラップ設置・発生源対策を実施。駆除だけでなく再発防止策(清掃・侵入経路対策) までサポートし、安心できる衛生環境を提供します。", "forms": [{"section-title": "害虫の発生状況について、現在の緊急度を教えてください。", "section-type": "radio-text", "required": true, "section-items": ["すぐに駆除が必要", "早めに対応したい", "様子を見ながら検討"]}, {"section-title": "駆除のご希望レベルをお選びください", "section-type": "radio-text", "required": true, "section-items": ["ゼロにしたい", "減衰したい", "予防したい"]}], "details": [{"section-title": "種類を教えてください", "section-type": "radio-text", "required": true, "section-items": ["チャバネゴキブリ", "クロゴキブリ", "ワモンゴキブリ", "チョウバエ", "チャタテムシ", "わからない"]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/害虫駆除.png"}, {"id": 33, "title": "HACCP", "category": "その他", "price": "¥ 10,000", "image": "images/haccp.png", "description": "日々の記録や点検をスタッフ任せにすると、抜け漏れや形骸化が発生しやすくなります。放置すると…", "problems": ["記録不備で 行政指導・営業停止リスク", "温度管理や衛生管理不足による食中毒リスク", "スタッフ任せで運用が定着せず、業務負担が増加"], "solution": "点検チェックリストの整備、温度・衛生データの一元管理、スタッフへの教育・運用サポートで仕組みを構築のお手伝いをいたします。", "forms": [], "details": [{"section-title": "当社は、HACCPに準拠した衛生管理体制の構築を支援する清掃サービスを提供しています。厨房・調理場・設備機器を対象に、細菌や害虫の温床となりやすい箇所を徹底的に洗浄・除菌し、食品衛生法に基づく管理基準を満たす環境づくりをサポートします。監査・保健所の検査における信頼性向上と、持続的な衛生管理の仕組みづくりを実現します。"}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/HACCAP.png"}, {"id": 34, "title": "汚水槽", "category": "その他", "price": "¥ 50,000", "image": "images/osuisou.png", "description": "汚水は汚水槽に一時的に溜まります。放置すると、短期間で以下のような深刻な問題が発生します。", "problems": ["強烈な悪臭が店内や周辺に充満、排水詰まり・逆流", "ゴキブリやチョウバエなど害虫の発生源に", "行政からの指導・営業停止リスク"], "solution": "槽内の汚泥を吸引・除去し、高圧洗浄・除菌仕上げを実施。悪臭・害虫・詰まりを防止し、快適で衛生的な店舗環境を維持できます。定期的な清掃が法令遵守にもつながります。", "forms": [{"section-title": "日頃のお掃除の状況について教えてください", "section-type": "radio-text", "required": true, "section-items": ["毎日清掃している", "毎週清掃している", "月に1回程度", "半年〜1年に1回", "1度もしていない"]}, {"section-title": "清掃の仕上がりイメージを教えてください", "section-type": "radio-image", "required": false, "section-items": [{"text": "表面がきれいになれば十分", "img-url": "images/osuisou_80.png"}, {"text": "ある程度きれいにしてほしい", "img-url": "images/osuisou_90.png"}, {"text": "徹底的にお願いしたい", "img-url": "images/osuisou_100.png"}]}], "details": [{"section-title": "数量", "section-type": "grid-items", "section-items": [{"text": "縦横 約1m×深さ 約1m 約500L程度", "countable": true, "unit": "", "count": 0}, {"text": "縦横 約1.5m×深さ 約1.5m 約1,000~1,500L程度", "countable": true, "unit": "", "count": 0}, {"text": "縦横 約2m×深さ 約2m 約2,500~3,000L程度", "countable": true, "unit": "", "count": 0}, {"text": "それ以上のサイズ 3,000L以上", "countable": true, "unit": "", "count": 0}, {"text": "わからない", "countable": true, "unit": "", "count": 0}]}, {"section-title": "備考欄（任意）", "section-type": "textarea", "placeholder": "例：設置場所、使用時間帯、臭気の有無など", "maxLength": 500, "key": "note"}], "detail-image": "images/ミセサポ2025/汚水槽.png"}]
  </script>

  <!-- html2canvasライブラリ（スクリーンショット撮影用） -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    /* 基本レイアウト */
    .concierge-page {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      overflow: hidden;
      background: #f9fafb;
      padding-bottom: 80px; /* クイックメニューの高さ分 */
    }

    /* 横スライドコンテナ */
    .concierge-slider-container {
      width: 100%;
      height: 100%;
      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
    }

    .concierge-slider {
      display: flex;
      width: 500vw; /* 5画面分（メニューに応じて切り替え） */
      height: 100%;
    }

    /* 各画面 */
    .concierge-screen {
      width: 100vw;
      height: 100%;
      flex-shrink: 0;
      overflow-y: auto;
      overflow-x: hidden;
      padding: 16px;
      scroll-snap-align: start;
      scroll-snap-stop: always;
      -webkit-overflow-scrolling: touch;
    }

    .screen-header {
      margin-bottom: 20px;
      padding-bottom: 12px;
      border-bottom: 2px solid #e5e7eb;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .dashboard-link {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: var(--primary);
      color: #ffffff;
      border-radius: 8px;
      text-decoration: none;
      font-size: 0.875rem;
      font-weight: 600;
      transition: all 0.2s;
    }

    .dashboard-link:hover {
      background: #ff6b9d;
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(255, 107, 157, 0.3);
    }

    .dashboard-link i {
      font-size: 1rem;
    }

    .screen-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #111827;
      margin: 0;
      flex: 1;
    }

    /* アクティビティ画面 */
    .activity-section {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .urgent-section {
      border: 2px solid #ef4444;
      background: #fef2f2;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .section-title {
      font-size: 1.125rem;
      font-weight: 700;
      color: #111827;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title i {
      color: var(--primary);
    }

    .urgent-badge,
    .notification-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-width: 24px;
      height: 24px;
      padding: 0 8px;
      background: #ef4444;
      color: #ffffff;
      border-radius: 12px;
      font-size: 0.75rem;
      font-weight: 700;
    }

    .urgent-list,
    .schedule-list,
    .inquiry-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .urgent-item,
    .schedule-card,
    .inquiry-card {
      padding: 16px;
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-left: 4px solid var(--primary);
      border-radius: 8px;
      transition: all 0.2s;
    }

    .urgent-item {
      border-left-color: #ef4444;
      background: #ffffff;
    }

    .urgent-item:active,
    .schedule-card:active,
    .inquiry-card:active {
      transform: scale(0.98);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .urgent-title,
    .schedule-client,
    .inquiry-company {
      font-size: 1rem;
      font-weight: 600;
      color: #111827;
      margin: 0 0 4px 0;
    }

    .urgent-description,
    .schedule-store,
    .inquiry-meta {
      font-size: 0.875rem;
      color: #6b7280;
      margin: 0;
    }

    .schedule-time {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    .schedule-time-hour {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--primary);
    }

    .schedule-actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }

    .schedule-action-btn {
      flex: 1;
      padding: 10px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      color: #6b7280;
      text-decoration: none;
      text-align: center;
      font-size: 0.875rem;
      transition: all 0.2s;
    }

    .schedule-action-btn:active {
      background: var(--primary);
      color: #ffffff;
      border-color: var(--primary);
    }

    /* 顧客情報画面 */
    .client-info-container {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .client-header {
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 2px solid #e5e7eb;
    }

    .client-name {
      font-size: 1.5rem;
      font-weight: 700;
      color: #111827;
      margin: 0 0 8px 0;
    }

    .client-store {
      font-size: 1rem;
      color: #6b7280;
      margin: 0;
    }

    .client-contact {
      margin-bottom: 20px;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: #f9fafb;
      border-radius: 8px;
      margin-bottom: 8px;
      text-decoration: none;
      color: #111827;
    }

    .contact-item:active {
      background: #e5e7eb;
    }

    .contact-item i {
      width: 24px;
      color: var(--primary);
    }

    .client-address {
      margin-bottom: 20px;
    }

    .address-text {
      font-size: 0.875rem;
      color: #6b7280;
      margin: 0 0 12px 0;
    }

    .btn-map {
      width: 100%;
      padding: 12px;
      background: var(--primary);
      color: #ffffff;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-map:active {
      background: #ff6b9d;
      transform: scale(0.98);
    }

    .client-estimates {
      margin-top: 20px;
    }

    .estimates-title {
      font-size: 1rem;
      font-weight: 600;
      color: #111827;
      margin: 0 0 12px 0;
    }

    .estimate-history-item {
      padding: 12px;
      background: #f9fafb;
      border-radius: 8px;
      margin-bottom: 8px;
    }

    .estimate-history-date {
      font-size: 0.875rem;
      color: #6b7280;
      margin: 0 0 4px 0;
    }

    .estimate-history-service {
      font-size: 0.875rem;
      color: #111827;
      margin: 0 0 4px 0;
    }

    .estimate-history-price {
      font-size: 1rem;
      font-weight: 700;
      color: var(--primary);
      margin: 0;
    }

    /* サービス・価格画面 */
    .services-container {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .service-category {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .category-title {
      font-size: 1.125rem;
      font-weight: 700;
      color: #111827;
      margin: 0 0 16px 0;
      padding-bottom: 8px;
      border-bottom: 2px solid #e5e7eb;
    }

    .service-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }

    .service-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 12px;
      background: #f9fafb;
      border-radius: 8px;
      border: 2px solid transparent;
      transition: all 0.2s;
      cursor: pointer;
      text-decoration: none;
      color: inherit;
      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }

    .service-item:active {
      background: #e5e7eb;
      border-color: var(--primary);
      transform: scale(0.98);
    }
    
    .service-item.double-tap-hint {
      position: relative;
    }
    
    .service-item.double-tap-hint::after {
      content: 'ダブルタップで追加';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.8);
      color: #ffffff;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.625rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
      z-index: 10;
    }
    
    .service-item.double-tap-hint:hover::after {
      opacity: 1;
    }

    .service-item-image {
      width: 100%;
      aspect-ratio: 1;
      object-fit: cover;
      border-radius: 6px;
      margin-bottom: 8px;
      background: #ffffff;
    }

    .service-item-name {
      font-size: 0.8125rem;
      font-weight: 600;
      color: #111827;
      margin: 0 0 4px 0;
      text-align: center;
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .service-item-price {
      font-size: 1rem;
      font-weight: 700;
      color: var(--primary);
      margin: 0;
      text-align: center;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    @media (max-width: 767.98px) {
      .service-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 6px;
      }
      .service-item {
        padding: 6px 4px;
      }
      .service-item-image {
        margin-bottom: 4px;
      }
      .service-item-name {
        font-size: 0.625rem;
        line-height: 1.2;
        margin: 0 0 2px 0;
        -webkit-line-clamp: 2;
      }
      .service-item-price {
        font-size: 0.6875rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
      }
    }

    /* 仮見積もり作成画面 */
    .estimate-form-container {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .selected-services {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 20px;
    }

    .selected-service-item {
      background: #ffffff;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      overflow: hidden;
      transition: all 0.2s;
    }

    .selected-service-item.expanded {
      border-color: var(--primary);
      box-shadow: 0 2px 8px rgba(255, 107, 157, 0.15);
    }

    .selected-service-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px;
      cursor: pointer;
      user-select: none;
      -webkit-user-select: none;
    }

    .selected-service-header:hover {
      background: #f9fafb;
    }

    .selected-service-info {
      flex: 1;
      min-width: 0;
    }

    .selected-service-name {
      font-size: 1rem;
      font-weight: 600;
      color: #111827;
      margin: 0 0 4px 0;
    }

    .selected-service-price {
      font-size: 0.875rem;
      color: #6b7280;
      margin: 0;
    }

    .selected-service-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-service-memo {
      padding: 8px 12px;
      background: #f3f4f6;
      color: #6b7280;
      border: none;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 4px;
      position: relative;
    }

    .btn-service-memo:hover {
      background: #e5e7eb;
      color: #111827;
    }

    .btn-service-memo.active {
      background: var(--primary);
      color: #ffffff;
    }

    .btn-service-memo i {
      font-size: 0.75rem;
    }

    .memo-badge {
      position: absolute;
      top: -2px;
      right: -2px;
      width: 8px;
      height: 8px;
      background: #ef4444;
      border-radius: 50%;
      border: 2px solid #ffffff;
    }

    .memo-badge i {
      display: none;
    }

    .btn-remove-service {
      padding: 8px 16px;
      background: #ef4444;
      color: #ffffff;
      border: none;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-remove-service:hover {
      background: #dc2626;
    }

    .btn-remove-service:active {
      transform: scale(0.98);
    }

    .selected-service-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }

    .selected-service-item.expanded .selected-service-content {
      max-height: 500px;
      transition: max-height 0.3s ease-in;
    }

    .selected-service-multiplier {
      padding: 16px;
      border-top: 1px solid #e5e7eb;
      background: #f9fafb;
    }

    .selected-service-multiplier label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 8px;
    }

    .multiplier-buttons {
      display: flex;
      gap: 8px;
    }

    .multiplier-btn {
      flex: 1;
      padding: 8px 12px;
      background: #ffffff;
      border: 2px solid #d1d5db;
      border-radius: 6px;
      font-size: 0.875rem;
      font-weight: 600;
      color: #6b7280;
      cursor: pointer;
      transition: all 0.2s;
    }

    .multiplier-btn:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    .multiplier-btn.active {
      background: var(--primary);
      border-color: var(--primary);
      color: #ffffff;
    }

    .multiplier-btn:active {
      transform: scale(0.98);
    }

    .selected-service-memo {
      padding: 0 16px 16px 16px;
      border-top: 1px solid #e5e7eb;
      background: #f9fafb;
    }

    .selected-service-memo label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 8px;
    }

    .selected-service-memo textarea {
      width: 100%;
      min-height: 80px;
      padding: 12px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 0.875rem;
      font-family: inherit;
      resize: vertical;
      transition: border-color 0.2s;
      box-sizing: border-box;
    }

    .selected-service-memo textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(255, 107, 157, 0.1);
    }

    .estimate-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      background: linear-gradient(135deg, var(--primary) 0%, #ff6b9d 100%);
      border-radius: 12px;
      margin-bottom: 24px;
      box-shadow: 0 4px 12px rgba(255, 107, 157, 0.3);
      color: #ffffff;
    }

    .total-label {
      font-size: 1rem;
      font-weight: 600;
    }

    .total-value {
      font-size: 1.75rem;
      font-weight: 700;
    }

    .estimate-photos {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .photos-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .photos-header h3 {
      font-size: 1rem;
      font-weight: 600;
      color: #111827;
      margin: 0;
    }

    .btn-photo-add {
      padding: 8px 16px;
      background: var(--primary);
      color: #ffffff;
      border: none;
      border-radius: 8px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-photo-add:active {
      background: #ff6b9d;
    }

    .photos-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
    }

    .photo-item {
      position: relative;
      aspect-ratio: 1;
      border-radius: 8px;
      overflow: hidden;
    }

    .photo-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .photo-item .btn-remove-photo {
      position: absolute;
      top: 4px;
      right: 4px;
      width: 24px;
      height: 24px;
      background: rgba(0,0,0,0.6);
      color: #ffffff;
      border: none;
      border-radius: 50%;
      font-size: 0.75rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .estimate-notes {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .estimate-notes label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: #111827;
      margin-bottom: 8px;
    }

    .notes-input {
      width: 100%;
      min-height: 100px;
      padding: 12px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      font-size: 0.875rem;
      font-family: inherit;
      resize: vertical;
    }

    .estimate-actions {
      display: flex;
      gap: 12px;
    }

    .btn-save,
    .btn-send {
      flex: 1;
      padding: 16px;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-save {
      background: #f9fafb;
      color: #111827;
      border: 1px solid #e5e7eb;
    }

    .btn-save:active {
      background: #e5e7eb;
    }

    .btn-send {
      background: var(--primary);
      color: #ffffff;
    }

    .btn-send:active {
      background: #ff6b9d;
      transform: scale(0.98);
    }

    /* 地図画面 */
    .map-container {
      width: 100%;
      height: 300px;
      background: #e5e7eb;
      border-radius: 12px;
      margin-bottom: 16px;
      position: relative;
      overflow: hidden;
    }

    .map-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #6b7280;
    }

    .map-placeholder i {
      font-size: 3rem;
      margin-bottom: 12px;
      opacity: 0.5;
    }

    .map-placeholder p {
      font-size: 0.875rem;
      margin: 0;
    }

    .map-schedule-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .map-schedule-item {
      padding: 16px;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .map-schedule-time {
      font-size: 1.125rem;
      font-weight: 700;
      color: var(--primary);
      margin: 0 0 8px 0;
    }

    .map-schedule-client {
      font-size: 1rem;
      font-weight: 600;
      color: #111827;
      margin: 0 0 4px 0;
    }

    .map-schedule-store {
      font-size: 0.875rem;
      color: #6b7280;
      margin: 0 0 12px 0;
    }

    .map-schedule-actions {
      display: flex;
      gap: 8px;
    }

    .btn-map-route {
      flex: 1;
      padding: 10px;
      background: var(--primary);
      color: #ffffff;
      border: none;
      border-radius: 8px;
      font-size: 0.875rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-map-route:active {
      background: #ff6b9d;
    }

    /* 画面下部固定クイックメニュー */
    .concierge-quick-menu {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      background: #ffffff;
      border-top: 1px solid #e5e7eb;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
      z-index: 1000;
      padding: 8px 0;
      transition: transform 0.3s ease-out;
      will-change: transform;
      transform-style: preserve-3d;
      perspective: 1000px;
    }

    /* スライド＆フェードアニメーション */
    .concierge-quick-menu.sliding-fade {
      animation: slideFadeMenu 0.5s ease-in-out;
    }

    @keyframes slideFadeMenu {
      0% {
        transform: translateY(0);
        opacity: 1;
      }
      50% {
        transform: translateY(-20px);
        opacity: 0.3;
    }
      100% {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .quick-menu-btn {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      padding: 8px;
      background: transparent;
      border: none;
      color: #6b7280;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
    }

    .quick-menu-btn i {
      font-size: 1.5rem;
    }

    .quick-menu-btn.active {
      color: var(--primary);
    }

    .quick-menu-btn:active {
      transform: scale(0.95);
    }

    /* 二段目のメニュー（非表示） */
    .concierge-quick-menu-second {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      background: #f9fafb;
      border-top: 1px solid #e5e7eb;
      box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
      z-index: 1001;
      padding: 8px 0;
      transform: translateY(100%);
      transition: transform 0.3s ease-out;
      will-change: transform;
      visibility: hidden;
      transform-style: preserve-3d;
      perspective: 1000px;
    }

    /* スライド＆フェードアニメーション */
    .concierge-quick-menu-second.sliding-fade {
      animation: slideFadeMenuSecond 0.5s ease-in-out;
    }

    @keyframes slideFadeMenuSecond {
      0% {
        transform: translateY(100%);
        opacity: 0;
      }
      50% {
        transform: translateY(calc(100% - 10px));
        opacity: 0.5;
      }
      100% {
        transform: translateY(100%);
        opacity: 1;
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    .quick-menu-btn-second {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      padding: 8px;
      background: transparent;
      border: none;
      color: #6b7280;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
    }

    .quick-menu-btn-second i {
      font-size: 1.5rem;
    }

    .quick-menu-btn-second.active {
      color: var(--primary);
    }

    .quick-menu-btn-second:active {
      transform: scale(0.95);
    }

    .empty-state {
      text-align: center;
      padding: 40px 20px;
      color: #9ca3af;
    }

    .empty-state i {
      font-size: 2.5rem;
      margin-bottom: 12px;
      opacity: 0.5;
    }

    .empty-state p {
      font-size: 0.95rem;
      margin: 0;
    }

    /* スケジュール画面 */
    .schedule-container {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .schedule-card {
      background: #ffffff;
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .schedule-time {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 8px;
    }

    .schedule-time-hour {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--primary);
    }

    .schedule-time-date {
      font-size: 0.875rem;
      color: #6b7280;
    }

    .schedule-client {
      font-size: 1rem;
      font-weight: 600;
      color: #111827;
      margin-bottom: 4px;
    }

    .schedule-store {
      font-size: 0.875rem;
      color: #6b7280;
      margin-bottom: 12px;
    }

    .schedule-actions {
      display: flex;
      gap: 8px;
    }

    .schedule-action-btn {
      padding: 8px 12px;
      background: #f3f4f6;
      color: #6b7280;
      border-radius: 6px;
      text-decoration: none;
      font-size: 0.875rem;
      transition: all 0.2s;
    }

    .schedule-action-btn:hover {
      background: var(--primary);
      color: #ffffff;
    }

    /* TODOリスト画面 */
    .todo-container {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .todo-input-section {
      display: flex;
      gap: 8px;
    }

    .todo-input {
      flex: 1;
        padding: 12px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 0.875rem;
    }

    .btn-todo-add {
      padding: 12px 20px;
      background: var(--primary);
      color: #ffffff;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-todo-add:hover {
      background: #ff6b9d;
    }

    .todo-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .todo-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .todo-item.completed .todo-text {
      text-decoration: line-through;
      color: #9ca3af;
    }

    .todo-checkbox {
      width: 20px;
      height: 20px;
      cursor: pointer;
    }

    .todo-text {
      flex: 1;
      font-size: 0.875rem;
      color: #111827;
    }

    .btn-todo-delete {
      padding: 8px;
      background: #ef4444;
      color: #ffffff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-todo-delete:hover {
      background: #dc2626;
    }

    /* メモ帳画面 */
    .notes-container {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .notes-input-section {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .notes-textarea {
      width: 100%;
      min-height: 150px;
      padding: 12px;
      border: 1px solid #d1d5db;
      border-radius: 8px;
      font-size: 0.875rem;
      font-family: inherit;
      resize: vertical;
      box-sizing: border-box;
    }

    .btn-notes-save {
      padding: 12px 20px;
      background: var(--primary);
      color: #ffffff;
      border: none;
      border-radius: 8px;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-notes-save:hover {
      background: #ff6b9d;
    }

    .notes-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .note-item {
      background: #ffffff;
      border-radius: 8px;
        padding: 16px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }

    .note-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .note-date {
      font-size: 0.75rem;
      color: #6b7280;
    }

    .btn-note-delete {
      padding: 6px 10px;
      background: #ef4444;
      color: #ffffff;
      border: none;
      border-radius: 6px;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-note-delete:hover {
      background: #dc2626;
    }

    .note-content {
      font-size: 0.875rem;
      color: #111827;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    /* カメラ画面 */
    .camera-container {
      display: flex;
        flex-direction: column;
      gap: 16px;
    }

    .camera-preview {
      width: 100%;
      aspect-ratio: 4/3;
      background: #000000;
      border-radius: 12px;
      overflow: hidden;
      position: relative;
      }

    .camera-video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .camera-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
        flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #ffffff;
    }

    .camera-placeholder i {
      font-size: 3rem;
      margin-bottom: 12px;
      opacity: 0.5;
    }

    .camera-placeholder p {
      font-size: 0.875rem;
      margin: 0;
    }

    .camera-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 24px;
      }

    .btn-camera-capture {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background: #ffffff;
      border: 4px solid var(--primary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .btn-camera-capture:hover {
      transform: scale(1.1);
    }

    .btn-camera-capture i {
      font-size: 1.5rem;
      color: var(--primary);
    }

    .btn-camera-switch {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: #f3f4f6;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }

    .btn-camera-switch:hover {
      background: #e5e7eb;
    }

    .btn-camera-switch i {
      font-size: 1.25rem;
      color: #6b7280;
    }

    .camera-gallery {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 8px;
    }

    .camera-gallery-item {
      position: relative;
      aspect-ratio: 1;
      border-radius: 8px;
      overflow: hidden;
    }

    .camera-gallery-item img {
        width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .btn-gallery-delete {
      position: absolute;
      top: 4px;
      right: 4px;
      width: 24px;
      height: 24px;
      background: rgba(0,0,0,0.6);
      color: #ffffff;
      border: none;
      border-radius: 50%;
      font-size: 0.75rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* ログアウト画面 */
    .logout-container {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 400px;
    }

    .logout-content {
      text-align: center;
      padding: 40px;
      background: #ffffff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 100%;
      }

    .logout-content i {
      font-size: 3rem;
      color: var(--primary);
      margin-bottom: 16px;
    }

    .logout-content h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: #111827;
      margin: 0 0 12px 0;
    }

    .logout-content p {
      font-size: 0.875rem;
      color: #6b7280;
      margin: 0 0 24px 0;
    }

    .logout-actions {
      display: flex;
      gap: 12px;
    }

    .btn-logout-cancel {
      flex: 1;
      padding: 12px;
      background: #f3f4f6;
      color: #6b7280;
      border: none;
      border-radius: 8px;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .btn-logout-cancel:hover {
      background: #e5e7eb;
    }

    .btn-logout-confirm {
      flex: 1;
      padding: 12px;
      background: #ef4444;
      color: #ffffff;
      border: none;
      border-radius: 8px;
      font-size: 0.875rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .btn-logout-confirm:hover {
      background: #dc2626;
    }

    /* 仮見積もり概算画面 */
    .estimate-preview-container {
      display: flex;
        flex-direction: column;
      height: 100%;
      padding: 16px;
      gap: 16px;
    }

    .estimate-preview-content {
      flex: 1;
      overflow-y: auto;
      background: #ffffff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .estimate-preview-header {
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 2px solid #e5e7eb;
    }

    .estimate-preview-header h2 {
      margin: 0 0 8px 0;
      font-size: 1.5rem;
      color: #111827;
    }

    .estimate-date {
      margin: 0;
      font-size: 0.875rem;
      color: #6b7280;
    }

    .estimate-preview-services {
      margin-bottom: 24px;
    }

    .estimate-preview-services h3 {
      margin: 0 0 12px 0;
      font-size: 1.125rem;
      color: #111827;
    }

    .estimate-services-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.875rem;
      }

    .estimate-services-table th,
    .estimate-services-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e5e7eb;
    }

    .estimate-services-table th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
    }

    .estimate-services-table tfoot {
      font-weight: 600;
    }

    .estimate-services-table .total-label {
      text-align: right;
      padding-right: 16px;
    }

    .estimate-services-table .total-value {
      color: var(--primary);
      font-size: 1.125rem;
      }

    .estimate-preview-photos {
      margin-bottom: 24px;
    }

    .estimate-preview-photos h3 {
      margin: 0 0 12px 0;
      font-size: 1.125rem;
      color: #111827;
    }

    .estimate-preview-photos-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 12px;
      }

    .preview-photo {
      width: 100%;
      height: auto;
      border-radius: 8px;
      object-fit: cover;
      aspect-ratio: 1;
    }

    .estimate-preview-notes {
      margin-bottom: 24px;
    }

    .estimate-preview-notes h3 {
      margin: 0 0 12px 0;
      font-size: 1.125rem;
      color: #111827;
    }

    .estimate-preview-notes p {
      margin: 0;
      padding: 12px;
      background: #f9fafb;
      border-radius: 8px;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    .estimate-preview-actions {
      display: flex;
      gap: 12px;
      padding: 16px;
      background: #ffffff;
      border-top: 1px solid #e5e7eb;
      position: sticky;
      bottom: 0;
    }

    .btn-create {
      padding: 12px 24px;
      background: var(--primary);
      color: #ffffff;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-create:hover {
      background: #ff6b9d;
    }

    /* SP版のヘッダーとロゴを非表示 */
    @media (max-width: 767.98px) {
      body:has(.concierge-page) header.site-header,
      body:has(.concierge-page) header.site-header .brand-logo,
      body:has(.concierge-page) header.site-header .nav-left,
      body:has(.concierge-page) header.site-header .nav-right,
      body:has(.concierge-page) header.site-header .hamburger-btn,
      body:has(.concierge-page) header.site-header .mobile-nav {
        display: none !important;
      }
      
      /* ヘッダーが非表示になるので、ページの上部余白を調整 */
      .concierge-page {
        top: 0;
      }
    }

    /* PC対応（縦並び表示） */
    @media (min-width: 768px) {
      .concierge-slider {
        width: 100vw;
        flex-direction: column;
      }

      .concierge-screen {
        width: 100%;
        height: auto;
        min-height: calc(100vh - 80px);
        overflow-y: auto;
        overflow-x: hidden;
        padding-bottom: 160px; /* 二段メニュー分の余白を追加 */
      }

      .concierge-slider-container {
        scroll-snap-type: none;
        overflow-y: auto;
        overflow-x: hidden;
      }
      
      /* PC版では最初の画面のみ表示 */
      .concierge-screen:not(.active) {
        display: none;
      }
    }
  </style>

  <script>
    // データ読み込み
    (function() {
      const clientsData = JSON.parse(document.getElementById('clients-data').textContent);
      const scheduleData = JSON.parse(document.getElementById('schedule-data').textContent);
      const inquiriesData = JSON.parse(document.getElementById('inquiries-data').textContent);
      const estimatesData = JSON.parse(document.getElementById('estimates-data').textContent);
      const serviceItemsData = JSON.parse(document.getElementById('service-items-data').textContent);
      
      const clients = clientsData.clients || [];
      const schedules = scheduleData.schedules || [];
      const inquiries = inquiriesData.inquiries || [];
      const estimates = estimatesData.estimates || [];
      const serviceItems = serviceItemsData || [];

      // 横スライド機能
      const slider = document.getElementById('concierge-slider');
      const screens = document.querySelectorAll('.concierge-screen');
      const quickMenuBtns = document.querySelectorAll('.quick-menu-btn[data-screen]');
      let currentScreen = 0;
      let isScrolling = false;

      // 画面切り替え
      function switchScreen(index) {
        if (index < 0 || index >= screens.length) return;
        
        // 表示中の画面のみを対象にする
        const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
        const visibleScreenElements = Array.from(screens).filter(s => visibleScreens.includes(s.dataset.screen));
        
        if (index >= visibleScreenElements.length) return;
        
        const targetScreen = visibleScreenElements[index];
        const screenName = targetScreen.dataset.screen;
        const actualIndex = Array.from(screens).indexOf(targetScreen);
        
        currentScreen = actualIndex;
        
        // PC版とSP版で異なる処理
        const isMobile = window.innerWidth <= 767.98;
        
        if (isMobile) {
          // SP版: 横スライドで切り替え（表示中の画面の中でのインデックスを使用）
          // 表示中の画面のみを対象にする
          const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
          const visibleScreenElements = Array.from(screens).filter(s => visibleScreens.includes(s.dataset.screen));
          
          if (index >= 0 && index < visibleScreenElements.length) {
            // スライダーのスクロール位置をリセットしてから新しい位置に移動
            slider.scrollLeft = 0;
            setTimeout(() => {
              slider.scrollTo({
                left: index * window.innerWidth,
                behavior: 'smooth'
              });
            }, 10);
          }
        } else {
          // PC版: 直接表示（横スライドなし）
          // 各画面を縦に並べて表示
          screens.forEach((s, i) => {
            if (i === actualIndex) {
              s.style.display = 'block';
            } else {
              s.style.display = 'none';
            }
          });
        }

        // アクティブ状態を更新
        screens.forEach(s => s.classList.remove('active'));
        targetScreen.classList.add('active');
        
        // 一段目のメニューボタンのアクティブ状態を更新
        quickMenuBtns.forEach(btn => {
          if (btn.dataset.screen === screenName) {
            btn.classList.add('active');
          } else {
            btn.classList.remove('active');
          }
        });
        
        // 二段目のメニューボタンのアクティブ状態も更新
        const quickMenuBtnsSecond = document.querySelectorAll('.quick-menu-btn-second[data-screen]');
        quickMenuBtnsSecond.forEach(btn => {
          if (btn.dataset.screen === screenName) {
            btn.classList.add('active');
          } else {
            btn.classList.remove('active');
          }
        });

        // 画面固有の処理
        if (screenName === 'client') {
          renderClientInfo();
        } else if (screenName === 'services') {
          renderServices();
        } else if (screenName === 'map') {
          renderMap();
        } else if (screenName === 'schedule') {
          renderSchedule();
        } else if (screenName === 'todo') {
          renderTodo();
        } else if (screenName === 'notes') {
          renderNotes();
        } else if (screenName === 'camera') {
          initCamera();
        } else if (screenName === 'estimate-preview') {
          // 概算画面は既にレンダリング済み
        } else if (screenName === 'logout') {
          // ログアウト画面は静的表示
        }
      }
      
      // リサイズ時に画面表示を調整
      let resizeTimer;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          const isMobile = window.innerWidth <= 767.98;
          if (!isMobile) {
            // PC版: 現在の画面のみ表示
            screens.forEach((s, i) => {
              if (i === currentScreen) {
                s.style.display = 'block';
              } else {
                s.style.display = 'none';
              }
            });
          } else {
            // SP版: 表示中の画面のみ表示
            updateVisibleScreens();
          }
        }, 100);
      });

      // クイックメニューボタンクリック（一段目）
      // このイベントリスナーは setupMenuEventListeners で動的に設定されるため、ここでは削除

      // スワイプ検出
      let touchStartX = 0;
      let touchEndX = 0;

      slider.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
      }, { passive: true });

      slider.addEventListener('touchend', (e) => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
      }, { passive: true });

      function handleSwipe() {
        const swipeThreshold = 50;
        const diff = touchStartX - touchEndX;

        if (Math.abs(diff) > swipeThreshold) {
          // 表示中の画面のみを対象にする
          const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
          const visibleScreenElements = Array.from(screens).filter(s => visibleScreens.includes(s.dataset.screen));
          const currentVisibleIndex = visibleScreenElements.findIndex(s => s.classList.contains('active'));
          
          if (diff > 0) {
            // 左スワイプ（次の画面）
            if (currentVisibleIndex < visibleScreenElements.length - 1) {
              const nextScreen = visibleScreenElements[currentVisibleIndex + 1];
              const nextIndex = visibleScreenElements.indexOf(nextScreen);
              switchScreen(nextIndex);
            }
          } else {
            // 右スワイプ（前の画面）
            if (currentVisibleIndex > 0) {
              const prevScreen = visibleScreenElements[currentVisibleIndex - 1];
              const prevIndex = visibleScreenElements.indexOf(prevScreen);
              switchScreen(prevIndex);
            }
          }
        }
      }

      // スクロール位置の監視
      slider.addEventListener('scroll', () => {
        if (isScrolling) return;
        const scrollLeft = slider.scrollLeft;
        const screenIndex = Math.round(scrollLeft / window.innerWidth);
        
        // 表示中の画面のみを対象にする
        const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
        const visibleScreenElements = Array.from(screens).filter(s => visibleScreens.includes(s.dataset.screen));
        
        if (screenIndex >= 0 && screenIndex < visibleScreenElements.length) {
          const screen = visibleScreenElements[screenIndex];
          const screenName = screen.dataset.screen;
          const actualIndex = Array.from(screens).indexOf(screen);
          
          if (actualIndex !== currentScreen) {
            currentScreen = actualIndex;
            
            screens.forEach(s => s.classList.remove('active'));
            screen.classList.add('active');
            
            quickMenuBtns.forEach(btn => {
              if (btn.dataset.screen === screenName) {
                btn.classList.add('active');
              } else {
                btn.classList.remove('active');
              }
            });
            
            // 二段目のメニューボタンのアクティブ状態も更新
            const quickMenuBtnsSecond = document.querySelectorAll('.quick-menu-btn-second[data-screen]');
            quickMenuBtnsSecond.forEach(btn => {
              if (btn.dataset.screen === screenName) {
                btn.classList.add('active');
              } else {
                btn.classList.remove('active');
              }
            });
          }
        }
      }, { passive: true });

      // アクティビティ画面のレンダリング
      function renderActivity() {
        const today = new Date();
        const todayStr = today.toISOString().split('T')[0];
      const todaySchedules = schedules.filter(s => s.date === todayStr);
      
        // 緊急対応
      const urgentItems = [];
      const threeDaysAgo = new Date();
      threeDaysAgo.setDate(threeDaysAgo.getDate() - 3);
      threeDaysAgo.setHours(0, 0, 0, 0);
      
      estimates.filter(e => e.status === 'sent' && e.sent_date).forEach(estimate => {
        try {
          const dateStr = estimate.sent_date.replace(/年/g, '-').replace(/月/g, '-').replace(/日/g, '');
          const parts = dateStr.split('-');
          if (parts.length === 3) {
            const year = parseInt(parts[0], 10);
            const month = parseInt(parts[1], 10);
            const day = parseInt(parts[2], 10);
            const sentDate = new Date(year, month - 1, day);
            sentDate.setHours(0, 0, 0, 0);
            
            if (sentDate < threeDaysAgo) {
              urgentItems.push({
                type: 'estimate',
                title: `見積もり承認待ち: ${estimate.client_name} ${estimate.store_name}`,
                description: `${estimate.sent_date}送付済み（${estimate.total}）`,
                  link: `/sales/estimates/${estimate.id}.html`
              });
            }
          }
        } catch (e) {
          console.error('Error parsing date:', estimate.sent_date, e);
        }
      });
      
      inquiries.filter(i => i.status === 'pending').forEach(inquiry => {
        urgentItems.push({
          type: 'inquiry',
          title: `新規問い合わせ: ${inquiry.company_name}`,
          description: `${inquiry.date} ${inquiry.time} - ${inquiry.message}`,
            link: `/sales/clients/new.html?inquiry=${inquiry.id}`
        });
      });
      
        // 緊急対応レンダリング
        const urgentListEl = document.getElementById('urgent-list');
        const urgentCountEl = document.getElementById('urgent-count');
        if (urgentListEl) {
        urgentCountEl.textContent = urgentItems.length;
        if (urgentItems.length === 0) {
            urgentListEl.innerHTML = '<div class="empty-state"><i class="fas fa-check-circle"></i><p>緊急対応が必要な項目はありません</p></div>';
          } else {
            urgentListEl.innerHTML = urgentItems.map(item => `
            <div class="urgent-item" onclick="window.location.href='${item.link}'">
                <div class="urgent-title">${item.title}</div>
                <div class="urgent-description">${item.description}</div>
              </div>
            `).join('');
          }
        }

        // スケジュールレンダリング
        const scheduleListEl = document.getElementById('schedule-list');
        if (scheduleListEl) {
        if (todaySchedules.length === 0) {
            scheduleListEl.innerHTML = '<div class="empty-state"><i class="fas fa-calendar-times"></i><p>本日の予定はありません</p></div>';
          } else {
        scheduleListEl.innerHTML = todaySchedules.map(schedule => {
          const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(schedule.address)}`;
          return `
            <div class="schedule-card">
              <div class="schedule-time">
                    <span class="schedule-time-hour">${schedule.time}</span>
              </div>
                <div class="schedule-client">${schedule.client_name}</div>
                  <div class="schedule-store">${schedule.store_name} - ${schedule.purpose}</div>
              <div class="schedule-actions">
                    ${schedule.phone ? `<a href="tel:${schedule.phone}" class="schedule-action-btn"><i class="fas fa-phone"></i> 電話</a>` : ''}
                    ${schedule.email ? `<a href="mailto:${schedule.email}" class="schedule-action-btn"><i class="fas fa-envelope"></i> メール</a>` : ''}
                    <a href="${mapUrl}" target="_blank" class="schedule-action-btn"><i class="fas fa-map-marker-alt"></i> 地図</a>
              </div>
            </div>
          `;
        }).join('');
          }
      }
      
        // 問い合わせレンダリング
        const inquiryListEl = document.getElementById('inquiry-list');
        const inquiryCountEl = document.getElementById('inquiry-count');
        if (inquiryListEl) {
        const pendingInquiries = inquiries.filter(i => i.status === 'pending');
        inquiryCountEl.textContent = pendingInquiries.length;
        if (pendingInquiries.length === 0) {
            inquiryListEl.innerHTML = '<div class="empty-state"><i class="fas fa-check-circle"></i><p>新規問い合わせはありません</p></div>';
          } else {
            inquiryListEl.innerHTML = pendingInquiries.slice(0, 5).map(inquiry => `
              <div class="inquiry-card" onclick="window.location.href='/sales/clients/new.html?inquiry=${inquiry.id}'">
                <div class="inquiry-company">${inquiry.company_name}</div>
                <div class="inquiry-meta">${inquiry.date} ${inquiry.time} - ${inquiry.message}</div>
            </div>
            `).join('');
          }
        }
      }

      // 顧客情報画面のレンダリング
      function renderClientInfo() {
        const clientInfoContainer = document.getElementById('client-info-container');
        if (!clientInfoContainer) return;

        // 本日の最初のスケジュールの顧客を表示
        const today = new Date();
        const todayStr = today.toISOString().split('T')[0];
        const todaySchedules = schedules.filter(s => s.date === todayStr);
        
        if (todaySchedules.length === 0) {
          clientInfoContainer.innerHTML = '<div class="empty-state"><i class="fas fa-user"></i><p>本日のスケジュールがありません</p></div>';
          return;
        }
        
        const firstSchedule = todaySchedules[0];
        const client = clients.find(c => c.id === firstSchedule.client_id);

        if (!client) {
          clientInfoContainer.innerHTML = '<div class="empty-state"><i class="fas fa-user"></i><p>顧客情報が見つかりません</p></div>';
          return;
        }

        const clientEstimates = estimates.filter(e => e.client_id === client.id);
        const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(client.address || firstSchedule.address)}`;

        clientInfoContainer.innerHTML = `
          <div class="client-header">
            <h2 class="client-name">${client.company_name || client.name}</h2>
            <p class="client-store">${client.store_name || firstSchedule.store_name}</p>
            </div>
          <div class="client-contact">
            ${client.phone ? `<a href="tel:${client.phone}" class="contact-item"><i class="fas fa-phone"></i><span>${client.phone}</span></a>` : ''}
            ${client.email ? `<a href="mailto:${client.email}" class="contact-item"><i class="fas fa-envelope"></i><span>${client.email}</span></a>` : ''}
            </div>
          <div class="client-address">
            <p class="address-text">${client.address || firstSchedule.address}</p>
            <a href="${mapUrl}" target="_blank" class="btn-map"><i class="fas fa-map-marker-alt"></i> 地図で開く</a>
            </div>
          ${clientEstimates.length > 0 ? `
            <div class="client-estimates">
              <h3 class="estimates-title">過去の見積もり</h3>
              ${clientEstimates.slice(0, 5).map(est => `
                <div class="estimate-history-item">
                  <p class="estimate-history-date">${est.created_date || est.sent_date}</p>
                  <p class="estimate-history-service">${est.service_name || 'サービス'}</p>
                  <p class="estimate-history-price">${est.total}</p>
                </div>
              `).join('')}
            </div>
          ` : ''}
        `;
      }

      // サービス・価格画面のレンダリング
      function renderServices() {
        const servicesContainer = document.getElementById('services-container');
        if (!servicesContainer) return;

        // カテゴリ別にグループ化
        const servicesByCategory = {};
        serviceItems.forEach(item => {
          const category = item.category || 'その他';
          if (!servicesByCategory[category]) {
            servicesByCategory[category] = [];
          }
          servicesByCategory[category].push(item);
        });

        servicesContainer.innerHTML = Object.keys(servicesByCategory).map(category => {
          const categoryServices = servicesByCategory[category];
          // 4x4グリッド用に16個ずつに分割
          const chunks = [];
          for (let i = 0; i < categoryServices.length; i += 16) {
            chunks.push(categoryServices.slice(i, i + 16));
          }
          
          return chunks.map((chunk, chunkIndex) => `
            <div class="service-category">
              <h3 class="category-title">${category}${chunks.length > 1 ? ` (${chunkIndex + 1})` : ''}</h3>
              <div class="service-grid">
                ${chunk.map(item => {
                  const imagePath = item.image || item['detail-image'] || 'images/placeholder.png';
                  return `
                    <div class="service-item" data-service-id="${item.id}" data-service-name="${item.title.replace(/"/g, '&quot;')}" data-service-price="${item.price}">
                      <img src="${imagePath}" alt="${item.title}" class="service-item-image" onerror="this.src='images/placeholder.png'" />
                      <div class="service-item-name">${item.title}</div>
                      <div class="service-item-price">${item.price}</div>
                    </div>
                  `;
                }).join('')}
              </div>
            </div>
          `).join('');
        }).join('');
        
        // サービスカードにダブルクリックイベントを追加
        const serviceItemElements = document.querySelectorAll('.service-item[data-service-id]');
        serviceItemElements.forEach(item => {
          let clickTimer = null;
          
          // シングルクリック（タップ）: 何もしない（または詳細表示など）
          item.addEventListener('click', (e) => {
            if (clickTimer === null) {
              clickTimer = setTimeout(() => {
                clickTimer = null;
                // シングルクリック時の処理（必要に応じて実装）
              }, 300);
            }
          });
          
          // ダブルクリック（タップ）: 見積もりに追加
          item.addEventListener('dblclick', (e) => {
            e.preventDefault();
            e.stopPropagation();
            if (clickTimer) {
              clearTimeout(clickTimer);
              clickTimer = null;
            }
            const serviceId = parseInt(item.dataset.serviceId, 10);
            const serviceName = item.dataset.serviceName;
            const servicePrice = item.dataset.servicePrice;
            addServiceToEstimate(serviceId, serviceName, servicePrice);
          });
          
          // タッチデバイス用のダブルタップ検出
          let lastTap = 0;
          item.addEventListener('touchend', (e) => {
            const currentTime = new Date().getTime();
            const tapLength = currentTime - lastTap;
            if (tapLength < 300 && tapLength > 0) {
              // ダブルタップ検出
              e.preventDefault();
              e.stopPropagation();
              if (clickTimer) {
                clearTimeout(clickTimer);
                clickTimer = null;
              }
              const serviceId = parseInt(item.dataset.serviceId, 10);
              const serviceName = item.dataset.serviceName;
              const servicePrice = item.dataset.servicePrice;
              addServiceToEstimate(serviceId, serviceName, servicePrice);
            } else {
              // シングルタップ
              if (clickTimer === null) {
                clickTimer = setTimeout(() => {
                  clickTimer = null;
                }, 300);
              }
            }
            lastTap = currentTime;
          }, { passive: false });
        });
      }

      // 仮見積もりにサービスを追加
      window.addServiceToEstimate = function(id, name, price) {
        const selectedServices = document.getElementById('selected-services');
        const emptyState = selectedServices.querySelector('.empty-state');
        if (emptyState) {
          emptyState.remove();
        }

        // 既に同じサービスが追加されているかチェック
        const existingItem = selectedServices.querySelector(`.selected-service-item[data-service-id="${id}"]`);
        if (existingItem) {
          // 既に追加されている場合は、何もしない（画面遷移もしない、メモも開かない）
          return;
        }
        
        // 価格から数値を抽出（¥ 21,000〜 → 21000）
        const priceMatch = price.match(/¥\s*([\d,]+)/);
        const priceValue = priceMatch ? parseInt(priceMatch[1].replace(/,/g, ''), 10) : 0;

        const serviceItem = document.createElement('div');
        serviceItem.className = 'selected-service-item'; // expandedクラスは付けない（メモは閉じた状態）
        serviceItem.dataset.serviceId = id;
        serviceItem.dataset.priceValue = priceValue;
        serviceItem.dataset.multiplier = '1'; // デフォルト倍率は1
        serviceItem.innerHTML = `
          <div class="selected-service-header" onclick="toggleServiceMemo(this.querySelector('.btn-service-memo'))">
            <div class="selected-service-info">
              <p class="selected-service-name">${name}</p>
              <p class="selected-service-price" id="service-price-${id}">${price}</p>
            </div>
            <div class="selected-service-actions" onclick="event.stopPropagation()">
              <button class="btn-service-memo" onclick="toggleServiceMemo(this)" title="メモ">
                <i class="fas fa-sticky-note"></i>
                <span>メモ</span>
              </button>
              <button class="btn-remove-service" onclick="removeServiceFromEstimate(this)">削除</button>
            </div>
          </div>
          <div class="selected-service-content">
            <div class="selected-service-multiplier">
              <label>倍率</label>
              <div class="multiplier-buttons">
                <button class="multiplier-btn active" data-multiplier="1" onclick="setServiceMultiplier(${id}, 1)">x1</button>
                <button class="multiplier-btn" data-multiplier="1.5" onclick="setServiceMultiplier(${id}, 1.5)">x1.5</button>
                <button class="multiplier-btn" data-multiplier="2" onclick="setServiceMultiplier(${id}, 2)">x2</button>
              </div>
            </div>
            <div class="selected-service-memo">
              <label for="service-memo-${id}">備考</label>
              <textarea id="service-memo-${id}" class="service-memo-input" placeholder="このサービスに関する備考を入力してください" oninput="saveServiceMemo(${id}, this.value)"></textarea>
            </div>
          </div>
        `;
        selectedServices.appendChild(serviceItem);
        updateEstimateTotal();
        
        // サービス画面にとどまる（見積もり画面に遷移しない）
        // メモは閉じた状態のまま（expandedクラスは付けない）
      };

      // サービスメモの開閉
      window.toggleServiceMemo = function(btn) {
        const serviceItem = btn.closest('.selected-service-item');
        if (!serviceItem) return;

        const isExpanded = serviceItem.classList.contains('expanded');
        
        if (isExpanded) {
          serviceItem.classList.remove('expanded');
          btn.classList.remove('active');
        } else {
          serviceItem.classList.add('expanded');
          btn.classList.add('active');
          // メモ入力欄にフォーカス
          const memoTextarea = serviceItem.querySelector('.service-memo-input');
          if (memoTextarea) {
            setTimeout(() => {
              memoTextarea.focus();
            }, 100);
          }
        }
      };

      // サービスメモを保存
      window.saveServiceMemo = function(serviceId, memo) {
        const serviceItem = document.querySelector(`.selected-service-item[data-service-id="${serviceId}"]`);
        if (serviceItem) {
          serviceItem.dataset.memo = memo;
          // メモがある場合はメモボタンにバッジを表示
          const memoBtn = serviceItem.querySelector('.btn-service-memo');
          if (memo && memo.trim()) {
            if (!memoBtn.querySelector('.memo-badge')) {
              const badge = document.createElement('span');
              badge.className = 'memo-badge';
              badge.innerHTML = '<i class="fas fa-circle"></i>';
              memoBtn.appendChild(badge);
            }
          } else {
            const badge = memoBtn.querySelector('.memo-badge');
            if (badge) {
              badge.remove();
            }
          }
        }
      };

      // 仮見積もりからサービスを削除
      window.removeServiceFromEstimate = function(btn) {
        btn.closest('.selected-service-item').remove();
        const selectedServices = document.getElementById('selected-services');
        if (selectedServices.children.length === 0) {
          selectedServices.innerHTML = '<div class="empty-state"><i class="fas fa-shopping-cart"></i><p>サービスを選択してください</p></div>';
        }
        updateEstimateTotal();
      };

      // サービス倍率を設定
      window.setServiceMultiplier = function(serviceId, multiplier) {
        const serviceItem = document.querySelector(`.selected-service-item[data-service-id="${serviceId}"]`);
        if (!serviceItem) return;

        // 倍率を保存
        serviceItem.dataset.multiplier = multiplier.toString();

        // ボタンのアクティブ状態を更新
        const multiplierBtns = serviceItem.querySelectorAll('.multiplier-btn');
        multiplierBtns.forEach(btn => {
          if (parseFloat(btn.dataset.multiplier) === multiplier) {
            btn.classList.add('active');
          } else {
            btn.classList.remove('active');
          }
        });

        // 価格を再計算して表示を更新
        const basePrice = parseInt(serviceItem.dataset.priceValue || '0', 10);
        const multipliedPrice = Math.round(basePrice * multiplier);
        const priceDisplay = serviceItem.querySelector(`#service-price-${serviceId}`);
        if (priceDisplay) {
          // 元の価格フォーマットを保持（¥ 21,000〜 のような形式）
          const originalPrice = serviceItem.querySelector('.selected-service-price').textContent;
          const priceMatch = originalPrice.match(/¥\s*([\d,]+)/);
          if (priceMatch) {
            priceDisplay.textContent = `¥${multipliedPrice.toLocaleString()}`;
          } else {
            priceDisplay.textContent = `¥${multipliedPrice.toLocaleString()}`;
          }
        }

        // 見積もり合計を更新
        updateEstimateTotal();
      };

      // 見積もり合計を更新
      function updateEstimateTotal() {
        const selectedItems = document.querySelectorAll('.selected-service-item');
        let total = 0;
        selectedItems.forEach(item => {
          const basePrice = parseInt(item.dataset.priceValue || '0', 10);
          const multiplier = parseFloat(item.dataset.multiplier || '1', 10);
          const multipliedPrice = Math.round(basePrice * multiplier);
          total += multipliedPrice;
        });
        document.getElementById('estimate-total').textContent = total > 0 ? `¥${total.toLocaleString()}` : '¥0';
      }

      // 下部メニューの入れ替え機能
      const quickMenu = document.querySelector('.concierge-quick-menu');
      const quickMenuSecond = document.getElementById('quick-menu-second');
      let menuSlideStartY = 0;
      let menuSlideCurrentY = 0;
      let isMenuSliding = false;
      let hasSwapped = false; // 入れ替えが実行されたかどうか

      // 一段目メニューに対応する画面
      const firstTierScreens = ['activity', 'schedule', 'client', 'services', 'estimate'];
      // 二段目メニューに対応する画面
      const secondTierScreens = ['todo', 'notes', 'camera', 'map', 'logout'];
      // 概算画面は独立した画面（メニューには表示されない）
      
      // 現在表示中のメニュータイプ（'first' または 'second'）
      let currentMenuTier = 'first';

      // 表示する画面を切り替える関数
      function updateVisibleScreens() {
        const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
        
        // すべての画面を一旦非表示にする
        screens.forEach(screen => {
          screen.style.display = 'none';
        });
        
        // 表示する画面のみを表示
        screens.forEach(screen => {
          const screenName = screen.dataset.screen;
          if (visibleScreens.includes(screenName)) {
            screen.style.display = 'block';
          }
        });

        // スライダーの幅を調整（表示中の画面数 × 100vw）
        if (slider) {
          const visibleCount = visibleScreens.length;
          slider.style.width = `${visibleCount * 100}vw`;
        }
      }

      // メニューを入れ替える関数（スライド＆フェードアニメーション付き）
      function swapMenus() {
        if (!quickMenu || !quickMenuSecond) return;

        // スライド＆フェードアニメーションを開始
        quickMenu.classList.add('sliding-fade');
        quickMenuSecond.classList.add('sliding-fade');

        // アニメーション完了後に実際の入れ替えを実行
        setTimeout(() => {
          // 一段目と二段目のメニュー項目を取得
          const firstTierItems = Array.from(quickMenu.children);
          const secondTierItems = Array.from(quickMenuSecond.children);

          // メニュー項目を入れ替え
          firstTierItems.forEach(item => {
            // ボタンかリンクかを判定
            if (item.tagName === 'BUTTON') {
              // ボタンのクラスを変更
              item.classList.remove('quick-menu-btn');
              item.classList.add('quick-menu-btn-second');
              quickMenuSecond.appendChild(item);
            } else if (item.tagName === 'A') {
              // リンクのクラスを変更
              item.classList.remove('quick-menu-btn');
              item.classList.add('quick-menu-btn-second');
              quickMenuSecond.appendChild(item);
            }
          });

          secondTierItems.forEach(item => {
            // ボタンかリンクかを判定
            if (item.tagName === 'BUTTON') {
              // ボタンのクラスを変更
              item.classList.remove('quick-menu-btn-second');
              item.classList.add('quick-menu-btn');
              quickMenu.appendChild(item);
            } else if (item.tagName === 'A') {
              // リンクのクラスを変更
              item.classList.remove('quick-menu-btn-second');
              item.classList.add('quick-menu-btn');
              quickMenu.appendChild(item);
            }
          });

          // メニュータイプを切り替え
          currentMenuTier = currentMenuTier === 'first' ? 'second' : 'first';
          
          // 表示する画面を更新
          updateVisibleScreens();

          // スライド＆フェードアニメーションを終了
          quickMenu.classList.remove('sliding-fade');
          quickMenuSecond.classList.remove('sliding-fade');

          // イベントリスナーを再設定
          setupMenuEventListeners();

          // デフォルト画面を表示（必ずリセット）
          // 一段目メニューの場合は「アクティビティ」、二段目メニューの場合は「TODO」
          const defaultScreenName = currentMenuTier === 'first' ? 'activity' : 'todo';
          const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
          const screenIndex = visibleScreens.indexOf(defaultScreenName);
          
          if (screenIndex !== -1) {
            // スライダーのスクロール位置をリセット
            if (slider) {
              slider.scrollLeft = 0;
            }
            // 表示中の画面の中でのインデックスを使用して画面を切り替え
            setTimeout(() => {
              switchScreen(screenIndex);
            }, 50);
          }
        }, 500); // アニメーション時間（0.5s）
      }

      // メニューのイベントリスナーを設定
      function setupMenuEventListeners() {
        // 一段目のメニューボタンのクリックイベント
        const firstTierBtns = quickMenu.querySelectorAll('.quick-menu-btn[data-screen]');
        firstTierBtns.forEach(btn => {
          // 既存のイベントリスナーを削除（重複防止）
          const newBtn = btn.cloneNode(true);
          btn.parentNode.replaceChild(newBtn, btn);
          
          newBtn.addEventListener('click', () => {
            const screenName = newBtn.dataset.screen;
            const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
            const visibleScreenElements = Array.from(screens).filter(s => visibleScreens.includes(s.dataset.screen));
            const screenIndex = visibleScreenElements.findIndex(s => s.dataset.screen === screenName);
            if (screenIndex !== -1) {
              switchScreen(screenIndex);
            }
          });
        });

        // 二段目のメニューボタンのクリックイベント
        const secondTierBtns = quickMenuSecond.querySelectorAll('.quick-menu-btn-second[data-screen]');
        secondTierBtns.forEach(btn => {
          // 既存のイベントリスナーを削除（重複防止）
          const newBtn = btn.cloneNode(true);
          btn.parentNode.replaceChild(newBtn, btn);
          
          newBtn.addEventListener('click', () => {
            const screenName = newBtn.dataset.screen;
            const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
            const visibleScreenElements = Array.from(screens).filter(s => visibleScreens.includes(s.dataset.screen));
            const screenIndex = visibleScreenElements.findIndex(s => s.dataset.screen === screenName);
            if (screenIndex !== -1) {
              switchScreen(screenIndex);
              // 画面切り替え後、メニューを閉じる
              if (quickMenu) {
                quickMenu.classList.remove('slide-up');
              }
              if (quickMenuSecond) {
                quickMenuSecond.classList.remove('visible');
                // ページスクロールを再有効化
                document.body.style.overflow = '';
                // 視覚的効果を削除
                document.body.classList.remove('menu-expanded');
              }
            }
          });
        });
      }

      if (quickMenu) {
        // タッチイベントでスライド検出
        quickMenu.addEventListener('touchstart', (e) => {
          menuSlideStartY = e.touches[0].clientY;
          isMenuSliding = true;
          hasSwapped = false;
        }, { passive: true });

        quickMenu.addEventListener('touchmove', (e) => {
          if (!isMenuSliding) return;
          menuSlideCurrentY = e.touches[0].clientY;
          const deltaY = menuSlideStartY - menuSlideCurrentY;
          
          // 上にスワイプ（deltaY > 0）で入れ替え
          if (deltaY > 0 && deltaY > 30 && !hasSwapped) {
            hasSwapped = true;
            swapMenus();
          }
        }, { passive: true });

        quickMenu.addEventListener('touchend', () => {
          isMenuSliding = false;
          hasSwapped = false;
        }, { passive: true });
      }

      // 初期設定
      setupMenuEventListeners();

      // 写真撮影機能（削除）
      const photosGrid = document.getElementById('photos-grid');

      // 写真追加ボタンのクリックイベント（ファイル選択ダイアログを開く）
      const btnPhotoAdd = document.getElementById('btn-photo-add');
      if (btnPhotoAdd) {
        // 一時的なファイル入力を作成
        const photoInput = document.createElement('input');
        photoInput.type = 'file';
        photoInput.accept = 'image/*';
        photoInput.multiple = true;
        photoInput.style.display = 'none';
        document.body.appendChild(photoInput);

        btnPhotoAdd.addEventListener('click', () => {
          photoInput.click();
        });

        photoInput.addEventListener('change', (e) => {
          const files = Array.from(e.target.files);
          files.forEach(file => {
            if (file.type.startsWith('image/')) {
              const reader = new FileReader();
              reader.onload = (event) => {
                const photoItem = document.createElement('div');
                photoItem.className = 'photo-item';
                photoItem.innerHTML = `
                  <img src="${event.target.result}" alt="写真">
                  <button class="btn-remove-photo" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                  </button>
                `;
                if (photosGrid) {
                  photosGrid.appendChild(photoItem);
                }
              };
              reader.readAsDataURL(file);
            }
          });
          // ファイル選択をリセット（同じファイルを再度選択できるように）
          photoInput.value = '';
        });
      }

      // 見積もり送信（作成画面から直接送信）
      document.getElementById('btn-send-estimate').addEventListener('click', () => {
        const selectedItems = document.querySelectorAll('.selected-service-item');
        if (selectedItems.length === 0) {
          alert('サービスを選択してください');
          return;
        }

        // 選択されたサービス一覧を取得
        const photosGrid = document.getElementById('photos-grid');
        const photos = photosGrid ? Array.from(photosGrid.querySelectorAll('img')).map(img => img.src) : [];
        const notesInput = document.getElementById('estimate-notes-input');
        const notes = notesInput ? notesInput.value : '';
        const totalEl = document.getElementById('estimate-total');
        const total = totalEl ? totalEl.textContent : '¥0';

        // サービス一覧を整形
        const services = Array.from(selectedItems).map(item => {
          const nameEl = item.querySelector('.selected-service-name');
          const priceEl = item.querySelector('.selected-service-price');
          const memoInput = item.querySelector('.service-memo-input');
          const name = nameEl ? nameEl.textContent : '';
          const price = priceEl ? priceEl.textContent : '';
          const multiplier = item.dataset.multiplier || '1';
          const memo = memoInput ? memoInput.value : '';
          const basePrice = parseInt(price.replace(/[¥,\s〜]/g, ''), 10) || 0;
          const finalPrice = basePrice * parseFloat(multiplier);
          return { name, price, multiplier, memo, finalPrice };
        });

        // 現在の日時を取得
        const now = new Date();
        const dateStr = `${now.getFullYear()}年${now.getMonth() + 1}月${now.getDate()}日 ${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`;

        // 送信データを準備
        const estimateData = {
          date: dateStr,
          services: services,
          photos: photos,
          notes: notes,
          total: total
        };

        // TODO: メール送信処理を実装（メールアドレスは今後変更の可能性があるため保留）
        // 現在は確認ダイアログのみ表示
        if (confirm('仮見積もりを送信しますか？')) {
          // ここにメール送信処理を実装予定
          console.log('送信データ:', estimateData);
          alert('仮見積もりを送信しました（送信機能は実装中です）');
        }
      });

      // 地図画面のレンダリング
      function renderMap() {
        const mapScheduleList = document.getElementById('map-schedule-list');
        if (!mapScheduleList) return;

        const today = new Date();
        const todayStr = today.toISOString().split('T')[0];
        const todaySchedules = schedules.filter(s => s.date === todayStr);
        
        if (todaySchedules.length === 0) {
          mapScheduleList.innerHTML = '<div class="empty-state"><i class="fas fa-map-marked-alt"></i><p>本日のスケジュールがありません</p></div>';
          return;
        }

        mapScheduleList.innerHTML = todaySchedules.map(schedule => {
          const mapUrl = `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(schedule.address)}`;
          return `
            <div class="map-schedule-item">
              <p class="map-schedule-time">${schedule.time}</p>
              <p class="map-schedule-client">${schedule.client_name}</p>
              <p class="map-schedule-store">${schedule.store_name}</p>
              <div class="map-schedule-actions">
                <a href="${mapUrl}" target="_blank" class="btn-map-route"><i class="fas fa-route"></i> ルート</a>
                <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(schedule.address)}" target="_blank" class="btn-map-route"><i class="fas fa-map-marker-alt"></i> 地図</a>
              </div>
            </div>
          `;
        }).join('');

        // 地図プレースホルダーに地図リンクを表示
        const mapPlaceholder = document.getElementById('map-placeholder');
        if (mapPlaceholder && todaySchedules.length > 0) {
          const firstSchedule = todaySchedules[0];
          // 実際の実装ではGoogle Maps APIキーが必要
          // 現在は地図リンクのみ表示
          mapPlaceholder.innerHTML = `
            <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(firstSchedule.address)}" target="_blank" style="text-decoration: none; color: inherit;">
              <i class="fas fa-map-marked-alt"></i>
              <p>地図を開く</p>
            </a>
          `;
        }
      }

      // 仮見積もり概算画面のレンダリング
      function renderEstimatePreview() {
        const previewContainer = document.getElementById('estimate-preview-content');
        if (!previewContainer) {
          console.error('estimate-preview-content要素が見つかりません');
          return;
        }

        const selectedItems = document.querySelectorAll('.selected-service-item');
        const photosGrid = document.getElementById('photos-grid');
        const photos = photosGrid ? Array.from(photosGrid.querySelectorAll('img')).map(img => img.src) : [];
        const notesInput = document.getElementById('estimate-notes-input');
        const notes = notesInput ? notesInput.value : '';
        const totalEl = document.getElementById('estimate-total');
        const total = totalEl ? totalEl.textContent : '¥0';

        // 選択されたサービス一覧を取得
        const services = Array.from(selectedItems).map(item => {
          const nameEl = item.querySelector('.selected-service-name');
          const priceEl = item.querySelector('.selected-service-price');
          const memoInput = item.querySelector('.service-memo-input');
          const name = nameEl ? nameEl.textContent : '';
          const price = priceEl ? priceEl.textContent : '';
          const multiplier = item.dataset.multiplier || '1';
          const memo = memoInput ? memoInput.value : '';
          return { name, price, multiplier, memo };
        });

        // 現在の日時を取得
        const now = new Date();
        const dateStr = `${now.getFullYear()}年${now.getMonth() + 1}月${now.getDate()}日 ${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`;

        // 概算画面のHTMLを生成
        previewContainer.innerHTML = `
          <div class="estimate-preview-header">
            <h2>仮見積もり（概算）</h2>
            <p class="estimate-date">作成日時: ${dateStr}</p>
            </div>
          <div class="estimate-preview-services">
            <h3>サービス一覧</h3>
            <table class="estimate-services-table">
              <thead>
                <tr>
                  <th>サービス名</th>
                  <th>単価</th>
                  <th>倍率</th>
                  <th>金額</th>
                </tr>
              </thead>
              <tbody>
                ${services.map(service => {
                  const basePrice = parseInt(service.price.replace(/[¥,\s〜]/g, ''), 10) || 0;
                  const multiplier = parseFloat(service.multiplier);
                  const finalPrice = basePrice * multiplier;
                  return `
                    <tr>
                      <td>${service.name}${service.memo ? `<br><small>${service.memo}</small>` : ''}</td>
                      <td>${service.price}</td>
                      <td>x${service.multiplier}</td>
                      <td>¥${finalPrice.toLocaleString()}</td>
                    </tr>
                  `;
                }).join('')}
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="3" class="total-label">合計見積もり</td>
                  <td class="total-value">${total}</td>
                </tr>
              </tfoot>
            </table>
          </div>
          ${photos.length > 0 ? `
            <div class="estimate-preview-photos">
              <h3>写真</h3>
              <div class="estimate-preview-photos-grid">
                ${photos.map(photo => `<img src="${photo}" alt="写真" class="preview-photo">`).join('')}
              </div>
            </div>
          ` : ''}
          ${notes ? `
            <div class="estimate-preview-notes">
              <h3>メモ</h3>
              <p>${notes}</p>
            </div>
          ` : ''}
        `;
      }

      // TODOリストとメモ帳のデータを初期化（関数定義より前に宣言）
      let todos = JSON.parse(localStorage.getItem('concierge-todos') || '[]');
      let notes = JSON.parse(localStorage.getItem('concierge-notes') || '[]');

      // 初期レンダリング
      renderActivity();
      renderClientInfo();
      renderServices();
      renderMap();
      renderSchedule();
      renderTodo();
      renderNotes();

      // 初期表示する画面を設定（一段目メニューに対応する画面のみ）
      updateVisibleScreens();

      // PC版の初期表示設定
      const isMobile = window.innerWidth <= 767.98;
      if (!isMobile) {
        // PC版: 現在の画面のみ表示
        screens.forEach((s) => {
          const screenName = s.dataset.screen;
          const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
          if (visibleScreens.includes(screenName)) {
            // 最初の画面のみ表示
            const firstScreenName = visibleScreens[0];
            if (screenName === firstScreenName) {
              s.style.display = 'block';
            } else {
              s.style.display = 'none';
            }
          } else {
            s.style.display = 'none';
          }
        });
      }

      // 最初の画面をアクティブに（表示中の画面の中でのインデックスを使用）
      const visibleScreens = currentMenuTier === 'first' ? firstTierScreens : secondTierScreens;
      const firstScreenName = visibleScreens[0];
      const firstScreenIndex = Array.from(screens).findIndex(s => s.dataset.screen === firstScreenName);
      if (firstScreenIndex !== -1) {
        const visibleScreenElements = Array.from(screens).filter(s => visibleScreens.includes(s.dataset.screen));
        const visibleIndex = visibleScreenElements.indexOf(screens[firstScreenIndex]);
        if (visibleIndex !== -1) {
          switchScreen(visibleIndex);
        }
      }

      // スケジュール画面のレンダリング
      function renderSchedule() {
        const scheduleContainer = document.getElementById('schedule-container');
        if (!scheduleContainer) return;

        // スケジュールを日付順にソート
        const sortedSchedules = [...schedules].sort((a, b) => {
          const dateA = new Date(a.date + ' ' + a.time);
          const dateB = new Date(b.date + ' ' + b.time);
          return dateA - dateB;
        });

        if (sortedSchedules.length === 0) {
          scheduleContainer.innerHTML = '<div class="empty-state"><i class="fas fa-calendar-times"></i><p>スケジュールがありません</p></div>';
          return;
        }
        
        scheduleContainer.innerHTML = sortedSchedules.map(schedule => {
          const mapUrl = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(schedule.address)}`;
          return `
            <div class="schedule-card">
              <div class="schedule-time">
                <span class="schedule-time-hour">${schedule.time}</span>
                <span class="schedule-time-date">${schedule.date}</span>
              </div>
                <div class="schedule-client">${schedule.client_name}</div>
              <div class="schedule-store">${schedule.store_name} - ${schedule.purpose}</div>
              <div class="schedule-actions">
                ${schedule.phone ? `<a href="tel:${schedule.phone}" class="schedule-action-btn"><i class="fas fa-phone"></i> 電話</a>` : ''}
                ${schedule.email ? `<a href="mailto:${schedule.email}" class="schedule-action-btn"><i class="fas fa-envelope"></i> メール</a>` : ''}
                <a href="${mapUrl}" target="_blank" class="schedule-action-btn"><i class="fas fa-map-marker-alt"></i> 地図</a>
              </div>
            </div>
          `;
        }).join('');
      }
      
      // TODOリスト画面のレンダリング
      function renderTodo() {
        const todoList = document.getElementById('todo-list');
        if (!todoList) return;

        if (todos.length === 0) {
          todoList.innerHTML = '<div class="empty-state"><i class="fas fa-tasks"></i><p>TODOがありません</p></div>';
          return;
        }

        todoList.innerHTML = todos.map((todo, index) => `
          <div class="todo-item ${todo.completed ? 'completed' : ''}">
            <input type="checkbox" class="todo-checkbox" ${todo.completed ? 'checked' : ''} onchange="toggleTodo(${index})" />
            <span class="todo-text">${todo.text}</span>
            <button class="btn-todo-delete" onclick="deleteTodo(${index})">
              <i class="fas fa-trash"></i>
            </button>
            </div>
        `).join('');
      }

      window.toggleTodo = function(index) {
        todos[index].completed = !todos[index].completed;
        localStorage.setItem('concierge-todos', JSON.stringify(todos));
        renderTodo();
      };

      window.deleteTodo = function(index) {
        todos.splice(index, 1);
        localStorage.setItem('concierge-todos', JSON.stringify(todos));
        renderTodo();
      };

      // TODO追加ボタン
      const btnTodoAdd = document.getElementById('btn-todo-add');
      const todoInput = document.getElementById('todo-input');
      if (btnTodoAdd && todoInput) {
        btnTodoAdd.addEventListener('click', () => {
          const text = todoInput.value.trim();
          if (text) {
            todos.push({ text: text, completed: false });
            localStorage.setItem('concierge-todos', JSON.stringify(todos));
            todoInput.value = '';
            renderTodo();
          }
        });

        todoInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            btnTodoAdd.click();
          }
        });
      }

      // メモ帳画面のレンダリング
      function renderNotes() {
        const notesList = document.getElementById('notes-list');
        if (!notesList) return;

        if (notes.length === 0) {
          notesList.innerHTML = '<div class="empty-state"><i class="fas fa-sticky-note"></i><p>メモがありません</p></div>';
          return;
        }
        
        notesList.innerHTML = notes.map((note, index) => `
          <div class="note-item">
            <div class="note-header">
              <span class="note-date">${note.date}</span>
              <button class="btn-note-delete" onclick="deleteNote(${index})">
                <i class="fas fa-trash"></i>
              </button>
                </div>
            <div class="note-content">${note.content}</div>
              </div>
        `).join('');
      }

      window.deleteNote = function(index) {
        notes.splice(index, 1);
        localStorage.setItem('concierge-notes', JSON.stringify(notes));
        renderNotes();
      };

      // メモ保存ボタン
      const btnNotesSave = document.getElementById('btn-notes-save');
      const notesInput = document.getElementById('notes-input');
      if (btnNotesSave && notesInput) {
        btnNotesSave.addEventListener('click', () => {
          const content = notesInput.value.trim();
          if (content) {
            const now = new Date();
            const dateStr = `${now.getFullYear()}年${now.getMonth() + 1}月${now.getDate()}日 ${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`;
            notes.unshift({ content: content, date: dateStr });
            localStorage.setItem('concierge-notes', JSON.stringify(notes));
            notesInput.value = '';
            renderNotes();
          }
        });
      }

      // カメラ画面の初期化
      let cameraStream = null;
      let currentFacingMode = 'environment'; // 'user' or 'environment'

      function initCamera() {
        const cameraPreview = document.getElementById('camera-preview');
        const cameraVideo = document.getElementById('camera-video');
        const cameraPlaceholder = cameraPreview.querySelector('.camera-placeholder');
        const btnCameraCapture = document.getElementById('btn-camera-capture');
        const btnCameraSwitch = document.getElementById('btn-camera-switch');
        const cameraGallery = document.getElementById('camera-gallery');

        if (!cameraPreview || !cameraVideo) return;

        // カメラを起動
        navigator.mediaDevices.getUserMedia({ 
          video: { facingMode: currentFacingMode } 
        }).then(stream => {
          cameraStream = stream;
          cameraVideo.srcObject = stream;
          cameraVideo.style.display = 'block';
          if (cameraPlaceholder) {
            cameraPlaceholder.style.display = 'none';
          }
        }).catch(err => {
          console.error('カメラの起動に失敗しました:', err);
          if (cameraPlaceholder) {
            cameraPlaceholder.innerHTML = '<i class="fas fa-exclamation-triangle"></i><p>カメラへのアクセスが拒否されました</p>';
          }
        });

        // 撮影ボタン
        if (btnCameraCapture) {
          btnCameraCapture.addEventListener('click', () => {
            const canvas = document.getElementById('camera-canvas');
            if (canvas && cameraVideo) {
              canvas.width = cameraVideo.videoWidth;
              canvas.height = cameraVideo.videoHeight;
              const ctx = canvas.getContext('2d');
              ctx.drawImage(cameraVideo, 0, 0);
              
              const imageData = canvas.toDataURL('image/jpeg');
              
              // ギャラリーに追加
              if (cameraGallery) {
                const photoItem = document.createElement('div');
                photoItem.className = 'camera-gallery-item';
                photoItem.innerHTML = `
                  <img src="${imageData}" alt="撮影写真">
                  <button class="btn-gallery-delete" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                  </button>
                `;
                cameraGallery.appendChild(photoItem);
            }
            }
          });
        }

        // カメラ切り替えボタン
        if (btnCameraSwitch) {
          btnCameraSwitch.addEventListener('click', () => {
            if (cameraStream) {
              cameraStream.getTracks().forEach(track => track.stop());
            }
            currentFacingMode = currentFacingMode === 'environment' ? 'user' : 'environment';
            initCamera();
          });
        }
      }

      // カメラ画面を離れるときにカメラを停止
      const cameraScreen = document.querySelector('.concierge-screen[data-screen="camera"]');
      if (cameraScreen) {
        const observer = new MutationObserver(() => {
          if (!cameraScreen.classList.contains('active') && cameraStream) {
            cameraStream.getTracks().forEach(track => track.stop());
            cameraStream = null;
          }
        });
        observer.observe(cameraScreen, { attributes: true, attributeFilter: ['class'] });
      }

      // 仮見積もり概算画面の処理
      const btnSendPreview = document.getElementById('btn-send-preview');

      if (btnSendPreview) {
        btnSendPreview.addEventListener('click', () => {
          // 概算画面のデータを取得
          const previewContent = document.getElementById('estimate-preview-content');
          if (!previewContent) {
            alert('概算画面のデータを取得できませんでした');
            return;
          }

          // 選択されたサービス一覧を取得
          const selectedItems = document.querySelectorAll('.selected-service-item');
          const photosGrid = document.getElementById('photos-grid');
          const photos = photosGrid ? Array.from(photosGrid.querySelectorAll('img')).map(img => img.src) : [];
          const notesInput = document.getElementById('estimate-notes-input');
          const notes = notesInput ? notesInput.value : '';
          const totalEl = document.getElementById('estimate-total');
          const total = totalEl ? totalEl.textContent : '¥0';

          // サービス一覧を整形
          const services = Array.from(selectedItems).map(item => {
            const nameEl = item.querySelector('.selected-service-name');
            const priceEl = item.querySelector('.selected-service-price');
            const memoInput = item.querySelector('.service-memo-input');
            const name = nameEl ? nameEl.textContent : '';
            const price = priceEl ? priceEl.textContent : '';
            const multiplier = item.dataset.multiplier || '1';
            const memo = memoInput ? memoInput.value : '';
            const basePrice = parseInt(price.replace(/[¥,\s〜]/g, ''), 10) || 0;
            const finalPrice = basePrice * parseFloat(multiplier);
            return { name, price, multiplier, memo, finalPrice };
          });

          // 現在の日時を取得
          const now = new Date();
          const dateStr = `${now.getFullYear()}年${now.getMonth() + 1}月${now.getDate()}日 ${now.getHours()}:${String(now.getMinutes()).padStart(2, '0')}`;

          // 送信データを準備
          const estimateData = {
            date: dateStr,
            services: services,
            photos: photos,
            notes: notes,
            total: total
          };

          // TODO: メール送信処理を実装（メールアドレスは今後変更の可能性があるため保留）
          // 現在は確認ダイアログのみ表示
          if (confirm('仮見積もりを送信しますか？')) {
            // ここにメール送信処理を実装予定
            console.log('送信データ:', estimateData);
            alert('仮見積もりを送信しました（送信機能は実装中です）');
          }
        });
      }

      // ログアウト画面の処理
      const btnLogoutConfirm = document.getElementById('btn-logout-confirm');
      const btnLogoutCancel = document.getElementById('btn-logout-cancel');
      
      if (btnLogoutConfirm) {
        btnLogoutConfirm.addEventListener('click', () => {
          if (window.Auth && window.Auth.logout) {
            window.Auth.logout();
          } else {
            window.location.href = '/signin.html';
          }
        });
      }

      if (btnLogoutCancel) {
        btnLogoutCancel.addEventListener('click', () => {
          // アクティビティ画面に戻る
          const activityIndex = Array.from(screens).findIndex(s => s.dataset.screen === 'activity');
          if (activityIndex !== -1) {
            switchScreen(activityIndex);
          }
        });
      }

    })();
  </script>
</main>

    </main>
    <footer class="site-footer">
  <div class="container text-center muted small" style="padding: 16px 0;">
    <p>&copy; 2025 ミセサポ</p>
  </div>
</footer>


    <!-- フィードバックボタン（清掃員関連ページでは非表示） -->
    <div data-hide-for-staff>
    <!-- フィードバックボタン（ドラッグ可能） -->
<div id="feedback-button" class="feedback-button" draggable="true">
  <i class="fas fa-arrow-down"></i>
</div>

<!-- フィードバックフォーム（ドラッグ可能・独立） -->
<div id="feedback-form" class="feedback-form" style="display: none;" draggable="true">
  <div class="feedback-form-header">
    <span class="feedback-form-title">フィードバック</span>
    <button class="feedback-form-close" id="feedback-close-btn">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="feedback-form-body">
    <textarea 
      id="feedback-text" 
      class="feedback-text-input" 
      placeholder="修正箇所やコメントを入力してください..."
      rows="4"
    ></textarea>
    <div class="feedback-form-actions">
      <button class="feedback-screenshot-btn" id="feedback-screenshot-btn">
        <i class="fas fa-camera"></i>
        スクリーンショット
      </button>
      <button class="feedback-send-btn" id="feedback-send-btn" disabled>
        <i class="fas fa-paper-plane"></i>
        送信
      </button>
    </div>
    <div id="feedback-screenshot-preview" class="feedback-screenshot-preview" style="display: none;">
      <img id="feedback-screenshot-img" alt="スクリーンショット" />
      <button class="feedback-screenshot-remove" id="feedback-screenshot-remove">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>
</div>

<style>
  .feedback-button {
    position: fixed;
    top: 100px;
    right: 20px;
    width: 50px;
    height: 50px;
    background: #dc2626;
    color: #ffffff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: move;
    z-index: 10000;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    transition: all 0.2s;
    user-select: none;
  }

  .feedback-button:hover {
    background: #b91c1c;
    transform: scale(1.1);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
  }

  .feedback-button:active {
    transform: scale(0.95);
  }

  .feedback-button i {
    font-size: 24px;
  }

  .feedback-button.dragging {
    opacity: 0.7;
    cursor: grabbing;
  }

  .feedback-form {
    position: fixed;
    top: 160px;
    right: 20px;
    width: 350px;
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
    z-index: 10001;
    overflow: hidden;
    cursor: move;
  }

  .feedback-form.dragging {
    opacity: 0.8;
    cursor: grabbing;
  }

  .feedback-form-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    background: #dc2626;
    color: #ffffff;
    cursor: move;
    user-select: none;
  }

  .feedback-form-title {
    font-weight: 600;
    font-size: 0.95rem;
  }

  .feedback-form-close {
    background: none;
    border: none;
    color: #ffffff;
    cursor: pointer;
    padding: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border-radius: 4px;
    transition: background 0.2s;
  }

  .feedback-form-close:hover {
    background: rgba(255, 255, 255, 0.2);
  }

  .feedback-form-body {
    padding: 16px;
  }

  .feedback-text-input {
    width: 100%;
    min-height: 100px;
    padding: 12px;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    font-size: 0.875rem;
    font-family: inherit;
    resize: vertical;
    box-sizing: border-box;
  }

  .feedback-text-input:focus {
    outline: none;
    border-color: #dc2626;
    box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
  }

  .feedback-form-actions {
    display: flex;
    gap: 8px;
    margin-top: 12px;
  }

  .feedback-screenshot-btn,
  .feedback-send-btn {
    flex: 1;
    padding: 10px 16px;
    border: none;
    border-radius: 8px;
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    transition: all 0.2s;
  }

  .feedback-screenshot-btn {
    background: #f3f4f6;
    color: #374151;
  }

  .feedback-screenshot-btn:hover {
    background: #e5e7eb;
  }

  .feedback-send-btn {
    background: #dc2626;
    color: #ffffff;
  }

  .feedback-send-btn:hover:not(:disabled) {
    background: #b91c1c;
  }

  .feedback-send-btn:disabled {
    background: #d1d5db;
    color: #9ca3af;
    cursor: not-allowed;
  }

  .feedback-screenshot-preview {
    margin-top: 12px;
    position: relative;
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    overflow: hidden;
  }

  .feedback-screenshot-preview img {
    width: 100%;
    height: auto;
    display: block;
  }

  .feedback-screenshot-remove {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 32px;
    height: 32px;
    background: rgba(0, 0, 0, 0.7);
    color: #ffffff;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s;
  }

  .feedback-screenshot-remove:hover {
    background: rgba(0, 0, 0, 0.9);
  }

  @media (max-width: 768px) {
    .feedback-form {
      width: calc(100vw - 40px);
      max-width: 350px;
    }
  }
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
  (function() {
    let screenshotData = null;
    let isDraggingButton = false;
    let isDraggingForm = false;
    let buttonDragOffset = { x: 0, y: 0 };
    let formDragOffset = { x: 0, y: 0 };

    function init() {
      const feedbackButton = document.getElementById('feedback-button');
      const feedbackForm = document.getElementById('feedback-form');
      const feedbackFormHeader = feedbackForm ? feedbackForm.querySelector('.feedback-form-header') : null;
      const feedbackText = document.getElementById('feedback-text');
      const feedbackCloseBtn = document.getElementById('feedback-close-btn');
      const feedbackScreenshotBtn = document.getElementById('feedback-screenshot-btn');
      const feedbackSendBtn = document.getElementById('feedback-send-btn');
      const feedbackScreenshotPreview = document.getElementById('feedback-screenshot-preview');
      const feedbackScreenshotImg = document.getElementById('feedback-screenshot-img');
      const feedbackScreenshotRemove = document.getElementById('feedback-screenshot-remove');

      if (!feedbackButton || !feedbackForm) return;

      // 矢印ボタンのドラッグ機能
      feedbackButton.addEventListener('mousedown', function(e) {
        if (e.target === feedbackButton || e.target.closest('.feedback-button')) {
          isDraggingButton = true;
          feedbackButton.classList.add('dragging');
          const rect = feedbackButton.getBoundingClientRect();
          buttonDragOffset.x = e.clientX - rect.left;
          buttonDragOffset.y = e.clientY - rect.top;
          e.preventDefault();
        }
      });

      // フォームのドラッグ機能（ヘッダー部分をドラッグ）
      if (feedbackFormHeader) {
        feedbackFormHeader.addEventListener('mousedown', function(e) {
          if (e.target !== feedbackCloseBtn && !e.target.closest('.feedback-form-close')) {
            isDraggingForm = true;
            feedbackForm.classList.add('dragging');
            const rect = feedbackForm.getBoundingClientRect();
            formDragOffset.x = e.clientX - rect.left;
            formDragOffset.y = e.clientY - rect.top;
            e.preventDefault();
          }
        });
      }

      document.addEventListener('mousemove', function(e) {
        // 矢印ボタンのドラッグ
        if (isDraggingButton && feedbackButton) {
          const x = e.clientX - buttonDragOffset.x;
          const y = e.clientY - buttonDragOffset.y;
          feedbackButton.style.left = x + 'px';
          feedbackButton.style.top = y + 'px';
          feedbackButton.style.right = 'auto';
          feedbackButton.style.bottom = 'auto';
        }
        
        // フォームのドラッグ
        if (isDraggingForm && feedbackForm) {
          const x = e.clientX - formDragOffset.x;
          const y = e.clientY - formDragOffset.y;
          feedbackForm.style.left = x + 'px';
          feedbackForm.style.top = y + 'px';
          feedbackForm.style.right = 'auto';
        }
      });

      document.addEventListener('mouseup', function() {
        if (isDraggingButton) {
          isDraggingButton = false;
          if (feedbackButton) {
            feedbackButton.classList.remove('dragging');
          }
        }
        if (isDraggingForm) {
          isDraggingForm = false;
          if (feedbackForm) {
            feedbackForm.classList.remove('dragging');
          }
        }
      });

      // タッチデバイス対応 - 矢印ボタン
      feedbackButton.addEventListener('touchstart', function(e) {
        if (e.target === feedbackButton || e.target.closest('.feedback-button')) {
          isDraggingButton = true;
          feedbackButton.classList.add('dragging');
          const touch = e.touches[0];
          const rect = feedbackButton.getBoundingClientRect();
          buttonDragOffset.x = touch.clientX - rect.left;
          buttonDragOffset.y = touch.clientY - rect.top;
          e.preventDefault();
        }
      });

      // タッチデバイス対応 - フォーム
      if (feedbackFormHeader) {
        feedbackFormHeader.addEventListener('touchstart', function(e) {
          if (e.target !== feedbackCloseBtn && !e.target.closest('.feedback-form-close')) {
            isDraggingForm = true;
            feedbackForm.classList.add('dragging');
            const touch = e.touches[0];
            const rect = feedbackForm.getBoundingClientRect();
            formDragOffset.x = touch.clientX - rect.left;
            formDragOffset.y = touch.clientY - rect.top;
            e.preventDefault();
          }
        });
      }

      document.addEventListener('touchmove', function(e) {
        const touch = e.touches[0];
        
        // 矢印ボタンのドラッグ
        if (isDraggingButton && feedbackButton) {
          const x = touch.clientX - buttonDragOffset.x;
          const y = touch.clientY - buttonDragOffset.y;
          feedbackButton.style.left = x + 'px';
          feedbackButton.style.top = y + 'px';
          feedbackButton.style.right = 'auto';
          feedbackButton.style.bottom = 'auto';
          e.preventDefault();
        }
        
        // フォームのドラッグ
        if (isDraggingForm && feedbackForm) {
          const x = touch.clientX - formDragOffset.x;
          const y = touch.clientY - formDragOffset.y;
          feedbackForm.style.left = x + 'px';
          feedbackForm.style.top = y + 'px';
          feedbackForm.style.right = 'auto';
          e.preventDefault();
        }
      });

      document.addEventListener('touchend', function() {
        if (isDraggingButton) {
          isDraggingButton = false;
          if (feedbackButton) {
            feedbackButton.classList.remove('dragging');
          }
        }
        if (isDraggingForm) {
          isDraggingForm = false;
          if (feedbackForm) {
            feedbackForm.classList.remove('dragging');
          }
        }
      });

      // ボタンクリックでフォーム表示
      feedbackButton.addEventListener('click', function(e) {
        if (!isDraggingButton && !isDraggingForm) {
          e.stopPropagation();
          // フォームが非表示の場合は表示、既に表示されている場合は非表示
          if (feedbackForm.style.display === 'none') {
            const buttonRect = feedbackButton.getBoundingClientRect();
            feedbackForm.style.display = 'block';
            feedbackForm.style.top = (buttonRect.bottom + 10) + 'px';
            feedbackForm.style.left = (buttonRect.left - 330) + 'px';
            feedbackForm.style.right = 'auto';
            if (feedbackText) feedbackText.focus();
          } else {
            feedbackForm.style.display = 'none';
          }
        }
      });

      // フォームを閉じる
      if (feedbackCloseBtn) {
        feedbackCloseBtn.addEventListener('click', function() {
          feedbackForm.style.display = 'none';
          screenshotData = null;
          if (feedbackScreenshotPreview) feedbackScreenshotPreview.style.display = 'none';
          if (feedbackText) feedbackText.value = '';
          if (feedbackSendBtn) feedbackSendBtn.disabled = true;
        });
      }

      // テキスト入力で送信ボタンを有効化
      if (feedbackText && feedbackSendBtn) {
        feedbackText.addEventListener('input', function() {
          feedbackSendBtn.disabled = !feedbackText.value.trim() && !screenshotData;
        });
      }

      // スクリーンショット機能
      if (feedbackScreenshotBtn) {
        feedbackScreenshotBtn.addEventListener('click', function() {
          if (typeof html2canvas === 'undefined') {
            alert('スクリーンショット機能が利用できません。');
            return;
          }

          feedbackScreenshotBtn.disabled = true;
          feedbackScreenshotBtn.innerHTML = '<i class="fas fa-camera"></i> 撮影中...';

          html2canvas(document.body, {
            useCORS: true,
            logging: false,
            scale: 1
          }).then(function(canvas) {
            screenshotData = canvas.toDataURL('image/png');
            if (feedbackScreenshotImg) feedbackScreenshotImg.src = screenshotData;
            if (feedbackScreenshotPreview) feedbackScreenshotPreview.style.display = 'block';
            feedbackScreenshotBtn.disabled = false;
            feedbackScreenshotBtn.innerHTML = '<i class="fas fa-camera"></i> スクリーンショット';
            if (feedbackSendBtn) {
              feedbackSendBtn.disabled = !feedbackText.value.trim() && !screenshotData;
            }
          }).catch(function(error) {
            console.error('スクリーンショットエラー:', error);
            alert('スクリーンショットの取得に失敗しました。');
            feedbackScreenshotBtn.disabled = false;
            feedbackScreenshotBtn.innerHTML = '<i class="fas fa-camera"></i> スクリーンショット';
          });
        });
      }

      // スクリーンショット削除
      if (feedbackScreenshotRemove && feedbackSendBtn && feedbackText) {
        feedbackScreenshotRemove.addEventListener('click', function() {
          screenshotData = null;
          if (feedbackScreenshotPreview) feedbackScreenshotPreview.style.display = 'none';
          feedbackSendBtn.disabled = !feedbackText.value.trim();
        });
      }

      // メール送信機能（EmailJS使用）
      if (feedbackSendBtn) {
        feedbackSendBtn.addEventListener('click', function() {
          const text = feedbackText ? feedbackText.value.trim() : '';
          if (!text && !screenshotData) {
            alert('テキストまたはスクリーンショットを入力してください。');
            return;
          }

          const pageUrl = window.location.href;
          const pageTitle = document.title;
          const timestamp = new Date().toLocaleString('ja-JP');

          // EmailJSの設定
          const EMAILJS_SERVICE_ID = 'service_hx88k5s';
          const EMAILJS_TEMPLATE_ID = 'template_alkj896';
          const EMAILJS_PUBLIC_KEY = 'pLD_aLYcX2lhiCSRl';

          // EmailJSが利用可能かチェック
          if (typeof emailjs === 'undefined') {
            // EmailJSが利用できない場合は、従来のmailto方式にフォールバック
            const emailTo = 'misesapofeedback@gmail.com';
            const emailSubject = encodeURIComponent(`フィードバック: ${pageTitle}`);
            let emailBody = `フィードバック\n\n`;
            emailBody += `ページ: ${pageTitle}\n`;
            emailBody += `URL: ${pageUrl}\n`;
            emailBody += `日時: ${timestamp}\n\n`;
            emailBody += `コメント:\n${text}\n`;
            const emailBodyEncoded = encodeURIComponent(emailBody);

            if (screenshotData) {
              const link = document.createElement('a');
              link.download = `screenshot-${Date.now()}.png`;
              link.href = screenshotData;
              link.click();
              alert('スクリーンショットをダウンロードしました。\nメール作成画面で手動で添付してください。');
            }
            window.location.href = `mailto:${emailTo}?subject=${emailSubject}&body=${emailBodyEncoded}`;
            return;
          }

          // EmailJSでメール送信
          feedbackSendBtn.disabled = true;
          feedbackSendBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> 送信中...';

          // テンプレートパラメータを準備
          const templateParams = {
            to_email: 'misesapofeedback@gmail.com',
            page_title: pageTitle,
            page_url: pageUrl,
            timestamp: timestamp,
            comment: text,
            has_screenshot: screenshotData ? 'あり' : 'なし'
          };

          // スクリーンショットがある場合は、HTML画像として埋め込む
          if (screenshotData) {
            // base64画像をHTMLのimgタグとして埋め込む
            // EmailJSのテンプレートでHTMLメールとして表示される
            templateParams.screenshot_image = `<img src="${screenshotData}" alt="スクリーンショット" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 4px; margin: 10px 0;" />`;
            templateParams.screenshot_base64 = screenshotData; // テンプレートで直接使用する場合
          }

          // EmailJSで送信
          emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams)
            .then(function(response) {
              console.log('送信成功:', response.status, response.text);

              alert('フィードバックを送信しました！');
              
              // フォームをリセット
              feedbackForm.style.display = 'none';
              screenshotData = null;
              if (feedbackScreenshotPreview) feedbackScreenshotPreview.style.display = 'none';
              if (feedbackText) feedbackText.value = '';
              feedbackSendBtn.disabled = true;
              feedbackSendBtn.innerHTML = '<i class="fas fa-paper-plane"></i> 送信';
            }, function(error) {
              console.error('送信エラー:', error);
              alert('送信に失敗しました。\nエラー: ' + (error.text || error.message || '不明なエラー'));
              feedbackSendBtn.disabled = false;
              feedbackSendBtn.innerHTML = '<i class="fas fa-paper-plane"></i> 送信';
            });
        });
      }
    }

    // EmailJSの初期化（公開キーを設定）
    const EMAILJS_PUBLIC_KEY = 'pLD_aLYcX2lhiCSRl';
    if (typeof emailjs !== 'undefined') {
      emailjs.init(EMAILJS_PUBLIC_KEY);
    }

    // 初期化
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }
  })();
</script>


    </div>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="/js/firebase-config.js"></script>
    <script src="/js/role_config.js"></script>
    <script src="/js/users.js"></script>
    <script src="/js/auth.js"></script>
    <script src="/js/navigation.js"></script>
    <script src="/modal_manager.js"></script>
    <script src="/app.js"></script>
    <script>
      // 清掃員関連ページとログイン画面ではリリース前チェックとフィードバックボタンを非表示
      // ログイン画面では通常ヘッダーを表示
      (function() {
        const bodyClass = document.body.className || '';
        const path = window.location.pathname || '';
        const isStaffPage = bodyClass.includes('staff') || path.includes('/staff/');
        const isSigninPage = path.includes('/signin.html') || path.includes('/signin');
        
        // ログイン画面では通常ヘッダーを表示、デフォルトヘッダーを非表示
        if (isSigninPage) {
          const defaultHeaderWrapper = document.getElementById('default-header-wrapper');
          const normalHeaderWrapper = document.getElementById('normal-header-wrapper');
          if (defaultHeaderWrapper) {
            defaultHeaderWrapper.style.display = 'none';
          }
          if (normalHeaderWrapper) {
            normalHeaderWrapper.style.display = 'block';
            // ログイン画面では通常ヘッダーを常に表示
            const normalHeader = normalHeaderWrapper.querySelector('.normal-header');
            if (normalHeader) {
              normalHeader.classList.add('visible');
            }
          }
        }
        
        if (isStaffPage || isSigninPage) {
          // リリース前チェックセクションを非表示
          const releaseCheckSection = document.getElementById('release-check-section');
          if (releaseCheckSection) {
            releaseCheckSection.style.display = 'none';
          }
          
          // フィードバックボタンを非表示
          const feedbackButton = document.getElementById('feedback-button');
          if (feedbackButton) {
            feedbackButton.style.display = 'none';
          }
          
          // data-hide-for-staff属性を持つ要素を非表示
          document.querySelectorAll('[data-hide-for-staff]').forEach(el => {
            el.style.display = 'none';
          });
        }
      })();
    </script>
  </body>
  </html>


