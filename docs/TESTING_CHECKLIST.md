# 動作確認チェックリスト

## ローカル開発環境での確認

### 1. 開発サーバーの起動

```bash
python3 scripts/dev_server.py
```

ブラウザで `http://localhost:5173` を開く

### 2. 管理画面の確認

#### 2.1 ページの表示
- [ ] `http://localhost:5173/cleaning-manual-admin.html` にアクセス
- [ ] ページが正常に表示される
- [ ] カテゴリタブが表示される
- [ ] 項目一覧が表示される（データが存在する場合）

#### 2.2 データの読み込み
- [ ] ブラウザのコンソール（F12）を開く
- [ ] エラーがないか確認
- [ ] `[AWSCleaningManualAPI] Initialized` のログが表示される
- [ ] データが読み込まれているか確認

#### 2.3 項目の編集
- [ ] 任意の項目をクリックして編集モーダルを開く
- [ ] フォームに既存のデータが表示される
- [ ] 画像プレビューが表示される（画像がある場合）
- [ ] `undefined`エラーが表示されない

#### 2.4 画像のアップロード
- [ ] 「画像をアップロード」ボタンをクリック
- [ ] 画像ファイルを選択
- [ ] アップロードが成功する
- [ ] 画像プレビューが更新される
- [ ] 画像URLがフォームに設定される

#### 2.5 データの保存
- [ ] フォームを編集
- [ ] 「下書き保存」ボタンをクリック
- [ ] 成功メッセージが表示される
- [ ] 「確定保存」ボタンをクリック
- [ ] 成功メッセージが表示される

#### 2.6 下書き機能
- [ ] 下書きを保存
- [ ] 「下書きを読み込む」ボタンで下書きが読み込まれる
- [ ] 「下書きを確定」ボタンで下書きが確定される
- [ ] 「下書きを削除」ボタンで下書きが削除される

### 3. 一般ページの確認

#### 3.1 ページの表示
- [ ] `http://localhost:5173/cleaning-manual.html` にアクセス
- [ ] ページが正常に表示される
- [ ] 清掃マニュアルの項目が表示される

#### 3.2 データの読み込み
- [ ] ブラウザのコンソール（F12）を開く
- [ ] エラーがないか確認
- [ ] `[AWSCleaningManualAPI] Initialized` のログが表示される
- [ ] データが読み込まれているか確認

## 本番環境（GitHub Pages）での確認

### 1. デプロイの確認
- [ ] GitHub Pagesがデプロイされている（数分待つ）
- [ ] `https://sakurada-masaru.github.io/misesapo/` にアクセスできる

### 2. 管理画面の確認

#### 2.1 ページの表示
- [ ] `https://sakurada-masaru.github.io/misesapo/cleaning-manual-admin.html` にアクセス
- [ ] ページが正常に表示される

#### 2.2 データの読み込み
- [ ] ブラウザのコンソール（F12）を開く
- [ ] エラーがないか確認
- [ ] API Gatewayへのリクエストが成功しているか確認
- [ ] データが読み込まれているか確認

**注意**: API Gatewayの設定が完了していない場合、データの読み込みに失敗する可能性があります。

#### 2.3 画像のアップロード
- [ ] 「画像をアップロード」ボタンをクリック
- [ ] 画像ファイルを選択
- [ ] アップロードが成功する
- [ ] S3バケット内に画像が保存されることを確認

**注意**: 画像アップロードは既に動作しているはずです。

#### 2.4 データの保存
- [ ] フォームを編集
- [ ] 「確定保存」ボタンをクリック
- [ ] API Gatewayへのリクエストが成功しているか確認
- [ ] S3バケット内にデータが保存されることを確認

**注意**: API Gatewayの設定が完了していない場合、データの保存に失敗する可能性があります。

### 3. 一般ページの確認

#### 3.1 ページの表示
- [ ] `https://sakurada-masaru.github.io/misesapo/cleaning-manual.html` にアクセス
- [ ] ページが正常に表示される
- [ ] 清掃マニュアルの項目が表示される

#### 3.2 データの読み込み
- [ ] ブラウザのコンソール（F12）を開く
- [ ] エラーがないか確認
- [ ] API Gatewayへのリクエストが成功しているか確認
- [ ] データが読み込まれているか確認

## トラブルシューティング

### データが読み込めない場合

1. **ローカル開発環境**:
   - 開発サーバーが起動しているか確認
   - `src/data/cleaning-manual.json` が存在するか確認
   - ブラウザのコンソールでエラーを確認

2. **本番環境**:
   - API Gatewayの設定が完了しているか確認
   - S3バケットに`cleaning-manual/data.json`が存在するか確認
   - ブラウザのコンソールでエラーを確認
   - ネットワークタブでAPI Gatewayへのリクエストを確認

### 画像が表示されない場合

- S3バケットのパブリックアクセス設定を確認
- バケットポリシーが設定されているか確認
- 画像のURLが正しいか確認（コンソールログを確認）

詳細は [AWS_IMAGE_NOT_DISPLAYING_TROUBLESHOOTING.md](AWS_IMAGE_NOT_DISPLAYING_TROUBLESHOOTING.md) を参照してください。

