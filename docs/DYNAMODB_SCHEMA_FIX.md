# DynamoDBテーブルスキーマの修正

## 🔍 問題

現在、DynamoDBテーブル `staff-reports` にソートキー（`created_at`）が設定されているため、`get_item`操作でエラーが発生しています。

## ✅ 解決方法

### オプション1: テーブルスキーマを変更（推奨）

テーブルを削除して再作成し、`report_id`のみをパーティションキーにします。

1. **既存のテーブルを削除**
   - DynamoDBコンソールで `staff-reports` テーブルを選択
   - 「削除」をクリック
   - テーブル名を入力して削除を確認

2. **新しいテーブルを作成**
   - 「テーブルの作成」をクリック
   - **テーブル名**: `staff-reports`
   - **パーティションキー**: `report_id` (データ型: **String**)
   - **ソートキー**: なし（削除）
   - 「テーブルの作成」をクリック

3. **GSIを作成**
   - 既存のGSI設定を維持（`staff_id-created_at-index`, `store_id-created_at-index`, `status-created_at-index`）

### オプション2: Lambda関数を修正（現在の実装）

Lambda関数でスキャン操作を使用するように修正しました。ただし、スキャンは効率的ではないため、オプション1を推奨します。

---

## 📝 注意事項

- テーブルを削除すると、既存のデータも削除されます
- テスト環境の場合は問題ありませんが、本番環境の場合は注意が必要です
- テーブルを再作成後、Lambda関数を再デプロイしてください

