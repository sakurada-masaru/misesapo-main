# ログインページの完全分離

## ✅ 実装完了

### 完全に独立した2つのログインページ

#### 1. お客様ログインページ: `/signin.html`
- **タイトル**: 「お客様ログイン」
- **認証システム**: Firebase Authentication
- **対象**: お客様（Customer）のみ
- **新規登録**: ✅ あり（`/signup.html`へのリンク）
- **相互リンク**: ❌ なし（完全に独立）

#### 2. 従業員ログインページ: `/staff/signin.html`
- **タイトル**: 「従業員ログイン」
- **認証システム**: AWS Cognito
- **対象**: 従業員（Worker）のみ
- **新規登録**: ❌ なし（管理者が`/admin/users/index.html`で登録）
- **説明**: 「従業員の新規登録は管理者が行います」を表示
- **相互リンク**: ❌ なし（完全に独立）

---

## 📋 分離状況

| 項目 | お客様 | 従業員 | 状態 |
|------|--------|--------|------|
| **ログインページ** | `/signin.html` | `/staff/signin.html` | ✅ 完全分離 |
| **認証システム** | Firebase | AWS Cognito | ✅ 完全分離 |
| **新規登録** | `/signup.html`（自己登録） | `/admin/users/index.html`（管理者が登録） | ✅ 完全分離 |
| **データベース** | `clients`テーブル | `workers`テーブル | ✅ 完全分離 |
| **管理画面表示** | 表示されない | 表示される | ✅ 完全分離 |
| **相互リンク** | なし | なし | ✅ 完全分離 |

---

## 🎯 設計方針

### 完全に独立した入口
- お客様と従業員は**完全に別々の入口**からログイン
- 相互リンクは一切なし
- 各ページは**単一の目的**に特化

### セキュリティ
- お客様が従業員としてログインすることは不可能（認証システムが異なる）
- 従業員がお客様としてログインすることは不可能（認証システムが異なる）
- 完全に分離された認証フロー

---

## 📊 ログインフロー

### お客様
```
1. /signin.html にアクセス
2. Firebase Authenticationでログイン
3. DynamoDB clientsテーブルからユーザー情報を取得
4. /mypage.html にリダイレクト（将来的に実装）
```

### 従業員
```
1. /staff/signin.html にアクセス
2. AWS Cognitoでログイン
3. DynamoDB workersテーブルからユーザー情報を取得
4. ロールに応じてリダイレクト:
   - staff → /staff/dashboard.html
   - sales → /sales/dashboard.html
   - admin/developer/master → /admin/dashboard.html
```

---

## 🔒 セキュリティ

- **完全分離**: お客様と従業員は完全に別々の入口からログイン
- **認証システム**: FirebaseとAWS Cognitoで完全に分離
- **データベース**: `clients`テーブルと`workers`テーブルで完全に分離
- **管理**: お客様は管理画面に表示されない

