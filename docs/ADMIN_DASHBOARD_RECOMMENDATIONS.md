# 管理ダッシュボード 機能提案

## 📊 現状の機能

### 既存機能
1. **クイックリンク**
   - お知らせ投稿
   - ユーザーID管理
   - 発注管理
   - サービス管理
   - レポート管理

2. **統計カード**
   - 総顧客数
   - 今月発注数
   - 今月売上
   - 営業担当者数

3. **アクティビティ**
   - 最近のアクティビティ一覧
   - 売上推移グラフ

---

## 🎯 追加推奨機能

### 1. **緊急対応・承認待ちカード（高優先度）**

#### 承認待ちレポート
- **表示内容**: 承認待ちレポート数（バッジ付き）
- **リンク**: `/admin/reports.html?status=pending`
- **用途**: 管理者が承認すべきレポートを一目で確認
- **実装**: DynamoDBの`status-created_at-index`を使用

#### 緊急お問い合わせ
- **表示内容**: 緊急・高優先度のお問い合わせ数
- **リンク**: `/admin/support/tickets.html?priority=high`
- **用途**: 即座に対応が必要な案件を把握

#### 未対応レポート
- **表示内容**: 24時間以上未承認のレポート数
- **用途**: 対応漏れの防止

---

### 2. **清掃業務管理カード（高優先度）**

#### 今日の清掃予定
- **表示内容**: 本日の清掃予定件数と完了率
- **リンク**: `/admin/schedule.html?date=today`
- **用途**: 当日の業務状況を即座に把握

#### 清掃員稼働状況
- **表示内容**: 稼働中/休暇中の清掃員数
- **リンク**: `/admin/staff/status.html`
- **用途**: 人員配置の最適化

#### 店舗別清掃状況
- **表示内容**: 定期清掃の実施率（%）
- **リンク**: `/admin/stores/cleaning-status.html`
- **用途**: 清掃漏れの早期発見

---

### 3. **顧客管理カード（中優先度）**

#### 新規顧客（今月）
- **表示内容**: 今月の新規顧客数と前月比
- **リンク**: `/admin/customers.html?filter=new`
- **用途**: 営業活動の成果確認

#### 顧客満足度
- **表示内容**: 平均満足度スコア（5段階評価）
- **リンク**: `/admin/customers/satisfaction.html`
- **用途**: サービス品質の把握

#### 契約更新予定
- **表示内容**: 今月・来月の契約更新予定数
- **リンク**: `/admin/contracts/renewals.html`
- **用途**: 契約維持率の向上

---

### 4. **財務・売上カード（中優先度）**

#### 未入金案件
- **表示内容**: 未入金件数と総額
- **リンク**: `/admin/payments/pending.html`
- **用途**: 回収管理

#### 月次売上比較
- **表示内容**: 前月比、前年同月比
- **グラフ**: 折れ線グラフで12ヶ月分表示
- **用途**: 売上トレンドの把握

#### サービス別売上
- **表示内容**: サービスカテゴリ別の売上構成比
- **グラフ**: 円グラフ
- **用途**: 人気サービスの把握

---

### 5. **品質管理カード（中優先度）**

#### 再清掃リクエスト
- **表示内容**: 再清掃が必要な案件数
- **リンク**: `/admin/reports.html?filter=rework`
- **用途**: 品質問題の早期発見

#### クレーム件数
- **表示内容**: 今月のクレーム件数と前月比
- **リンク**: `/admin/support/complaints.html`
- **用途**: サービス品質の改善

#### 清掃完了率
- **表示内容**: 予定に対する完了率（%）
- **用途**: 業務効率の把握

---

### 6. **システム管理カード（低優先度）**

#### システム通知
- **表示内容**: 重要なシステム通知（メンテナンス予定など）
- **用途**: 管理者への情報共有

#### データバックアップ状況
- **表示内容**: 最終バックアップ日時
- **用途**: データ保護の確認

#### API使用状況
- **表示内容**: API呼び出し数、エラー率
- **用途**: システム負荷の監視

---

### 7. **クイックアクション（追加推奨）**

#### 新規レポート作成
- **ボタン**: 「レポート作成」ボタン
- **リンク**: `/admin/reports/new.html`
- **用途**: 管理者が直接レポートを作成

#### 清掃マニュアル管理
- **ボタン**: 「清掃マニュアル」ボタン
- **リンク**: `/admin/cleaning-manual.html`
- **用途**: マニュアルの編集・更新

#### スケジュール管理
- **ボタン**: 「スケジュール管理」ボタン
- **リンク**: `/admin/schedule.html`
- **用途**: 清掃スケジュールの確認・調整

#### お問い合わせ対応
- **ボタン**: 「お問い合わせ対応」ボタン
- **リンク**: `/admin/support/tickets.html`
- **用途**: 未対応のお問い合わせを確認

---

## 📈 優先度別実装計画

### Phase 1: 緊急対応機能（最優先）
1. ✅ 承認待ちレポート数
2. ✅ 緊急お問い合わせ数
3. ✅ 今日の清掃予定

### Phase 2: 業務管理機能
1. ✅ 清掃員稼働状況
2. ✅ 店舗別清掃状況
3. ✅ 再清掃リクエスト

### Phase 3: 分析・レポート機能
1. ✅ 顧客満足度
2. ✅ サービス別売上
3. ✅ 月次売上比較

### Phase 4: システム管理機能
1. ✅ システム通知
2. ✅ データバックアップ状況

---

## 🎨 UI/UX提案

### カードレイアウト
- **1行目**: 緊急対応カード（赤系のアクセント）
- **2行目**: 統計カード（既存の4つ + 新規追加）
- **3行目**: 業務管理カード（2列グリッド）
- **4行目**: アクティビティ + グラフ（既存）

### カラーコーディング
- **緊急**: 赤系（#dc2626）
- **警告**: オレンジ系（#f59e0b）
- **正常**: 緑系（#059669）
- **情報**: 青系（#3b82f6）

### インタラクティブ要素
- **ホバー効果**: カードにホバーで詳細情報を表示
- **クリック**: カードクリックで詳細ページへ遷移
- **バッジ**: 数値にバッジを表示（例: 承認待ち5件）

---

## 🔗 データソース

### DynamoDB
- `staff-reports` テーブル（レポート情報）
- `announcements` テーブル（お知らせ情報）

### S3
- `services/service_items.json`（サービス情報）
- `cleaning-manual/data.json`（清掃マニュアル）

### Firebase
- Authentication（ユーザー情報）
- Custom Claims（ロール情報）

### 将来的な追加テーブル
- `customers`（顧客情報）
- `orders`（発注情報）
- `schedules`（スケジュール情報）
- `support_tickets`（お問い合わせ情報）
- `payments`（支払い情報）

---

## 💡 実装のヒント

### 1. リアルタイム更新
- WebSocketまたはポーリングで定期的にデータを更新
- 承認待ちレポートなどは5分ごとに更新

### 2. キャッシュ戦略
- 統計データは1時間ごとにキャッシュ
- 緊急情報は常に最新データを取得

### 3. パフォーマンス
- 大量データはページネーション
- グラフは軽量なライブラリを使用（Chart.jsなど）

### 4. レスポンシブ対応
- モバイルでは1列表示
- タブレットでは2列表示
- PCでは4列表示

---

## 📝 次のステップ

1. **Phase 1の実装**
   - 承認待ちレポート数の表示
   - 緊急お問い合わせ数の表示
   - 今日の清掃予定の表示

2. **データ取得APIの実装**
   - Lambda関数で統計データを集計
   - API Gatewayでエンドポイント公開

3. **フロントエンド実装**
   - カードコンポーネントの作成
   - データ取得と表示の実装

4. **テスト**
   - 各カードの動作確認
   - パフォーマンステスト


## 📊 現状の機能

### 既存機能
1. **クイックリンク**
   - お知らせ投稿
   - ユーザーID管理
   - 発注管理
   - サービス管理
   - レポート管理

2. **統計カード**
   - 総顧客数
   - 今月発注数
   - 今月売上
   - 営業担当者数

3. **アクティビティ**
   - 最近のアクティビティ一覧
   - 売上推移グラフ

---

## 🎯 追加推奨機能

### 1. **緊急対応・承認待ちカード（高優先度）**

#### 承認待ちレポート
- **表示内容**: 承認待ちレポート数（バッジ付き）
- **リンク**: `/admin/reports.html?status=pending`
- **用途**: 管理者が承認すべきレポートを一目で確認
- **実装**: DynamoDBの`status-created_at-index`を使用

#### 緊急お問い合わせ
- **表示内容**: 緊急・高優先度のお問い合わせ数
- **リンク**: `/admin/support/tickets.html?priority=high`
- **用途**: 即座に対応が必要な案件を把握

#### 未対応レポート
- **表示内容**: 24時間以上未承認のレポート数
- **用途**: 対応漏れの防止

---

### 2. **清掃業務管理カード（高優先度）**

#### 今日の清掃予定
- **表示内容**: 本日の清掃予定件数と完了率
- **リンク**: `/admin/schedule.html?date=today`
- **用途**: 当日の業務状況を即座に把握

#### 清掃員稼働状況
- **表示内容**: 稼働中/休暇中の清掃員数
- **リンク**: `/admin/staff/status.html`
- **用途**: 人員配置の最適化

#### 店舗別清掃状況
- **表示内容**: 定期清掃の実施率（%）
- **リンク**: `/admin/stores/cleaning-status.html`
- **用途**: 清掃漏れの早期発見

---

### 3. **顧客管理カード（中優先度）**

#### 新規顧客（今月）
- **表示内容**: 今月の新規顧客数と前月比
- **リンク**: `/admin/customers.html?filter=new`
- **用途**: 営業活動の成果確認

#### 顧客満足度
- **表示内容**: 平均満足度スコア（5段階評価）
- **リンク**: `/admin/customers/satisfaction.html`
- **用途**: サービス品質の把握

#### 契約更新予定
- **表示内容**: 今月・来月の契約更新予定数
- **リンク**: `/admin/contracts/renewals.html`
- **用途**: 契約維持率の向上

---

### 4. **財務・売上カード（中優先度）**

#### 未入金案件
- **表示内容**: 未入金件数と総額
- **リンク**: `/admin/payments/pending.html`
- **用途**: 回収管理

#### 月次売上比較
- **表示内容**: 前月比、前年同月比
- **グラフ**: 折れ線グラフで12ヶ月分表示
- **用途**: 売上トレンドの把握

#### サービス別売上
- **表示内容**: サービスカテゴリ別の売上構成比
- **グラフ**: 円グラフ
- **用途**: 人気サービスの把握

---

### 5. **品質管理カード（中優先度）**

#### 再清掃リクエスト
- **表示内容**: 再清掃が必要な案件数
- **リンク**: `/admin/reports.html?filter=rework`
- **用途**: 品質問題の早期発見

#### クレーム件数
- **表示内容**: 今月のクレーム件数と前月比
- **リンク**: `/admin/support/complaints.html`
- **用途**: サービス品質の改善

#### 清掃完了率
- **表示内容**: 予定に対する完了率（%）
- **用途**: 業務効率の把握

---

### 6. **システム管理カード（低優先度）**

#### システム通知
- **表示内容**: 重要なシステム通知（メンテナンス予定など）
- **用途**: 管理者への情報共有

#### データバックアップ状況
- **表示内容**: 最終バックアップ日時
- **用途**: データ保護の確認

#### API使用状況
- **表示内容**: API呼び出し数、エラー率
- **用途**: システム負荷の監視

---

### 7. **クイックアクション（追加推奨）**

#### 新規レポート作成
- **ボタン**: 「レポート作成」ボタン
- **リンク**: `/admin/reports/new.html`
- **用途**: 管理者が直接レポートを作成

#### 清掃マニュアル管理
- **ボタン**: 「清掃マニュアル」ボタン
- **リンク**: `/admin/cleaning-manual.html`
- **用途**: マニュアルの編集・更新

#### スケジュール管理
- **ボタン**: 「スケジュール管理」ボタン
- **リンク**: `/admin/schedule.html`
- **用途**: 清掃スケジュールの確認・調整

#### お問い合わせ対応
- **ボタン**: 「お問い合わせ対応」ボタン
- **リンク**: `/admin/support/tickets.html`
- **用途**: 未対応のお問い合わせを確認

---

## 📈 優先度別実装計画

### Phase 1: 緊急対応機能（最優先）
1. ✅ 承認待ちレポート数
2. ✅ 緊急お問い合わせ数
3. ✅ 今日の清掃予定

### Phase 2: 業務管理機能
1. ✅ 清掃員稼働状況
2. ✅ 店舗別清掃状況
3. ✅ 再清掃リクエスト

### Phase 3: 分析・レポート機能
1. ✅ 顧客満足度
2. ✅ サービス別売上
3. ✅ 月次売上比較

### Phase 4: システム管理機能
1. ✅ システム通知
2. ✅ データバックアップ状況

---

## 🎨 UI/UX提案

### カードレイアウト
- **1行目**: 緊急対応カード（赤系のアクセント）
- **2行目**: 統計カード（既存の4つ + 新規追加）
- **3行目**: 業務管理カード（2列グリッド）
- **4行目**: アクティビティ + グラフ（既存）

### カラーコーディング
- **緊急**: 赤系（#dc2626）
- **警告**: オレンジ系（#f59e0b）
- **正常**: 緑系（#059669）
- **情報**: 青系（#3b82f6）

### インタラクティブ要素
- **ホバー効果**: カードにホバーで詳細情報を表示
- **クリック**: カードクリックで詳細ページへ遷移
- **バッジ**: 数値にバッジを表示（例: 承認待ち5件）

---

## 🔗 データソース

### DynamoDB
- `staff-reports` テーブル（レポート情報）
- `announcements` テーブル（お知らせ情報）

### S3
- `services/service_items.json`（サービス情報）
- `cleaning-manual/data.json`（清掃マニュアル）

### Firebase
- Authentication（ユーザー情報）
- Custom Claims（ロール情報）

### 将来的な追加テーブル
- `customers`（顧客情報）
- `orders`（発注情報）
- `schedules`（スケジュール情報）
- `support_tickets`（お問い合わせ情報）
- `payments`（支払い情報）

---

## 💡 実装のヒント

### 1. リアルタイム更新
- WebSocketまたはポーリングで定期的にデータを更新
- 承認待ちレポートなどは5分ごとに更新

### 2. キャッシュ戦略
- 統計データは1時間ごとにキャッシュ
- 緊急情報は常に最新データを取得

### 3. パフォーマンス
- 大量データはページネーション
- グラフは軽量なライブラリを使用（Chart.jsなど）

### 4. レスポンシブ対応
- モバイルでは1列表示
- タブレットでは2列表示
- PCでは4列表示

---

## 📝 次のステップ

1. **Phase 1の実装**
   - 承認待ちレポート数の表示
   - 緊急お問い合わせ数の表示
   - 今日の清掃予定の表示

2. **データ取得APIの実装**
   - Lambda関数で統計データを集計
   - API Gatewayでエンドポイント公開

3. **フロントエンド実装**
   - カードコンポーネントの作成
   - データ取得と表示の実装

4. **テスト**
   - 各カードの動作確認
   - パフォーマンステスト










