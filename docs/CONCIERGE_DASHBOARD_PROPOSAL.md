# コンシェルジュダッシュボード再設計提案

## 背景
コンシェルジュは営業先店舗に出向き、店舗の内見を行い清掃の契約をする。見積もりは後日お知らせすることになっている（店舗の汚れ具合が千差万別のため）。

## 前提条件
- 主にスマホ端末を使用
- 片手で操作したい
- 現場の写真を撮りたい
- 仮見積もりを作りたい
- ユーザー情報がすぐに閲覧できるようにしたい
- サービスの金額を直感的に一目でわかるようにしたい
- 地図を見たい

## 提案：横スライド式ダッシュボード

### 1. 全体レイアウト

#### 1.1 横スライド形式（スワイプナビゲーション）
- **縦スクロールを廃止し、横スライド（スワイプ）で情報を閲覧**
- 各情報カードを横に並べ、左右にスワイプして切り替え
- 画面下部に固定のクイックメニューバーを配置
- アクティビティ（緊急対応、本日のスケジュール）を最初の画面に配置

#### 1.2 画面構成（左から右へ）
1. **アクティビティ画面**（デフォルト表示）
   - 緊急対応が必要な顧客
   - 本日のスケジュール（時間順）
   - 新規問い合わせ

2. **顧客情報画面**
   - 現在訪問中の顧客情報
   - 連絡先（電話、メール）
   - 店舗情報（住所、地図）
   - 過去の見積もり履歴

3. **サービス・価格画面**
   - サービス一覧（カテゴリ別）
   - 各サービスの価格を大きく表示（¥21,000〜など）
   - タップで詳細表示

4. **仮見積もり作成画面**
   - 選択したサービスを追加
   - 写真を添付
   - メモを追加
   - 仮見積もりを保存

5. **地図画面**
   - 本日のスケジュールを地図上に表示
   - 現在地から各店舗へのルート表示
   - タップで店舗詳細表示

### 2. 画面下部固定クイックメニュー

```
┌─────────────────────────────────────┐
│  [📷写真] [💰見積] [👤顧客] [🗺️地図] │
└─────────────────────────────────────┘
```

- **写真撮影ボタン**：カメラを起動、撮影した写真を仮見積もりに自動追加
- **仮見積もり作成ボタン**：仮見積もり作成画面へ直接遷移
- **顧客情報ボタン**：現在の顧客情報画面へ遷移
- **地図ボタン**：地図画面へ遷移

### 3. 各画面の詳細設計

#### 3.1 アクティビティ画面（デフォルト）
```
┌─────────────────────────┐
│ 緊急対応が必要な顧客     │
│ ┌───────────────────┐   │
│ │ 🚨 見積承認待ち    │   │
│ │ 株式会社ABC 神楽坂店│   │
│ │ 3日前送付済み      │   │
│ └───────────────────┘   │
│                          │
│ 本日のスケジュール        │
│ ┌───────────────────┐   │
│ │ 10:00 株式会社XYZ  │   │
│ │ 内見・見積もり作成 │   │
│ │ 📍 日本橋茅場町店  │   │
│ └───────────────────┘   │
│                          │
│ 新規問い合わせ            │
│ ┌───────────────────┐   │
│ │ 株式会社DEF        │   │
│ │ 清掃サービス希望   │   │
│ └───────────────────┘   │
└─────────────────────────┘
```

#### 3.2 顧客情報画面
```
┌─────────────────────────┐
│ 株式会社XYZ 神楽坂店    │
│                          │
│ 📞 03-1234-5678         │
│ ✉️ info@xyz.co.jp       │
│                          │
│ 📍 東京都新宿区神楽坂... │
│ [🗺️ 地図で開く]         │
│                          │
│ 過去の見積もり           │
│ ┌───────────────────┐   │
│ │ 2025/03/15        │   │
│ │ グリストラップ    │   │
│ │ ¥21,000          │   │
│ │ ✅ 承認済み       │   │
│ └───────────────────┘   │
└─────────────────────────┘
```

#### 3.3 サービス・価格画面
```
┌─────────────────────────┐
│ 厨房設備                │
│ ┌───────────────────┐   │
│ │ グリストラップ    │   │
│ │ ¥21,000〜        │   │
│ │ [詳細] [追加]     │   │
│ └───────────────────┘   │
│                          │
│ 空調設備                 │
│ ┌───────────────────┐   │
│ │ エアコン洗浄      │   │
│ │ ¥15,000〜        │   │
│ │ [詳細] [追加]     │   │
│ └───────────────────┘   │
└─────────────────────────┘
```

#### 3.4 仮見積もり作成画面
```
┌─────────────────────────┐
│ 仮見積もり作成           │
│                          │
│ 選択したサービス          │
│ ┌───────────────────┐   │
│ │ グリストラップ    │   │
│ │ ¥21,000          │   │
│ │ [削除]            │   │
│ └───────────────────┘   │
│                          │
│ 合計: ¥21,000            │
│                          │
│ 写真 (3枚)               │
│ [📷] [📷] [📷] [+追加]  │
│                          │
│ メモ                     │
│ [テキスト入力エリア]     │
│                          │
│ [💾 保存] [📤 送信]      │
└─────────────────────────┘
```

#### 3.5 地図画面
```
┌─────────────────────────┐
│ 🗺️ 本日のスケジュール    │
│                          │
│ [地図表示エリア]         │
│                          │
│ 📍 10:00 株式会社XYZ     │
│    神楽坂店              │
│    [詳細] [ルート]       │
│                          │
│ 📍 14:00 株式会社ABC     │
│    日本橋店              │
│    [詳細] [ルート]       │
└─────────────────────────┘
```

### 4. 実装のポイント

#### 4.1 横スライド実装
- CSS: `display: flex; overflow-x: auto; scroll-snap-type: x mandatory;`
- JavaScript: スワイプジェスチャー検出（Touch Events）
- 各画面幅: `100vw`（画面幅いっぱい）
- スクロールスナップ: 各画面の中央で止まる

#### 4.2 片手操作対応
- 重要なボタンは画面下部に配置
- ボタンサイズ: 最小44px × 44px（タップしやすいサイズ）
- スワイプ操作: 左右にスワイプで画面切り替え
- 固定メニュー: 画面下部に固定（`position: fixed; bottom: 0;`）

#### 4.3 写真撮影機能
- HTML5 Camera API (`<input type="file" accept="image/*" capture="environment">`)
- 撮影後、仮見積もりに自動追加
- 写真プレビュー表示

#### 4.4 価格表示
- 大きなフォントサイズ（`font-size: 1.5rem`以上）
- 色分け（例: 基本料金は黒、追加料金は青）
- 価格範囲表示（¥21,000〜）

#### 4.5 地図表示
- Google Maps API または OpenStreetMap
- 現在地取得（Geolocation API）
- ルート表示（Google Directions API）

### 5. 削除する要素

以下の要素は削除し、マイページに移動：
- 顧客数
- 発注数
- 売上
- その他の統計情報

### 6. マイページへの移動

以下の情報をマイページに移動：
- 顧客数のグラフ表示
- 発注数の推移グラフ
- 売上のグラフ表示
- 月次・年次統計

### 7. 技術スタック

- **CSS**: Flexbox, Scroll Snap, Touch Events
- **JavaScript**: 
  - スワイプ検出（Hammer.js または カスタム実装）
  - カメラAPI
  - 地図API（Google Maps / Leaflet）
- **レスポンシブ**: スマホファースト（PCは横並び表示）

### 8. 実装優先順位

1. **Phase 1**: 横スライド形式の基本レイアウト
2. **Phase 2**: 画面下部固定クイックメニュー
3. **Phase 3**: アクティビティ画面の実装
4. **Phase 4**: 顧客情報画面の実装
5. **Phase 5**: サービス・価格画面の実装
6. **Phase 6**: 仮見積もり作成画面の実装
7. **Phase 7**: 地図画面の実装
8. **Phase 8**: 写真撮影機能の実装

### 9. ユーザーフロー例

#### 9.1 店舗訪問時のフロー
1. アクティビティ画面で本日のスケジュールを確認
2. 顧客情報画面で店舗情報・連絡先を確認
3. 地図画面でルートを確認して店舗へ移動
4. 店舗到着後、サービス・価格画面でサービスを選択
5. 写真撮影ボタンで現場の写真を撮影
6. 仮見積もり作成画面で写真を添付し、仮見積もりを作成
7. 保存して後日正式な見積もりを作成

### 10. デザインガイドライン

- **色**: プライマリカラー（ピンク）をアクセントに使用
- **フォント**: 読みやすいサイズ（最小14px）
- **スペーシング**: タップしやすい間隔（最小8px）
- **アニメーション**: スムーズなスライドアニメーション（0.3s ease）
- **フィードバック**: タップ時に視覚的フィードバック（色変化、スケール）

## まとめ

この提案により、コンシェルジュは：
- 片手で簡単に操作できる
- 必要な情報にすぐアクセスできる
- 現場で写真を撮り、仮見積もりを作成できる
- サービスの価格を直感的に把握できる
- 地図でスケジュールを確認できる

ダッシュボードは「クイックアクションツールのハブ」として機能し、現場での作業効率が大幅に向上します。

