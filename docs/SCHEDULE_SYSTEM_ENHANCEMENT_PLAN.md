# スケジュールシステム強化プラン

**作成日**: 2025年12月10日  
**目的**: Googleカレンダーから社内システムへの移行と、ウーバーイーツ型マッチングシステムへの拡張

---

## 📋 現状の課題

### 1. Googleカレンダー運用の問題点
- **権限管理の問題**: 誰でも自由に編集できてしまう
- **アカウント共有の問題**: 1つのGoogleアカウントを全員で共有し、個人の予定と業務予定が混在
- **変更履歴の問題**: 誰がいつ変更したか追えない
- **責任の所在**: 権限者に全ての責任が集中

### 2. 現在の管理ダッシュボードの限界
- 案件数が増加すると、現行のUIでは処理が困難
- スケジュールの使用頻度が高く、操作性が重要
- 関わる人員が増えると、権限管理とワークフローが複雑化

### 3. 将来のビジョン
- **ウーバーイーツ型マッチングシステム**: 営業が締結した案件を、誰が担当するか？というシステム
- **スケジュール管理はシステムの根幹**: 重要な入り口として機能させる

---

## 🎯 目標

### 短期目標（3-6ヶ月）
1. Googleカレンダーから社内システムへの完全移行
2. 権限管理と変更履歴の実装
3. Googleカレンダーと同等の操作性を実現

### 中期目標（6-12ヶ月）
1. マッチング機能の基盤構築
2. 自動マッチングアルゴリズムの実装
3. 通知・リマインダー機能の充実

### 長期目標（12ヶ月以降）
1. ウーバーイーツ型マッチングシステムの完成
2. スタッフの稼働状況管理
3. 分析・レポート機能の充実

---

## 📊 使用頻度と関わる人員の分析

### スケジュールの使用頻度

#### 高頻度（毎日・複数回）
- **管理者**: 案件の確認・承認・割り当て（1日10-50件）
- **営業**: 案件の作成・確認（1日5-20件）
- **清掃員**: 自分のスケジュール確認（1日3-10回）

#### 中頻度（週数回）
- **管理者**: 週次・月次のスケジュール確認
- **営業**: 案件の編集・更新

#### 低頻度（月数回）
- **管理者**: 設定変更・権限管理
- **全員**: システム設定の変更

### 関わる人員の役割

#### 現在（自社スタッフのみ）
- **管理者（admin）**: 1-2名
  - 全案件の管理
  - 清掃員への割り当て
  - 承認・却下
  
- **営業（sales）**: 2-5名
  - 案件の作成
  - 顧客対応
  
- **清掃員（staff）**: 5-15名
  - スケジュール確認
  - 作業開始・完了

#### 将来（拡大時）
- **管理者（admin）**: 2-5名
  - 案件の管理・承認
  - マッチングの調整
  - 権限管理
  
- **営業（sales）**: 5-20名
  - 案件の作成
  - 顧客対応
  
- **清掃員（staff）**: 20-100名以上
  - 案件への応募
  - スケジュール確認
  - 作業開始・完了

---

## 🚀 実装フェーズ

### Phase 1: 基盤強化（3-4週間）※AIエディター活用

**目標**: 現行システムの課題を解決し、Googleカレンダーと同等の操作性を実現

#### 1.1 権限管理の実装（優先度: 最高）

**実装内容**:
- API側での権限チェック
- フロントエンドでの表示制御
- ロール別の操作制限

**権限設定**:
```
【管理者（admin）】
- 全案件の閲覧・作成・編集・削除
- スタッフへの割り当て
- 権限設定の変更
- 変更履歴の確認

【営業（sales）】
- 自分が作成した案件の閲覧・作成・編集
- 他の人が作成した案件は閲覧のみ
- 削除は不可（管理者に依頼）
- 割り当ては不可

【清掃員（staff）】
- 自分に割り当てられた案件の閲覧のみ
- 作業開始・完了の操作
- 作成・編集・削除は不可
```

**実装タスク**:
- [ ] Lambda関数に権限チェックロジックを追加
- [ ] フロントエンドでボタンの表示/非表示を制御
- [ ] 権限エラー時の適切なエラーメッセージ表示

**影響範囲**: 全画面、全API

#### 1.2 変更履歴の記録（優先度: 高）

**実装内容**:
- 変更履歴テーブル（DynamoDB）の作成
- 変更履歴の記録ロジック
- 変更履歴の表示画面

**データ構造**:
```json
{
  "id": "uuid",
  "schedule_id": "uuid",
  "changed_at": "ISO8601",
  "changed_by": "user_id",
  "changed_by_name": "string",
  "change_type": "create|update|delete|status_change|assign",
  "field_name": "string",
  "old_value": "any",
  "new_value": "any",
  "reason": "string"
}
```

**実装タスク**:
- [ ] DynamoDBテーブル `schedule_change_history` の作成
- [ ] Lambda関数に変更履歴記録ロジックを追加
- [ ] 管理画面に変更履歴表示タブを追加

**影響範囲**: スケジュール作成・更新・削除API

#### 1.3 カレンダー機能の拡充（優先度: 高）

**実装内容**:
- 週表示（タイムライン形式）の追加
- 日表示（タイムライン形式）の追加
- 表示モードの切り替え

**UI要件**:
- Googleカレンダーと同等の操作性
- 時間軸での表示（6:00-24:00）
- イベントの時間帯を視覚的に表示
- 重複予定の確認

**実装タスク**:
- [ ] 週表示UIの実装
- [ ] 日表示UIの実装
- [ ] 表示モード切り替えボタンの追加
- [ ] タイムライン表示のCSS実装

**影響範囲**: 管理画面、営業画面、清掃員画面

#### 1.4 操作性の向上（優先度: 中）

**実装内容**:
- ドラッグ&ドロップでの移動
- イベントのリサイズ（時間変更）
- クイック作成（日付クリック）

**実装タスク**:
- [ ] ドラッグ&ドロップライブラリの導入（例: FullCalendar）
- [ ] イベント移動時のAPI呼び出し
- [ ] イベントリサイズ時のAPI呼び出し

**影響範囲**: カレンダー表示画面

---

### Phase 2: マッチング機能の準備（2-3週間）※AIエディター活用

**目標**: ウーバーイーツ型マッチングシステムの基盤を構築

#### 2.1 案件の公開機能（優先度: 高）

**実装内容**:
- 案件を「公開」状態にする機能
- 公開された案件の一覧表示
- 公開条件の設定（地域、スキル、時間帯など）

**データ構造の拡張**:
```json
{
  "is_public": true,
  "publication_date": "ISO8601",
  "application_deadline": "ISO8601",
  "required_skills": ["string"],
  "preferred_location": "string",
  "applicants": [
    {
      "staff_id": "string",
      "applied_at": "ISO8601",
      "status": "pending|approved|rejected"
    }
  ]
}
```

**実装タスク**:
- [ ] 案件公開フラグの追加
- [ ] 公開案件一覧画面の実装
- [ ] 公開条件の設定UI

**影響範囲**: スケジュール作成・管理画面

#### 2.2 通知機能（優先度: 高）

**実装内容**:
- 新規案件の通知
- 割り当て通知
- リマインダー（前日・当日）

**通知方法**:
- システム内通知（ダッシュボード）
- メール通知（AWS SES）
- プッシュ通知（将来）

**実装タスク**:
- [ ] 通知テーブル（DynamoDB）の作成
- [ ] 通知送信ロジックの実装
- [ ] 通知一覧画面の実装
- [ ] メール通知の実装（AWS SES）

**影響範囲**: 全画面、Lambda関数

#### 2.3 スタッフの応募機能（優先度: 中）

**実装内容**:
- 公開案件への応募ボタン
- 応募一覧の表示
- 応募状況の管理

**実装タスク**:
- [ ] 応募APIの実装
- [ ] 応募一覧画面の実装
- [ ] 応募状況の表示

**影響範囲**: 清掃員画面、管理画面

---

### Phase 3: 自動マッチング機能（2-3週間）※AIエディター活用

**目標**: 自動マッチングアルゴリズムの実装

#### 3.1 マッチングアルゴリズム（優先度: 中）

**実装内容**:
- スキルマッチング
- 位置情報ベースのマッチング
- 過去の実績に基づく推薦

**アルゴリズム要件**:
- スキルマッチング: 必要なスキルとスタッフのスキルを照合
- 位置情報: 案件の場所とスタッフの位置を考慮
- 実績: 過去の評価・完了率を考慮
- 稼働状況: スタッフの稼働可能時間を考慮

**実装タスク**:
- [ ] マッチングアルゴリズムの設計
- [ ] マッチングAPIの実装
- [ ] マッチング結果の表示
- [ ] マッチング精度の評価

**影響範囲**: 管理画面、Lambda関数

#### 3.2 スタッフの稼働状況管理（優先度: 中）

**実装内容**:
- 稼働可能時間の設定
- 休暇管理
- 稼働率の可視化

**実装タスク**:
- [ ] 稼働状況テーブル（DynamoDB）の作成
- [ ] 稼働状況設定画面の実装
- [ ] 稼働率ダッシュボードの実装

**影響範囲**: 清掃員画面、管理画面

---

### Phase 4: 移行・運用支援（並行実施）

**目標**: Googleカレンダーから社内システムへの円滑な移行

#### 4.1 Googleカレンダーからのインポート機能（優先度: 高）

**実装内容**:
- Googleカレンダーからイベントを取得
- 社内システムのスケジュール形式に変換
- 一括登録

**実装タスク**:
- [ ] Google Calendar API連携の実装
- [ ] イベント取得・変換ロジック
- [ ] 一括インポート画面の実装
- [ ] データの紐付け（イベントID保存）

**影響範囲**: 管理画面、Lambda関数

#### 4.2 データ移行ツール（優先度: 中）

**実装内容**:
- 既存データの移行スクリプト
- データ検証ツール
- 移行レポート

**実装タスク**:
- [ ] 移行スクリプトの作成
- [ ] データ検証ツールの作成
- [ ] 移行レポートの生成

**影響範囲**: バックエンド

#### 4.3 ユーザー教育資料（優先度: 中）

**実装内容**:
- 操作マニュアル
- 動画チュートリアル
- FAQ

**実装タスク**:
- [ ] 操作マニュアルの作成
- [ ] 動画チュートリアルの作成
- [ ] FAQの作成

**影響範囲**: ドキュメント

---

## 📅 実装スケジュール（AIエディター活用版）

**開発体制**: 2名  
**AIエディター活用**: Cursor等のAIエディターを活用して開発速度を2-3倍に向上

### Phase 1: 基盤強化（3-4週間）

**Week 1: 権限管理の実装**
- Lambda関数に権限チェックロジックを追加（2日）
- フロントエンドでボタンの表示/非表示を制御（2日）
- テスト・修正（1日）

**Week 2: 変更履歴の記録**
- DynamoDBテーブルの作成（1日）
- 変更履歴記録ロジックの実装（2日）
- 変更履歴表示画面の実装（2日）

**Week 3: カレンダー機能の拡充（週表示・日表示）**
- 週表示UIの実装（2日）
- 日表示UIの実装（2日）
- 表示モード切り替えボタンの追加（1日）

**Week 4: 操作性の向上 + Googleカレンダーからのインポート**
- ドラッグ&ドロップの実装（2日）
- Google Calendar API連携の実装（2日）
- 一括インポート画面の実装（1日）

### Phase 2: マッチング機能の準備（2-3週間）

**Week 5: 案件の公開機能**
- 案件公開フラグの追加（1日）
- 公開案件一覧画面の実装（2日）
- 公開条件の設定UI（2日）

**Week 6: 通知機能**
- 通知テーブルの作成（1日）
- 通知送信ロジックの実装（2日）
- メール通知の実装（2日）

**Week 7: スタッフの応募機能**
- 応募APIの実装（2日）
- 応募一覧画面の実装（2日）
- テスト・修正（1日）

### Phase 3: 自動マッチング機能（2-3週間）

**Week 8-9: 自動マッチングアルゴリズム**
- マッチングアルゴリズムの設計（2日）
- マッチングAPIの実装（3日）
- マッチング結果の表示（2日）
- テスト・調整（3日）

**Week 10: スタッフの稼働状況管理**
- 稼働状況テーブルの作成（1日）
- 稼働状況設定画面の実装（2日）
- 稼働率ダッシュボードの実装（2日）

### 合計: 約10週間（2.5ヶ月）

**並行作業の可能性**:
- 開発者1: バックエンド（Lambda、DynamoDB）
- 開発者2: フロントエンド（UI、JavaScript）

**AIエディター活用のポイント**:
- コード生成: 繰り返し処理、API呼び出し、UIコンポーネント
- リファクタリング: 既存コードの改善
- デバッグ: エラーの特定と修正
- テストコード: ユニットテストの自動生成

---

## 👥 関わる人員別の影響

### 管理者（admin）

#### Phase 1での変化
- **権限管理**: 細かい権限設定が可能に
- **変更履歴**: 誰がいつ変更したか確認可能
- **操作性**: 週表示・日表示で案件管理が容易に

#### Phase 2での変化
- **案件公開**: 案件を公開してスタッフに通知
- **通知機能**: 新規案件・応募状況を通知

#### Phase 3での変化
- **自動マッチング**: マッチング候補の提案
- **稼働状況管理**: スタッフの稼働状況を可視化

### 営業（sales）

#### Phase 1での変化
- **権限管理**: 自分が作成した案件のみ編集可能
- **操作性**: 週表示・日表示で案件確認が容易に

#### Phase 2での変化
- **通知機能**: 案件の承認・却下を通知

### 清掃員（staff）

#### Phase 1での変化
- **操作性**: 週表示・日表示でスケジュール確認が容易に
- **権限管理**: 自分に割り当てられた案件のみ閲覧可能

#### Phase 2での変化
- **案件応募**: 公開案件に応募可能
- **通知機能**: 割り当て通知・リマインダー

#### Phase 3での変化
- **稼働状況管理**: 自分の稼働可能時間を設定

---

## 🔄 移行計画

### 並行運用期間: 1-2ヶ月（短縮版）

#### 第1段階（Week 1-2）: 新規案件は社内システムで作成
- 新規案件は社内システムで作成
- 既存のGoogleカレンダーは参照のみ
- ユーザーへの周知・教育

#### 第2段階（Week 3-4）: 既存案件の移行
- Googleカレンダーから既存案件をインポート
- データの検証・修正
- 徐々に社内システムに移行

#### 第3段階（Week 5-6）: 完全移行
- Googleカレンダーの使用を停止
- 社内システムのみで運用
- サポート体制の整備

---

## 📊 成功指標

### Phase 1完了時
- [ ] 権限管理が適切に機能している
- [ ] 変更履歴が全て記録されている
- [ ] 週表示・日表示が利用可能
- [ ] Googleカレンダーと同等の操作性を実現

### Phase 2完了時
- [ ] 案件の公開機能が利用可能
- [ ] 通知機能が正常に動作
- [ ] スタッフの応募機能が利用可能

### Phase 3完了時
- [ ] 自動マッチングアルゴリズムが実装されている
- [ ] マッチング精度が一定以上
- [ ] スタッフの稼働状況管理が可能

### 移行完了時
- [ ] Googleカレンダーからの移行が完了
- [ ] ユーザーが社内システムに慣れている
- [ ] サポート体制が整備されている

---

## ⚠️ リスクと対策

### リスク1: 移行時のデータ損失
**対策**:
- データのバックアップを取得
- 移行前のデータ検証
- 段階的な移行

### リスク2: ユーザーの反発
**対策**:
- 十分な周知・教育
- サポート体制の整備
- フィードバックの収集

### リスク3: パフォーマンスの問題
**対策**:
- 負荷テストの実施
- キャッシュの活用
- 段階的な機能追加

### リスク4: 権限管理の複雑化
**対策**:
- シンプルな権限モデルの設計
- 権限の可視化
- 定期的な権限の見直し

---

## 🤖 AIエディター活用戦略

### 開発速度向上のポイント

#### 1. コード生成の活用
- **API実装**: Lambda関数のコード生成
- **UIコンポーネント**: 繰り返しパターンの自動生成
- **データベース操作**: DynamoDB操作のコード生成
- **テストコード**: ユニットテストの自動生成

#### 2. リファクタリングの効率化
- **既存コードの改善**: AIによる提案
- **コードレビュー**: 潜在的な問題の特定
- **パフォーマンス最適化**: ボトルネックの特定

#### 3. デバッグの高速化
- **エラーの特定**: エラーメッセージからの原因特定
- **修正案の提案**: エラー修正のコード生成
- **ログ分析**: ログからの問題特定

#### 4. ドキュメント生成
- **コメント生成**: 関数・クラスの説明
- **API仕様書**: エンドポイントの説明
- **README**: セットアップ手順の生成

### 開発体制（2名）

#### 開発者1: バックエンド担当
- Lambda関数の実装
- DynamoDBテーブル設計・実装
- API設計・実装
- 権限管理ロジック

#### 開発者2: フロントエンド担当
- UI実装
- JavaScript実装
- CSS実装
- ユーザー体験の設計

#### 並行作業の可能性
- **Week 1-2**: バックエンド（権限管理） + フロントエンド（UI準備）
- **Week 3-4**: バックエンド（変更履歴） + フロントエンド（カレンダーUI）
- **Week 5-7**: バックエンド（通知機能） + フロントエンド（応募機能UI）

### 期待される効果

- **開発速度**: 2-3倍の向上
- **コード品質**: AIによる提案で品質向上
- **バグ削減**: 早期のエラー検出
- **ドキュメント**: 自動生成で時間短縮

## 📝 次のステップ

1. **Phase 1の実装開始（Week 1）**
   - 権限管理の実装
   - AIエディターの活用方法の確認
   - 開発環境のセットアップ

2. **ユーザーへの周知（Week 2-3）**
   - システム説明会の開催
   - 操作マニュアルの作成（AI生成を活用）
   - FAQの作成

3. **フィードバックの収集（Week 4以降）**
   - ユーザーからの意見収集
   - 改善点の洗い出し
   - 優先順位の調整

---

## 🛠️ 開発環境の構築（管理体制考慮版）

### 現状の開発環境

- **リポジトリ**: GitHub（公開）
- **フロントエンド**: GitHub Pages（自動デプロイ）
- **バックエンド**: AWS Lambda + DynamoDB
- **管理体制**: 全権はユーザーが掌握、フロントエンドエンジニアが部下

### 開発環境の課題

1. **リスク管理**: 本番環境への直接デプロイのリスク
2. **権限管理**: フロントエンドエンジニアの作業範囲の制限
3. **デプロイフロー**: 手動デプロイの手間とリスク
4. **コードレビュー**: 品質管理とリスク軽減

---

## 🔐 安全な開発環境の構築

### 1. GitHubブランチ戦略

#### 推奨ブランチ構成

```
main (本番環境)
  ├── develop (開発環境)
  ├── feature/機能名 (機能開発)
  ├── hotfix/修正内容 (緊急修正)
  └── release/バージョン (リリース準備)
```

#### ブランチ保護ルール

**mainブランチ**:
- ✅ プルリクエスト必須
- ✅ コードレビュー必須（ユーザーが承認）
- ✅ ステータスチェック必須（CI/CD）
- ✅ マージ後の自動デプロイ

**developブランチ**:
- ✅ プルリクエスト推奨
- ✅ コードレビュー推奨
- ✅ ステージング環境への自動デプロイ

**featureブランチ**:
- ✅ 自由にコミット可能
- ✅ プルリクエストでdevelopにマージ

### 2. 環境分離戦略

#### 環境の種類

1. **開発環境（develop）**
   - フロントエンドエンジニアが自由に作業可能
   - ステージング用のAWSリソース（別Lambda関数、別DynamoDBテーブル）
   - URL: `https://develop.yourdomain.com` または `https://yourdomain.com/develop`

2. **ステージング環境（staging）**
   - 本番環境と同じ構成でテスト
   - ユーザーが最終確認
   - URL: `https://staging.yourdomain.com`

3. **本番環境（main）**
   - ユーザーの承認後にデプロイ
   - 本番用のAWSリソース
   - URL: `https://yourdomain.com`

#### AWSリソースの分離

```
開発環境:
- Lambda関数: misesapo-api-dev
- DynamoDBテーブル: schedules-dev, reports-dev, ...

ステージング環境:
- Lambda関数: misesapo-api-staging
- DynamoDBテーブル: schedules-staging, reports-staging, ...

本番環境:
- Lambda関数: misesapo-api-prod
- DynamoDBテーブル: schedules-prod, reports-prod, ...
```

### 3. GitHub Actionsワークフロー

#### 開発環境への自動デプロイ

```yaml
# .github/workflows/deploy-dev.yml
name: Deploy to Development

on:
  push:
    branches: [ develop ]
  pull_request:
    branches: [ develop ]

jobs:
  deploy-dev:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Build
        run: python3 scripts/build.py
      - name: Deploy to GitHub Pages (dev)
        # 開発環境へのデプロイ
```

#### 本番環境へのデプロイ（承認必須）

```yaml
# .github/workflows/deploy-prod.yml
name: Deploy to Production

on:
  workflow_dispatch:  # 手動実行のみ
  # または
  pull_request:
    branches: [ main ]
    types: [ closed ]

jobs:
  deploy-prod:
    runs-on: ubuntu-latest
    environment: production  # 環境保護設定
    steps:
      - uses: actions/checkout@v4
      - name: Build
        run: python3 scripts/build.py
      - name: Deploy to GitHub Pages (prod)
        # 本番環境へのデプロイ
```

**環境保護設定**:
- 承認者: ユーザーのみ
- デプロイ前の確認必須

### 4. AWS権限管理

#### IAMロールの分離

**フロントエンドエンジニア用ロール**:
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "lambda:GetFunction",
        "lambda:GetFunctionConfiguration",
        "dynamodb:DescribeTable",
        "dynamodb:Scan",
        "dynamodb:Query"
      ],
      "Resource": [
        "arn:aws:lambda:*:*:function:misesapo-api-dev*",
        "arn:aws:dynamodb:*:*:table/*-dev"
      ]
    }
  ]
}
```

**ユーザー用ロール（管理者）**:
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "*",
      "Resource": "*"
    }
  ]
}
```

#### AWS認証情報の管理

- **開発環境**: GitHub Secretsに保存（フロントエンドエンジニアもアクセス可能）
- **本番環境**: ユーザーのみがアクセス可能
- **環境変数**: 各環境で分離

### 5. コードレビュープロセス

#### プルリクエストの流れ

1. **フロントエンドエンジニア**
   - featureブランチで作業
   - プルリクエストを作成（develop → main）
   - 変更内容を説明

2. **ユーザー（レビュー）**
   - コードを確認
   - コメント・修正依頼
   - 承認

3. **自動デプロイ**
   - 承認後に自動で本番環境へデプロイ

#### レビューチェックリスト

- [ ] コードの品質（可読性、保守性）
- [ ] セキュリティ（XSS、CSRF対策）
- [ ] パフォーマンス（不要なリクエスト、重い処理）
- [ ] テスト（動作確認）
- [ ] ドキュメント（コメント、README更新）

### 6. デプロイメント戦略

#### 段階的デプロイ

1. **開発環境（develop）**
   - 自動デプロイ
   - フロントエンドエンジニアが確認

2. **ステージング環境（staging）**
   - ユーザーが手動でデプロイ
   - 最終確認

3. **本番環境（main）**
   - ユーザーの承認後にデプロイ
   - 本番データへの影響を最小化

#### ロールバック戦略

- **GitHub**: 以前のコミットに戻す
- **AWS Lambda**: 以前のバージョンに戻す
- **DynamoDB**: バックアップから復元（必要に応じて）

### 7. フロントエンドエンジニアの作業範囲

#### 許可される作業

- ✅ フロントエンドコード（HTML、CSS、JavaScript）
- ✅ UI/UXの改善
- ✅ 開発環境でのテスト
- ✅ プルリクエストの作成

#### 制限される作業

- ❌ 本番環境への直接デプロイ
- ❌ AWSリソースの変更（Lambda関数、DynamoDBテーブル）
- ❌ 環境変数の変更
- ❌ セキュリティ設定の変更

### 8. リスク管理

#### 本番環境の保護

1. **ブランチ保護**
   - mainブランチへの直接プッシュ禁止
   - プルリクエスト必須

2. **環境変数の保護**
   - 本番環境の認証情報はGitHub Secretsで管理
   - フロントエンドエンジニアはアクセス不可

3. **データベースの保護**
   - 本番環境のDynamoDBテーブルへの書き込み制限
   - 開発環境では別テーブルを使用

4. **デプロイの承認**
   - 本番環境へのデプロイはユーザーの承認必須
   - 自動デプロイは開発環境のみ

#### 緊急時の対応

1. **ロールバック手順**
   - GitHubで以前のコミットに戻す
   - AWS Lambdaで以前のバージョンに戻す

2. **緊急修正フロー**
   - hotfixブランチを作成
   - 緊急修正を実装
   - ユーザーがレビュー・承認
   - 本番環境へデプロイ

### 9. 開発フローの最適化

#### AIエディター活用時の注意点

1. **コード生成の確認**
   - AIが生成したコードは必ずレビュー
   - セキュリティホールがないか確認

2. **自動テスト**
   - 生成されたコードの動作確認
   - ユニットテストの実行

3. **ドキュメント更新**
   - 変更内容をドキュメントに反映
   - API仕様の更新

#### 効率的な開発フロー

1. **機能開発**
   ```
   feature/機能名 ブランチ作成
   → AIエディターでコード生成
   → 動作確認
   → プルリクエスト作成
   → ユーザーがレビュー・承認
   → 本番環境へデプロイ
   ```

2. **バグ修正**
   ```
   hotfix/修正内容 ブランチ作成
   → 修正を実装
   → 動作確認
   → プルリクエスト作成
   → ユーザーがレビュー・承認
   → 本番環境へデプロイ
   ```

### 10. チェックリスト

#### 開発環境セットアップ

- [ ] GitHubブランチ保護ルールの設定
- [ ] 環境分離（開発・ステージング・本番）
- [ ] AWS IAMロールの作成
- [ ] GitHub Actionsワークフローの設定
- [ ] 環境変数の設定（GitHub Secrets）
- [ ] デプロイメントスクリプトの作成

#### フロントエンドエンジニア向け

- [ ] 開発環境へのアクセス権限
- [ ] 作業範囲の明確化
- [ ] プルリクエストの作成方法
- [ ] コードレビューの流れ

#### ユーザー向け

- [ ] コードレビューのチェックリスト
- [ ] デプロイメントの承認フロー
- [ ] 緊急時の対応手順
- [ ] ロールバック手順

---

## 📚 関連ドキュメント

- [スケジュールシステム仕様書](./SCHEDULE_SYSTEM_SPECIFICATION.md)
- [スケジュール機能実装計画](./SCHEDULE_IMPLEMENTATION_PLAN.md)
- [Google Calendar API統合ガイド](./GOOGLE_CALENDAR_API_INTEGRATION.md)
- [Lambda関数のデプロイガイド](./LAMBDA_DEPLOY_GUIDE.md)

