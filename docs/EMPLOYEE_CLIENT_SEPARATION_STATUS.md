# ç¤¾å“¡ã¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åˆ†é›¢çŠ¶æ³

## ğŸ” ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³

### âœ… å®Œå…¨ã«åˆ†é›¢ã•ã‚Œã¦ã„ã‚‹é …ç›®

#### 1. èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 
- **å¾“æ¥­å“¡ï¼ˆç¤¾å“¡ï¼‰**: AWS Cognito
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆãŠå®¢æ§˜ï¼‰**: Firebase Authentication
- âœ… **å®Œå…¨ã«åˆ†é›¢æ¸ˆã¿**

#### 2. ç™»éŒ²çª“å£
- **å¾“æ¥­å“¡**: `/admin/users/index.html`ï¼ˆç®¡ç†è€…ãŒç™»éŒ²ï¼‰
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**: `/signup.html`ï¼ˆè‡ªå·±ç™»éŒ²ï¼‰
- âœ… **å®Œå…¨ã«åˆ†é›¢æ¸ˆã¿**

#### 3. ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
- **å¾“æ¥­å“¡**: `/staff/signin.html`ï¼ˆAWS Cognitoï¼‰
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**: `/signin.html`ï¼ˆFirebaseèªè¨¼ï¼‰
- âœ… **å®Œå…¨ã«åˆ†é›¢æ¸ˆã¿**

#### 4. ç®¡ç†ç”»é¢ã§ã®è¡¨ç¤º
- **å¾“æ¥­å“¡**: ç®¡ç†ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**: ç®¡ç†ç”»é¢ã‹ã‚‰é™¤å¤–ã•ã‚Œã‚‹ï¼ˆ`role: 'customer'`ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰
- âœ… **å®Œå…¨ã«åˆ†é›¢æ¸ˆã¿**

---

### âš ï¸ ã¾ã åˆ†é›¢ã•ã‚Œã¦ã„ãªã„é …ç›®

#### 1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«
- **å¾“æ¥­å“¡**: DynamoDB `workers`ãƒ†ãƒ¼ãƒ–ãƒ«
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**: ç¾åœ¨ã‚‚`workers`ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹
- âŒ **åˆ†é›¢ãŒå¿…è¦**

#### 2. ãƒ‡ãƒ¼ã‚¿ä¿å­˜å‡¦ç†
- **å¾“æ¥­å“¡**: `/admin/users/index.html` â†’ Cognito + `workers`ãƒ†ãƒ¼ãƒ–ãƒ«
- **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ**: `/signup.html` â†’ Firebase + `workers`ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆ`clients`ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¤‰æ›´ãŒå¿…è¦ï¼‰
- âŒ **åˆ†é›¢ãŒå¿…è¦**

---

## ğŸ“‹ å¿…è¦ãªä¿®æ­£

### 1. DynamoDB `clients`ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆ
```json
{
  "TableName": "clients",
  "KeySchema": [
    {
      "AttributeName": "id",
      "KeyType": "HASH"
    }
  ],
  "AttributeDefinitions": [
    {
      "AttributeName": "id",
      "AttributeType": "S"
    }
  ],
  "BillingMode": "PAY_PER_REQUEST"
}
```

### 2. Lambdaé–¢æ•°ã«`clients`ãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œã‚’è¿½åŠ 
- `get_clients()`: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸€è¦§å–å¾—
- `create_client()`: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä½œæˆ
- `get_client_detail()`: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè©³ç´°å–å¾—
- `update_client()`: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ›´æ–°
- `delete_client()`: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‰Šé™¤

### 3. `/signup.html`ã§ã®ç™»éŒ²å‡¦ç†ã‚’ä¿®æ­£
- Firebase Authenticationã«ç™»éŒ²ï¼ˆç¾çŠ¶ç¶­æŒï¼‰
- `workers`ãƒ†ãƒ¼ãƒ–ãƒ«ã§ã¯ãªã`clients`ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä¿å­˜

### 4. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®è¿½åŠ 
- `/clients`: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆä¸€è¦§ãƒ»ä½œæˆ
- `/clients/{id}`: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè©³ç´°ãƒ»æ›´æ–°ãƒ»å‰Šé™¤

---

## ğŸ¯ å®Œå…¨åˆ†é›¢å¾Œã®æ§‹é€ 

### å¾“æ¥­å“¡ï¼ˆç¤¾å“¡ï¼‰
```
ç™»éŒ²: /admin/users/index.html
  â†“
AWS Cognito User Pool
  â†“
DynamoDB workersãƒ†ãƒ¼ãƒ–ãƒ«
  - id: W1764552147000
  - cognito_sub: abc123...
  - email: worker@example.com
  - role: staff/sales/admin/developer/master
  - department: æ¸…æƒå“¡
```

### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆãŠå®¢æ§˜ï¼‰
```
ç™»éŒ²: /signup.html
  â†“
Firebase Authentication
  â†“
DynamoDB clientsãƒ†ãƒ¼ãƒ–ãƒ«
  - id: C1764552147000
  - firebase_uid: def456...
  - email: client@example.com
  - name: ãŠå®¢æ§˜å
  - company: ä¼šç¤¾åï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

---

## ğŸ“Š åˆ†é›¢çŠ¶æ³ã¾ã¨ã‚

| é …ç›® | å¾“æ¥­å“¡ | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | åˆ†é›¢çŠ¶æ³ |
|------|--------|------------|---------|
| èªè¨¼ã‚·ã‚¹ãƒ†ãƒ  | AWS Cognito | Firebase | âœ… å®Œäº† |
| ç™»éŒ²çª“å£ | `/admin/users/index.html` | `/signup.html` | âœ… å®Œäº† |
| ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ | `/staff/signin.html` | `/signin.html` | âœ… å®Œäº† |
| ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ« | `workers` | `workers`ï¼ˆè¦å¤‰æ›´ï¼‰ | âŒ æœªå®Œäº† |
| ç®¡ç†ç”»é¢è¡¨ç¤º | è¡¨ç¤ºã•ã‚Œã‚‹ | é™¤å¤–ã•ã‚Œã‚‹ | âœ… å®Œäº† |

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. DynamoDB `clients`ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ
2. Lambdaé–¢æ•°ã«`clients`ãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œã‚’è¿½åŠ 
3. `/signup.html`ã§ã®ç™»éŒ²å‡¦ç†ã‚’`clients`ãƒ†ãƒ¼ãƒ–ãƒ«ã«å¤‰æ›´
4. APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ`/clients`ã‚’è¿½åŠ 
5. æ—¢å­˜ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’`workers`ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰`clients`ãƒ†ãƒ¼ãƒ–ãƒ«ã«ç§»è¡Œ

