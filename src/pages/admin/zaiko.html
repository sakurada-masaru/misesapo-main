@layout('layouts.admin')
@json('data/meta/admin_zaiko_title.json', $title)
@json('data/meta/admin_zaiko_body_class.json', $body_class)

<link rel="stylesheet" href="/css/zaiko.css" />

<main id="main" class="admin-zaiko">
  @include('partials.admin-sidebar')
  
  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  <div class="main-content">
    <!-- ãƒˆãƒƒãƒ—ãƒãƒ¼ -->
    <header class="topbar">
      <div class="topbar-left">
        <h1>åœ¨åº«ç®¡ç†</h1>
      </div>
      <div class="topbar-right">
      </div>
    </header>

    <div class="content-wrapper">
      <div class="zaiko-container">
        <div id="transaction-area">
          <h2>åœ¨åº«ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³</h2>
          <div class="mode-buttons">
            <button id="mode-in" class="active">å…¥åº«ï¼ˆåœ¨åº«ã‚’å¢—ã‚„ã™ï¼‰</button>
            <button id="mode-out" class="inactive">å‡ºåº«ï¼ˆåœ¨åº«ã‚’æ¸›ã‚‰ã™ï¼‰</button>
          </div>
          
          <div class="input-group">
            <label for="product-id">å•†å“ID (QR/ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³ç›¸å½“)</label>
            <input type="text" id="product-id" placeholder="ä¾‹: P001" required>
          </div>
          
          <div class="input-group">
            <label for="quantity">æ•°é‡</label>
            <input type="number" id="quantity" value="1" min="1" required>
          </div>

          <button id="process-button">åœ¨åº«æ›´æ–°ã‚’å®Ÿè¡Œ</button>
          
          <div id="message"></div>
        </div>

        <hr>

        <h2>ğŸ“¦ ç¾åœ¨ã®åœ¨åº«ä¸€è¦§</h2>
        <div class="inventory-grid" id="inventory-grid">
          <!-- ã‚«ãƒ¼ãƒ‰ãŒå‹•çš„ã«è¿½åŠ ã•ã‚Œã‚‹ -->
        </div>
      </div>
    </div>
  </div>

  <!-- å•†å“è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <dialog id="product-detail-dialog" class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modal-product-name">å•†å“è©³ç´°</h3>
        <button type="button" class="modal-close" onclick="document.getElementById('product-detail-dialog').close()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="product-detail-info">
          <div class="detail-item">
            <span class="detail-label">å•†å“ID:</span>
            <span class="detail-value" id="modal-product-id">-</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">å•†å“å:</span>
            <span class="detail-value" id="modal-product-name-text">-</span>
          </div>
          <div class="detail-item">
            <span class="detail-label">ç¾åœ¨ã®åœ¨åº«æ•°:</span>
            <span class="detail-value" id="modal-product-stock">-</span>
          </div>
        </div>
        
        <hr style="margin: 20px 0; border: none; border-top: 1px solid #e5e7eb;">
        
        <div class="modal-transaction-area">
          <h4>åœ¨åº«æ›´æ–°</h4>
          <div class="mode-buttons">
            <button id="modal-mode-in" class="active">å…¥åº«</button>
            <button id="modal-mode-out" class="inactive">å‡ºåº«</button>
          </div>
          <div class="input-group">
            <label for="modal-quantity">æ•°é‡</label>
            <input type="number" id="modal-quantity" value="1" min="1" required>
          </div>
          <button id="modal-process-button" class="btn-process">åœ¨åº«æ›´æ–°ã‚’å®Ÿè¡Œ</button>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline" onclick="document.getElementById('product-detail-dialog').close()">é–‰ã˜ã‚‹</button>
      </div>
    </div>
  </dialog>
</main>

<script src="/js/zaiko.js"></script>