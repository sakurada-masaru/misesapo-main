@layout('layouts.base')
@json('data/meta/recruit_confirm_title.json', $title)
@json('data/meta/recruit_confirm_body_class.json', $body_class)

<!-- 通常ヘッダー -->
<header class="normal-header visible">
  <div class="normal-header-inner">
    <div class="normal-header-logo">
      <a href="/">
        <img src="/images-material/logo_144x144.png" alt="ロゴ" onerror="this.style.display='none'">
      </a>
    </div>
    <nav class="normal-header-nav">
      <a href="/">TOP</a>
      <a href="/recruit.html">求人情報</a>
      <a href="/recruit/privacy.html">採用における個人情報の取り扱いについて</a>
    </nav>
  </div>
</header>

<main id="main" class="recruit-confirm-page">
  <div class="recruit-confirm-container">
    <!-- Header -->
    <div class="recruit-confirm-header">
      <div class="recruit-apply-logo">
        <div class="recruit-logo-square">ミセサポ</div>
        <div class="recruit-logo-text">RECRUIT</div>
      </div>
      <div class="recruit-breadcrumb">
        <span>シート記入</span>
        <span class="breadcrumb-separator">&gt;</span>
        <span class="breadcrumb-current">内容確認</span>
        <span class="breadcrumb-separator">&gt;</span>
        <span>応募完了</span>
      </div>
    </div>

    <!-- Main Content -->
    <div class="recruit-confirm-content">
      <h1 class="recruit-confirm-title">内容のご確認の上、送信してください。</h1>
      
      <div class="recruit-confirm-form">
        <div class="recruit-confirm-item">
          <label class="recruit-confirm-label">お名前</label>
          <div class="recruit-confirm-value" id="confirm-name">-</div>
        </div>
        <div class="recruit-confirm-item">
          <label class="recruit-confirm-label">ふりがな</label>
          <div class="recruit-confirm-value" id="confirm-furigana">-</div>
        </div>
        <div class="recruit-confirm-item">
          <label class="recruit-confirm-label">電話番号</label>
          <div class="recruit-confirm-value" id="confirm-phone">-</div>
        </div>
        <div class="recruit-confirm-item">
          <label class="recruit-confirm-label">メールアドレス</label>
          <div class="recruit-confirm-value" id="confirm-email">-</div>
        </div>
      </div>

      <div class="recruit-confirm-actions">
        <form id="recruit-confirm-form" action="/recruit/apply/complete.html" method="post">
          <input type="hidden" name="name" id="hidden-name" />
          <input type="hidden" name="furigana" id="hidden-furigana" />
          <input type="hidden" name="phone" id="hidden-phone" />
          <input type="hidden" name="email" id="hidden-email" />
          <input type="hidden" name="job_type" id="hidden-job-type" />
          <button type="submit" class="recruit-confirm-submit">送信する</button>
        </form>
        <button type="button" class="recruit-confirm-back" onclick="history.back()">戻って修正</button>
      </div>
    </div>
  </div>

  <style>
    .recruit-confirm-page {
      background: #ffffff;
      min-height: 100vh;
      padding: 40px 24px;
    }
    .recruit-confirm-container {
      max-width: 800px;
      margin: 0 auto;
    }
    .recruit-confirm-header {
      margin-bottom: 48px;
    }
    .recruit-apply-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }
    .recruit-logo-square {
      width: 48px;
      height: 48px;
      background: var(--primary);
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.875rem;
      border-radius: 8px;
    }
    .recruit-logo-text {
      font-size: 1rem;
      color: var(--primary);
      font-weight: 600;
    }
    .recruit-breadcrumb {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.875rem;
      color: #6b7280;
    }
    .breadcrumb-separator {
      color: var(--primary);
    }
    .breadcrumb-current {
      color: var(--primary);
      font-weight: 600;
    }
    .recruit-confirm-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: #111827;
      margin-bottom: 32px;
      text-align: center;
    }
    .recruit-confirm-form {
      background: #f9fafb;
      border-radius: 8px;
      padding: 32px;
      margin-bottom: 32px;
    }
    .recruit-confirm-item {
      margin-bottom: 24px;
    }
    .recruit-confirm-item:last-child {
      margin-bottom: 0;
    }
    .recruit-confirm-label {
      display: block;
      font-size: 0.875rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 8px;
    }
    .recruit-confirm-value {
      font-size: 1rem;
      color: #111827;
      padding: 12px;
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
    }
    .recruit-confirm-actions {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    .recruit-confirm-submit,
    .recruit-confirm-back {
      width: 100%;
      padding: 16px;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    .recruit-confirm-submit {
      background: var(--primary);
      color: #ffffff;
    }
    .recruit-confirm-submit:hover {
      background: #ff6b9d;
      transform: translateY(-2px);
    }
    .recruit-confirm-back {
      background: var(--primary);
      color: #ffffff;
      opacity: 0.8;
    }
    .recruit-confirm-back:hover {
      opacity: 1;
      transform: translateY(-2px);
    }
    /* コピーライトスタイル */
    body.page-recruit-confirm .site-footer,
    body.page-recruit-complete .site-footer,
    body.page-recruit-privacy .site-footer {
      background: #FF679C;
      color: #ffffff;
    }
    body.page-recruit-confirm .site-footer p,
    body.page-recruit-complete .site-footer p,
    body.page-recruit-privacy .site-footer p {
      color: #ffffff;
    }
  </style>
  <link rel="stylesheet" href="/css/header.css">
  <script>
    // 求人ページではインクルードヘッダーを削除し、通常ヘッダーを常時表示
    document.addEventListener('DOMContentLoaded', function() {
      // インクルードヘッダーを削除
      const defaultHeader = document.getElementById('default-header-wrapper');
      if (defaultHeader) {
        defaultHeader.remove();
      }
      const siteHeader = document.querySelector('.site-header');
      if (siteHeader) {
        siteHeader.remove();
      }
      
      // 通常ヘッダーを常時表示
      const normalHeader = document.querySelector('.normal-header');
      if (normalHeader) {
        normalHeader.classList.add('visible');
        // スクロールイベントでクラスを削除しないようにする
        const originalRemove = normalHeader.classList.remove;
        normalHeader.classList.remove = function(...args) {
          if (args[0] !== 'visible') {
            originalRemove.apply(this, args);
          }
        };
      }
    });
  </script>
  <script src="/js/header.js"></script>

  <script>
    // URLパラメータからフォームデータを取得して表示
    (function() {
      const urlParams = new URLSearchParams(window.location.search);
      const name = urlParams.get('name') || '';
      const furigana = urlParams.get('furigana') || '';
      const phone = urlParams.get('phone') || '';
      const email = urlParams.get('email') || '';
      const jobType = urlParams.get('job_type') || '';

      // 表示
      document.getElementById('confirm-name').textContent = name || '-';
      document.getElementById('confirm-furigana').textContent = furigana || '-';
      document.getElementById('confirm-phone').textContent = phone || '-';
      document.getElementById('confirm-email').textContent = email || '-';

      // 隠しフィールドに設定
      document.getElementById('hidden-name').value = name;
      document.getElementById('hidden-furigana').value = furigana;
      document.getElementById('hidden-phone').value = phone;
      document.getElementById('hidden-email').value = email;
      document.getElementById('hidden-job-type').value = jobType;
    })();
  </script>
</main>

