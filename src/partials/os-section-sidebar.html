<!-- OS課専用サイドバー -->
<aside class="sidebar" id="admin-sidebar">
  <div class="sidebar-header">
    <a href="/staff/mypage" class="logo-link">
      <img src="/images/logo_144x144.png" alt="ミセサポ" class="logo-img" />
      <span class="logo-text">ミセサポ</span>
    </a>
  </div>

  <!-- ロール表示 -->
  <div class="sidebar-role">
    <span class="role-badge" id="sidebar-role-badge">OS課</span>
  </div>

  <nav class="sidebar-nav">
    <a href="/staff/mypage" class="nav-item active" data-page="mypage">
      <i class="fas fa-user-circle"></i>
      <span class="nav-label">マイページ</span>
    </a>
    <a href="/staff/work-list" class="nav-item" data-page="work-list">
      <i class="fas fa-tasks"></i>
      <span class="nav-label">作業一覧</span>
    </a>
    <a href="/staff/reports/new" class="nav-item" data-page="reports-new">
      <i class="fas fa-file-alt"></i>
      <span class="nav-label">レポート作成</span>
    </a>
    <a href="/staff/schedule" class="nav-item" data-page="schedule">
      <i class="fas fa-calendar-alt"></i>
      <span class="nav-label">スケジュール</span>
    </a>
    <a href="/wiki" class="nav-item" data-page="wiki">
      <i class="fas fa-book-open"></i>
      <span class="nav-label">WIKI</span>
    </a>
    <a href="/cleaning-manual" class="nav-item" data-page="cleaning-manual">
      <i class="fas fa-book"></i>
      <span class="nav-label">清掃マニュアル</span>
    </a>
    <a href="/staff/announcements" class="nav-item" data-page="announcements">
      <i class="fas fa-bullhorn"></i>
      <span class="nav-label">業務連絡</span>
    </a>
    <div class="nav-divider"></div>
    <a href="/staff/mypage/settings" class="nav-item" data-page="settings">
      <i class="fas fa-cog"></i>
      <span class="nav-label">設定</span>
    </a>
    <button class="nav-item logout-btn" id="logout-btn" onclick="staffLogout()">
      <i class="fas fa-sign-out-alt"></i>
      <span class="nav-label">ログアウト</span>
    </button>
  </nav>

  <button class="sidebar-toggle" id="sidebar-toggle" aria-label="サイドバーを開閉">
    <i class="fas fa-chevron-left"></i>
  </button>
</aside>

<script>
  // 従業員用ログアウト関数（グローバル）
  function staffLogout() {
    // Cognitoからログアウト
    if (window.CognitoAuth && typeof window.CognitoAuth.logout === 'function') {
      window.CognitoAuth.logout();
    }
    // ローカルストレージをクリア
    localStorage.removeItem('cognito_user');
    localStorage.removeItem('misesapo_auth');
    localStorage.removeItem('cognito_id_token');
    localStorage.removeItem('cognito_access_token');
    localStorage.removeItem('cognito_refresh_token');
    // 従業員ログイン画面にリダイレクト
    window.location.href = '/staff/signin.html';
  }
</script>

