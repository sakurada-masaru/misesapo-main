<!-- モバイルメニューボタン -->
<button class="mobile-menu-button" id="mobile-menu-button" aria-label="メニューを開く">
  <i class="fas fa-bars"></i>
</button>

<!-- サイドバーオーバーレイ -->
<div class="sidebar-overlay" id="sidebar-overlay"></div>

<!-- サイドバー -->
<aside class="sidebar" id="admin-sidebar">
  <div class="sidebar-header">
    <a href="/admin/dashboard" class="logo-link">
      <img src="/images/logo_144x144.png" alt="ミセサポ" class="logo-img" />
      <span class="logo-text">ミセサポ</span>
    </a>
  </div>

  <!-- ロール表示 -->
  <div class="sidebar-role">
    <span class="role-badge" id="sidebar-role-badge">管理者</span>
  </div>

  <nav class="sidebar-nav">
    <!-- マイページ（目立たせる） -->
    <a href="/staff/mypage" class="nav-item nav-item-mypage" data-page="mypage" id="sidebar-mypage-link">
      <i class="fas fa-user-circle"></i>
      <span class="nav-label">マイページ</span>
    </a>
    <div class="nav-divider"></div>
    <!-- 管理メニュー -->
    <a href="/admin/dashboard" class="nav-item" data-page="dashboard">
      <i class="fas fa-history"></i>
      <span class="nav-label">アクティビティ</span>
    </a>
    <a href="/admin/schedules/" class="nav-item" data-page="schedules">
      <i class="fas fa-calendar-alt"></i>
      <span class="nav-label">スケジュール</span>
    </a>
    <a href="/admin/customers/" class="nav-item" data-page="customers">
      <i class="fas fa-store"></i>
      <span class="nav-label">顧客管理</span>
    </a>
    <a href="/admin/reports/" class="nav-item" data-page="reports">
      <i class="fas fa-file-alt"></i>
      <span class="nav-label">レポート</span>
    </a>
    <a href="/admin/estimates/" class="nav-item" data-page="estimates">
      <i class="fas fa-file-invoice-dollar"></i>
      <span class="nav-label">見積もり</span>
    </a>
    <a href="/admin/orders" class="nav-item" data-page="orders">
      <i class="fas fa-shopping-cart"></i>
      <span class="nav-label">発注管理</span>
    </a>
    <a href="/admin/partners" class="nav-item" data-page="partners">
      <i class="fas fa-handshake"></i>
      <span class="nav-label">パートナー企業</span>
    </a>
    <a href="/admin/users/" class="nav-item" data-page="users">
      <i class="fas fa-users"></i>
      <span class="nav-label">ユーザー</span>
    </a>
    <a href="/admin/attendance/errors" class="nav-item" data-page="attendance-errors">
      <i class="fas fa-exclamation-triangle"></i>
      <span class="nav-label">出退勤エラー</span>
    </a>
    <a href="/admin/services/" class="nav-item" data-page="services">
      <i class="fas fa-cog"></i>
      <span class="nav-label">サービス管理</span>
    </a>
    <a href="/admin/analytics/" class="nav-item" data-page="analytics">
      <i class="fas fa-chart-bar"></i>
      <span class="nav-label">分析</span>
    </a>
    <a href="/admin/images/" class="nav-item" data-page="images">
      <i class="fas fa-images"></i>
      <span class="nav-label">メディア</span>
    </a>
    <a href="/admin/zaiko" class="nav-item" data-page="zaiko">
      <i class="fas fa-boxes"></i>
      <span class="nav-label">在庫管理</span>
    </a>
    <a href="/admin/announcements" class="nav-item" data-page="announcements">
      <i class="fas fa-bullhorn"></i>
      <span class="nav-label">業務連絡</span>
    </a>
    <div class="nav-divider"></div>
    <a href="/wiki" class="nav-item" data-page="wiki">
      <i class="fas fa-book-open"></i>
      <span class="nav-label">WIKI</span>
    </a>
    <a href="/admin/sitemap" class="nav-item" data-page="sitemap">
      <i class="fas fa-sitemap"></i>
      <span class="nav-label">サイトマップ</span>
    </a>
    <button class="nav-item nav-item-button" onclick="staffLogout()">
      <i class="fas fa-sign-out-alt"></i>
      <span class="nav-label">ログアウト</span>
    </button>
  </nav>

  <!-- トグルボタン -->
  <button class="sidebar-toggle" id="sidebar-toggle" aria-label="サイドバーを開閉">
    <i class="fas fa-chevron-left"></i>
  </button>
</aside>

<script>
  // 従業員用ログアウト関数（グローバル）
  function staffLogout() {
    // Cognitoからログアウト
    if (window.CognitoAuth && typeof window.CognitoAuth.logout === 'function') {
      window.CognitoAuth.logout();
    }
    // ローカルストレージをクリア
    localStorage.removeItem('cognito_user');
    localStorage.removeItem('misesapo_auth');
    localStorage.removeItem('cognito_id_token');
    localStorage.removeItem('cognito_access_token');
    localStorage.removeItem('cognito_refresh_token');
    // 従業員ログイン画面にリダイレクト
    window.location.href = '/staff/signin.html';
  }
</script>

