# Handoff Protocol (連携プロトコル)

このディレクトリ(`handoff/`)は、**マサル (User)**、**Codex (AI Editor)**、**Jamie (AI Agent)** の3者が、タスクやコンテキストをスムーズに引き継ぐための共有スペースです。

## 役割分担 (Roles)

| 名前 | 役割 | 主な担当領域 |
| :--- | :--- | :--- |
| **マサル (User)** | **指揮・承認 (Commander)** | 仕様決定、最終承認、方向性の指示。 |
| **Codex** | **実装・修正 (Builder)** | コードの記述、リファクタリング、単体テスト作成。 |
| **Jamie (Me)** | **環境・検証 (Operator)** | コマンド実行、ブラウザ検証、ファイル操作、環境構築。 |

## ファイルの用途

1.  **`STATUS.md` (バトン)**
    *   **最重要ファイル**。今「誰が」「何を」しているかを記述します。
    *   タスクを渡すときは、ここに「次にお願いすること」を書いて保存します。

3.  **`DECISIONS.md` (意思決定ログ)**
    *   マサルさんが決定した仕様やルールを記録します。「なぜそう決めたか」を忘れないために使います。

4.  **`CHAT.md` (会議室)**
    *   3者への一斉指示や雑談、クイックなQ&Aを行う場所。
    *   `@Codex` や `@Jamie` と書くことで指名できます。

5.  **`CHANGES.md` (変更ログ)**
    *   どのファイルをどう変更したかの記録。主にCodexが記入します。

## シームレスな連携フロー (Workflow)

意見交換やタスク進行をスムーズにするため、以下のルールで運用します。

### 1. 意見・アイデアの共有 (Brainstorming)
*   **場所**: `SCRATCHPAD.md`
*   **ルール**:
    *   思いついたアイデア、懸念点、エラーログは即座にここに貼り付ける。
    *   マサル・Codex・Jamieは、作業前に必ずここを見て、新しい書き込みがないか確認する。
    *   議論がまとまったら、決定事項を `DECISIONS.md` に移して、ここはクリアにする。

### 2. 開発サイクル (Dev Cycle)
1.  **指示 (Plan)**: マサルが `TODO.md` にタスクを追加。`STATUS.md` で担当者を指名。
2.  **実装 (Code)**: Codex がコードを書く。変更点を `CHANGES.md` に記入。
3.  **検証 (Verify)**: Jamie が環境で動作確認・テスト実行。
    *   **OKの場合**: `STATUS.md` を「承認待ち」にしてマサルへ報告。
    *   **NGの場合**: エラーログを `SCRATCHPAD.md` に貼り、`STATUS.md` を「修正待ち」にして Codex へ戻す。

### 3. 役割の詳細 (Roles Detail)
*   **マサル (User)**: 「何を作るか」を決める (Visionary)。最終決定権を持つ。
*   **Codex (Developer)**: 実装の専門家。コードを書くことに集中する。
*   **Jamie (Director & Ops)**: 進行管理とドキュメント整備の責任者。
    *   `handoff` 内の全ファイル管理、タスクの切り出し、環境検証を担当する。

### 4. 合図 (Signals)
*   **「クロスチェック (Cross Check)」**
    *   マサルが発する重要シグナル。
    *   これを聞いたら、全員必ず `handoff/` 内の全ファイル（特に `SCRATCHPAD.md` や `STATUS.md`）を確認する。
    *   重要な共有事項や方針転換がある合図。

